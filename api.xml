<?xml version="1.0"?>
<!--
  Don't edit this file.
  This file contains NetUP UTM5 URFA function
  input and output definitions.
  Copyright (c) 2001-2008 NetUP Inc.
-->
<urfa>
  <!--
    SYSTEM USER FUNCTIONS DEFINITION STARTS HERE
  -->

  <function name="rpcf_liburfa_list" id="0x0040">
    <input/>
    <output>
      <integer name="size" />
      <for name="i" from="0" count="size">
        <string name="module" array_index="i" />
        <string name="version" array_index="i" />
        <string name="path" array_index="i" />
      </for>
    </output>
  </function>

  <function name="rpcf_liburfa_symtab" id="0x0044">
    <input/>
    <output>
      <integer name="size" />
      <for name="i" from="0" count="size">
        <integer name="id" array_index="i" />
        <string name="name" array_index="i" />
        <string name="module" array_index="i" />
      </for>
    </output>
  </function>

  <function name="rpcf_core_version" id="0x0045">
    <input/>
    <output>
      <string name="core_version"/>
    </output>
  </function>

  <function name="rpcf_core_build" id="0x0046">
    <input/>
    <output>
      <string name="build" />
    </output>
  </function>

    <function name="rpcf_get_stats" id="0x0047">
        <input>
            <integer name="type" />
        </input>
      <output>
          <integer name="status" />
          <integer name="uptime" />
          <integer name="uptime_last" />
          <integer name="events" />
          <integer name="events_last" />
          <integer name="errors" />
          <integer name="errors_last" />
      </output>
    </function>

  <!-- TODO: function 0x0052 description -->

  <function name="rpcf_get_new_secret" id="0x0060">
    <input>
      <integer name="secret_size" default="8"/>
    </input>
    <output>
      <string name="error"/>
      <string name="secret"/>
    </output>
  </function>

  <function name="rpcf_get_system_currency" id="0x0101">
    <input/>
    <output>
        <integer name="currency_id" />
    </output>
  </function>

  <!-- TODO: function 0x1005 description -->

    <function name="rpcf_get_ippool" id="0x1066">
        <input>
            <integer name="id" />
        </input>
        <output>
            <integer name="id" />
            <string name="name" />
            <ip_address name="address" />
            <integer name="mask" />
        </output>
    </function>

    <function name="rpcf_get_ippools_list" id="0x1067">
        <input>
        </input>
        <output>
            <integer name="size" />
            <for name="i" from="0" count="size">
              <integer name="id" array_index="i" />
              <string name="name" array_index="i" />
              <ip_address name="address" array_index="i" />
              <integer name="mask" array_index="i" />
            </for>
        </output>
    </function>

    <function name="rpcf_add_ippool" id="0x1068">
        <input>
            <integer name="id" />
            <string name="name" />
            <integer name="address" />
            <integer name="mask" />
        </input>
        <output>

        </output>
    </function>

    <function name="rpcf_edit_ippool" id="0x1069">
        <input>
            <integer name="id" />
            <string name="name" />
            <ip_address name="address" />
            <integer name="mask" />
        </input>
        <output>

        </output>
    </function>

    <function name="rpcf_del_ippool" id="0x1064">
        <input>
            <integer name="id" />
            <string name="name" />
            <ip_address name="address" />
            <integer name="mask" />
        </input>
        <output>
        </output>
    </function>

    <function name="rpcf_radius_get_active_sessions" id="0x1070">
      <input>
      </input>
      <output>
        <integer name="traffic_sessions_count"/>
        <for name="i" from="0" count="traffic_sessions_count">
          <integer name="traf_id" array_index="i"/>
          <string name="traf_acct_session_id" array_index="i"/>
          <string name="traf_user_name" array_index="i"/>
          <ip_address name="traf_nas_ip" array_index="i"/>
          <integer name="traf_recv_date" array_index="i"/>
          <integer name="traf_last_update_date" array_index="i"/>
          <ip_address name="framed_ip4" array_index="i"/>
          <ip_address name="framed_ip6" array_index="i"/>
        </for>
        <integer name="tel_sessions_count"/>
        <for name="i" from="0" count="tel_sessions_count">
          <integer name="tel_id" array_index="i"/>
          <string name="tel_acct_session_id" array_index="i"/>
          <string name="tel_user_name" array_index="i"/>
          <ip_address name="tel_nas_ip" array_index="i"/>
          <integer name="tel_recv_date" array_index="i"/>
          <integer name="tel_last_update_date" array_index="i"/>
          <string name="called_station_id" array_index="i"/>
          <string name="calling_station_id" array_index="i"/>
        </for>
      </output>
    </function>

    <function name="rpcf_radius_disconnect_session" id="0x1071">
      <input>
        <string name="acct_session_id"/>
        <ip_address name="nas_ip"/>
      </input>
      <output>
        <integer name="error_code"/>
      </output>
    </function>

    <function name="rpcf_radius_drop_session" id="0x1072">
      <input>
        <string name="acct_session_id"/>
        <ip_address name="nas_ip"/>
      </input>
      <output>
        <integer name="error_code"/>
      </output>
    </function>

    <function name="rpcf_radius_get_attributes_list" id="0x1065">
      <input/>
      <output>
        <integer name="objects_count" />
        <for name="i" from="0" count="objects_count">
          <integer name="object_id" array_index="i" />
          <integer name="object_type" array_index="i" />
          <integer name="attrs_count" array_index="i" />
          <for name="j" from="0" count="attrs_count">
            <integer name="vendor_type" array_index="i,j" />
            <integer name="attr_code" array_index="i,j" />
            <integer name="attr_data_type" array_index="i,j" />
            <if variable="attr_data_type" value="1" condition="eq">
              <integer name="attr_data_int" array_index="i,j" />
            </if>
            <if variable="attr_data_type" value="2" condition="eq">
              <string name="attr_data_string" array_index="i,j" />
            </if>
            <if variable="attr_data_type" value="3" condition="eq">
              <integer name="attr_data_ip" array_index="i,j" />
            </if>
          </for>
        </for>
      </output>
    </function>

<!--
  RPCF_SEARCH_CARDS FUNCTION DESCRIPTION
__________________________________________
"criteria_id" can get the following values:
1  :   LIKE
3  :   =
4  :   <>
7  :   >
8  :   <
9  :   >=
10  :   <=
11  :   NOT LIKE
_______________________________________
"what_id" can get the following values:
1: id
2: pool_id
3: secret
4: balance
5: currency
6: expiration
7: service_id
8: is_used
-->
  <function name="rpcf_search_cards" id="0x1201">
    <input>
      <integer name="select_type" />
      <integer name="patterns_count" default="size(what_id)"/>
      <for name="i" from="0" count="size(what_id)">
        <integer name="what_id" array_index="i" />                        <!--  WHAT_ID     -->
        <integer name="criteria_id" array_index="i" />                    <!--  CRITERIA_ID -->
        <string name="pattern" array_index="i" />
      </for>
    </input>
    <output>
      <integer name="cards_size" />
      <for name="i" from="0" count="cards_size">
        <integer name="card_id"  array_index="i" />
        <integer name="pool_id"  array_index="i" />
        <string name="secret"  array_index="i" />
        <double name="balance"  array_index="i" />
        <integer name="currency"  array_index="i" />
        <integer name="expire"  array_index="i" />
        <integer name="days"  array_index="i" />
        <integer name="is_used"  array_index="i" />
        <integer name="tp_id" array_index="i" />
      </for>
    </output>
  </function>

  <function name="rpcf_search_users_lite" id="0x1202">
    <input>
      <string name="login" />
      <string name="email" />
      <string name="fname" />
    </input>
    <output>
      <integer name="success" />
      <integer name="total" />
      <integer name="show_count" />
      <if variable="show_count" value="0" condition="ne">
        <for name="i" from="0" count="show_count">
          <integer name="id" array_index="i" />
          <string name="login" array_index="i" />
          <string name="email" array_index="i" />
          <string name="name" array_index="i" />
        </for>
      </if>
    </output>
  </function>

<!--
  rpcf_search_users_new FUNCTION DESCRIPTION

__________________________________________
"criteria_id" can get the following values:
1  :   LIKE
3  :   =
4  :   <>
7  :   >
8  :   <
9  :   >=
10  :   <=
11  :   NOT LIKE
_______________________________________
"what_id" can get the following values:
1  :   User ID
2  :   User login
3  :   Basic account
4  :   Accounting period id
5  :   Full name
6  :   Create date
7  :   Last change date
8  :   Who create
9  :   Who change
10  :   Is legal
11  :   Juridical address
12  :   Actual address
13  :   Work phone
14  :   Home telephone
15  :   Mobile telephone
16  :   Web page
17  :   ICQ number
18  :   Tax number
19  :   KPP number
21  :   House id
22  :   Flat number
23  :   Entrance
24  :   Floor
25  :   Email
26  :   Passport
28  :   IP
30  :   Group ID
31  :   Balance
32  :   Personal manager
33  :   Connect date
34  :   Comments
35  :   Internet status
36  :   Tariff ID
37  :   Service ID
38  :   Slink ID
39  :   TPLink ID
40  :   District
41  :   Building
42  :   MAC
43  :   Login in service link
44  :   External ID
  
-->
  <function name="rpcf_search_users_new" id="0x1206">
    <input>
      <integer name="poles_count" default="size(pole_code_array)" />
      <for name="i" from="0" count="size(pole_code_array)">
        <integer name="pole_code_array" array_index="i" />
      </for>
      <integer name="select_type" />
      <integer name="patterns_count" default="size(what_id)"/>
      <for name="i" from="0" count="size(what_id)">
        <integer name="what_id" array_index="i" />                        
        <integer name="criteria_id" array_index="i" />                    
        <if variable="what_id" value="33" condition="eq" comment="date">
            <integer name="data_pattern" array_index="i" />
        </if>
        <if variable="what_id" value="6" condition="eq" comment="date">
            <integer name="data_pattern" array_index="i" />
        </if>
        <if variable="what_id" value="7" condition="eq" comment="date">
            <integer name="data_pattern" array_index="i" />
        </if>
        <if variable="what_id" value="33" condition="ne" >
            <if variable="what_id" value="6" condition="ne">
                <if variable="what_id" value="7" condition="ne">
                    <string name="pattern" array_index="i" />
                </if>
            </if>
        </if>
      </for>
    </input>
    <output>
      <integer name="user_data_size" />
      <for name="i" from="0" count="user_data_size">
        <integer name="user_id"  array_index="i" />
        <string name="login"  array_index="i" />
        <integer name="basic_account" array_index="i" />
        <string name="full_name"  array_index="i" />
        <integer name="is_blocked"  array_index="i" />
        <double name="balance"  array_index="i" />
        <integer name="ip_address_size" />
        <set dst="ip_address_size_array" src="ip_address_size" dst_index="i" /> 
        <for name="j" from="0" count="ip_address_size">
          <integer name="ip_group_size" />
          <set dst="ip_group_size_array" src="ip_group_size" dst_index="i,j" /> 
          <for name="x" from="0" count="ip_group_size">
            <integer name="type" array_index="i,j,x" />
            <ip_address name="ip" array_index="i,j,x" />
            <integer name="mask" array_index="i,j,x" />
          </for>
        </for>
        <for name="z" from="0" count="size(pole_code_array)">
          <set dst="pole_code" src="pole_code_array" src_index="z"/>
          <if variable="pole_code" value="4" condition="eq">
            <integer name="discount_period_id" array_index="i" />
          </if>
          <if variable="pole_code" value="6" condition="eq">
            <integer name="create_date" array_index="i" />
          </if>
          <if variable="pole_code" value="7" condition="eq">
            <integer name="last_change_date" array_index="i" />
          </if>
          <if variable="pole_code" value="8" condition="eq">
            <integer name="who_create" array_index="i" />
          </if>
          <if variable="pole_code" value="9" condition="eq">
            <integer name="who_change" array_index="i" />
          </if>
          <if variable="pole_code" value="10" condition="eq">
            <integer name="is_juridical" array_index="i" />
          </if>
          <if variable="pole_code" value="11" condition="eq">
            <string name="juridical_address" array_index="i" />
          </if>
          <if variable="pole_code" value="12" condition="eq">
            <string name="actual_address" array_index="i" />
          </if>
          <if variable="pole_code" value="13" condition="eq">
            <string name="work_telephone" array_index="i" />
          </if>
          <if variable="pole_code" value="14" condition="eq">
            <string name="home_telephone" array_index="i" />
          </if>
          <if variable="pole_code" value="15" condition="eq">
            <string name="mobile_telephone" array_index="i" />
          </if>
          <if variable="pole_code" value="16" condition="eq">
            <string name="web_page" array_index="i" />
          </if>
          <if variable="pole_code" value="17" condition="eq">
            <string name="icq_number" array_index="i" />
          </if>
          <if variable="pole_code" value="18" condition="eq">
            <string name="tax_number" array_index="i" />
          </if>
          <if variable="pole_code" value="19" condition="eq">
            <string name="kpp_number" array_index="i" />
          </if>
          <if variable="pole_code" value="21" condition="eq">
            <integer name="house_id" array_index="i" />
          </if>
          <if variable="pole_code" value="22" condition="eq">
            <string name="flat_number" array_index="i" />
          </if>
          <if variable="pole_code" value="23" condition="eq">
            <string name="entrance" array_index="i" />
          </if>
          <if variable="pole_code" value="24" condition="eq">
            <string name="floor" array_index="i" />
          </if>
          <if variable="pole_code" value="25" condition="eq">
            <string name="email" array_index="i" />
          </if>
          <if variable="pole_code" value="26" condition="eq">
            <string name="passport" array_index="i" />
          </if>
          <if variable="pole_code" value="40" condition="eq">
            <string name="district" array_index="i" />
          </if>
          <if variable="pole_code" value="41" condition="eq">
            <string name="building" array_index="i" />
          </if>
          <if variable="pole_code" value="44" condition="eq">
            <string name="external_id" array_index="i" />
          </if>
        </for> 
      </for>
    </output>
  </function>

  <function name="rpcf_get_users_list" id="0x2044">
    <input>
      <integer name="from"/>
      <integer name="to" />
      <integer name="card_user" default="0"/>
    </input>
    <output>
      <integer name="cnt" />
      <for name="i" from="0" count="cnt">
        <integer name="user_id_array" array_index="i"/>
        <string name="login_array" array_index="i"/>
        <integer name="basic_account" array_index="i"/>
        <string name="full_name" array_index="i" />
        <integer name="is_blocked" array_index="i" />
        <double name="balance" array_index="i" />
        <integer name="ip_adr_size" />
        <set dst="ip_adr_size_array" src="ip_adr_size" dst_index="i" /> 
        <for name="j" from="0" count="ip_adr_size">
          <integer name="group_size" />
          <set dst="group_size_array" src="group_size" dst_index="i,j" />
          <for name="x" from="0" count="group_size">
            <ip_address name="ip_address" array_index="i,j,x"/>
            <integer name="mask" array_index="i,j,x" />
            <integer name="group_type" array_index="i,j,x" />
          </for>
        </for>
        <integer name="user_int_status" array_index="i" />
      </for>
    </output>
  </function>

  <function name="rpcf_change_intstat_for_user" id="0x2003">
    <input>
      <integer name="user_id" />
      <integer name="need_block" />
    </input>
    <output/>
  </function>

  <function name="rpcf_add_user" id="0x2005">
    <input>
      <integer name="user_id" default="0"/>
      <string name="login"/>
      <string name="password"/>
      <string name="full_name" default=""/>
      <if variable="user_id" value="0" condition="eq">
        <integer name="unused" default="0"/>
      </if>
      <integer name="is_juridical" default="0"/>
      <string name="jur_address" default=""/>
      <string name="act_address" default=""/>
      <string name="flat_number" default=""/>
      <string name="entrance" default=""/>
      <string name="floor" default=""/>
      <string name="district" default=""/>
      <string name="building" default=""/>
      <string name="passport" default=""/>
      <integer name="house_id" default="0"/>
      <string name="work_tel" default=""/>
      <string name="home_tel" default=""/>
      <string name="mob_tel" default=""/>
      <string name="web_page" default=""/>
      <string name="icq_number" default=""/>
      <string name="tax_number" default=""/>
      <string name="kpp_number" default=""/>
      <string name="email" default=""/>
      <integer name="bank_id" default="0"/>
      <string name="bank_account" default=""/>
      <string name="comments" default=""/>
      <string name="personal_manager" default=""/>
      <integer name="connect_date" default="0"/>
      <integer name="is_send_invoice" default="0"/>
      <integer name="advance_payment" default="0"/>
      <integer name="parameters_count" default="size(parameter_value)"/>
      <for name="i" from="0" count="size(parameter_value)">
        <integer name="parameter_id" array_index="i"/>
        <string name="parameter_value" array_index="i"/>
      </for>
    </input>
    <output>
      <integer name="user_id"/>
      <string name="error_msg"/>
      <if variable="user_id" value="0" condition="eq">
        <error code="10" comment="unable to add or edit user"/>
      </if>
      <if variable="user_id" value="-1" condition="eq">
        <error code="10" comment="unable to add user, probably login exists"/>
      </if>
    </output>
  </function>

  <function name="rpcf_get_userinfo" id="0x2006">
    <input>
      <integer name="user_id"/>
    </input>
    <output>
      <integer name="user_id"/>
      <if variable="user_id" value="0" condition="eq">
        <error code="10" comment="user not found"/>
      </if>
      <integer name="accounts_count"/>
      <for name="i" from="0" count="accounts_count">
        <integer name="account_id_array" array_index="i"/>
        <string name="account_name_array" array_index="i"/>
      </for>
      <string name="login"/>
      <string name="password"/>
      <integer name="basic_account"/>
      <string name="full_name"/>
      <integer name="create_date"/>
      <integer name="last_change_date"/>
      <integer name="who_create"/>
      <integer name="who_change"/>
      <integer name="is_juridical"/>
      <string name="jur_address"/>
      <string name="act_address"/>
      <string name="work_tel"/>
      <string name="home_tel"/>
      <string name="mob_tel"/>
      <string name="web_page"/>
      <string name="icq_number"/>
      <string name="tax_number"/>
      <string name="kpp_number"/>
      <integer name="bank_id"/>
      <string name="bank_account"/>
      <string name="comments"/>
      <string name="personal_manager"/>
      <integer name="connect_date"/>
      <string name="email"/>
      <integer name="is_send_invoice"/>
      <integer name="advance_payment"/>
      <integer name="house_id"/>
      <string name="flat_number"/>
      <string name="entrance"/>
      <string name="floor"/>
      <string name="district"/>
      <string name="building"/>
      <string name="passport"/>
      <integer name="parameters_size"/>
      <for name="i" from="0" count="parameters_size">
        <integer name="parameter_id" array_index="i" />
        <string name="parameter_value" array_index="i" />
      </for>
    </output>
  </function>

  <function name="rpcf_get_login_for_slink" id="0x200d">
    <input>
      <integer name="slink_id" />
    </input>
    <output>
      <string name="user_data_full_login" />
    </output>
  </function>

  <function name="rpcf_remove_user" id="0x200e">
    <input>
      <integer name="user_id" />
    </input>
    <output>
      <integer name="result" />
    </output>
  </function>

  <function name="rpcf_get_users_count" id="0x2011">
    <input>
      <integer name="card_user" default="0"/>
    </input>
    <output>
      <integer name="count" />
    </output>
  </function>

  <function name="rpcf_get_user_contacts" id="0x2021">
    <input>
      <integer name="user_id" />
    </input>
    <output>
      <integer name="size" />
      <for name="i" from="0" count="size">
        <integer name="id" array_index="i" />
        <string name="person" array_index="i" />
        <string name="descr" array_index="i" />
        <string name="contact" array_index="i" />
        <string name="email" array_index="i" />
        <integer name="email_notify" array_index="i" />
        <string name="short_name" array_index="i" />
        <string name="birthday" array_index="i" />
        <integer name="id_exec_man" array_index="i" />
      </for>
    </output>
  </function>

  <function name="rpcf_put_user_contact" id="0x2022">
    <input>
      <integer name="id" />
      <integer name="user_id" />
      <string name="person" />
      <string name="descr" />
      <string name="contact" />
      <string name="email" />
      <integer name="email_notify" />
      <string name="short_name" />
      <string name="birthday" />
      <integer name="id_exec_man" />
    </input>
    <output/>
  </function>

  <function name="rpcf_del_user_contact" id="0x2023">
    <input>
      <integer name="id" />
    </input>
  </function>

  <function name="rpcf_get_user_log" id="0x2136">
    <input>
      <integer name="user_id" />
      <integer name="tstart" />
      <integer name="tstop" />
      <integer name="group_id" />
      <integer name="action" />      
    </input>
    <output>
      <integer name="size" />
      <for name="i" from="0" count="size">
        <integer name="user_id" array_index="i" />
        <string name="ud_login" array_index="i" />
        <integer name="who" array_index="i" />
        <string name="usd_login" array_index="i" />
        <integer name="date" array_index="i" />
        <integer name="action" array_index="i" />
        <string name="want" array_index="i" />
        <string name="comment" array_index="i" />
      </for>
    </output>
  </function>

  <function name="rpcf_add_user_log" id="0x1510c">
    <input>
      <integer name="user_id" />
      <integer name="what" />
      <string name="comment" />
    </input>
  </function>

  <function name="rpcf_get_user_by_account" id="0x2026">
    <input>
      <integer name="account_id"/>
    </input>
    <output>
      <integer name="user_id"/>
      <if variable="user_id" value="0" condition="eq">
        <error code="19" comment="No such account linked with user"/>
      </if>
    </output>
  </function>

  <function name="rpcf_get_accountinfo" id="0x15109">
    <input>
      <integer name="account_id"/>
    </input>
    <output>
      <integer name="is_blocked"/>
      <double name="vat_rate"/>
      <double name="sale_tax_rate"/>
      <double name="credit"/>
      <double name="balance"/>
      <integer name="int_status"/>
      <integer name="unlimited"/>
      <integer name="auto_enable_inet"/>
      <string name="external_id"/>
    </output>
  </function>

  <function name="rpcf_add_account" id="0x1510a">
    <input>
      <integer name="user_id"/>
      <integer name="is_basic" default="1"/>
      <integer name="is_blocked" default="0"/>
      <double name="balance" default="0.0"/>
      <double name="credit" default="0.0"/>
      <double name="vat_rate" default="0.0"/>
      <double name="sale_tax_rate" default="0.0"/>
      <integer name="int_status" default="1"/>
      <integer name="unlimited" default="0"/>
      <integer name="auto_enable_inet" default="1"/>
      <integer name="external_id" default=""/>
    </input>
    <output>
      <integer name="account_id"/>
      <if variable="account_id" value="0" condition="eq">
        <error code="11" comment="unable to add account"/>
      </if>
    </output>
  </function>

  <function name="rpcf_save_account" id="0x1510b">
    <input>
      <integer name="account_id"/>
      <double name="credit"/>
      <integer name="is_blocked"/>
      <if variable="is_blocked" value="0" condition="ne">
        <integer name="block_start_date" default="now()"/>
        <integer name="block_end_date" default="max_time()"/>
      </if>
      <double name="vat_rate"/>
      <double name="sale_tax_rate"/>
      <integer name="int_status"/>
      <integer name="unlimited"/>
      <integer name="auto_enable_inet"/>
      <string name="external_id"/>
    </input>
    <output/>
  </function>

  <function name="rpcf_get_user_account_list" id="0x2033">
    <input>
      <integer name="user_id" />
    </input>
    <output>
      <integer name="accounts_count" />
    <for name="i" from="0" count="accounts_count">
      <integer name="account" array_index="i" />
      <string name="account_name" array_index="i" />
    </for>
    </output>
  </function>

  <function name="rpcf_remove_account" id="0x2034">
    <input>
      <integer name="account_id" />
    </input>
    <output>
      <integer name="ret_code" />
    </output>
  </function>

  <function name="rpcf_get_sys_settings" id="0x2035">
    <input/>
    <output>
      <integer name="block_recalc_abon" />
      <integer name="block_recalc_prepaid" />
      <double name="default_vat_rate" />
    </output>
  </function>

    <function name="rpcf_block_account" id="0x2037">
      <input>
        <integer name="account_id" />
        <integer name="is_blocked" />
      </input>
      <output/>
    </function>

    <function name="rpcf_delete_quota" id="0x20ff">
      <input>
        <integer name="slink_id" />
        <integer name="tc_id" />
      </input>
      <output>
          <integer name="res" />
          </output>
    </function>
  <!-- TODO: function 0x20FF description -->

  <function name="rpcf_get_services_list" id="0x2101">
    <input>
      <integer name="which_service" default="-1"/>
    </input>
    <output>
      <integer name="services_count"/>
      <for name="i" from="0" count="services_count">
        <integer name="service_id_array" array_index="i"/>
        <string name="service_name_array" array_index="i"/>
        <integer name="service_type_array" array_index="i"/>
        <string name="service_comment_array" array_index="i"/>
        <integer name="service_status_array" array_index="i"/>
        <set src="service_status_array" src_index="i" dst="service_status"/>
        <if variable="service_status" value="2" condition="eq">
          <string name="tariff_name_array" array_index="i"/>
        </if>
        <if variable="service_status" value="2" condition="ne">
          <set dst="tariff_name_array" dst_index="i" value=""/>
        </if>
      </for>
    </output>
  </function>

  <function name="rpcf_get_periodic_service" id="0x2104">
    <input>
      <integer name="sid" />
    </input>
    <output>
      <string name="service_name" />
      <string name="comment" />
      <integer name="link_by_default" />
      <double name="cost" />
      <integer name="deprecated" />
      <integer name="discount_method" />
      <integer name="start_date" />
      <integer name="expire_date" />
      <integer name="param" />
      <integer name="tariff_id" />
      <integer name="parent_id" />
    </output>
  </function>

  <function name="rpcf_get_iptraffic_service" id="0x2105">
    <input>
      <integer name="sid" />
    </input>
    <output>
      <string name="service_name" />
      <string name="comment" />
      <integer name="link_by_default" />
      <integer name="is_dynamic" />
      <double name="cost" />
      <integer name="deprecated" />
      <integer name="discount_method" />
      <integer name="start_date" />
      <integer name="expire_date" />
      <integer name="null_service_prepaid" />
      <integer name="borders_count" />
      <for name="i" from="0" count="borders_count">
        <integer name="tclass" array_index="i" />
        <if variable="tclass" value="-1" condition="ne">
          <long name="borders_size" />
          <set dst="borders_size_array" src="borders_size" dst_index="i" /> 
          <for name="j" from="0" count="borders_size">
            <long name="border_id" array_index="i,j" />
            <double name="border_cost" array_index="i,j" />
          </for>
        </if>
      </for>
      <integer name="prepaid_count" />
      <for name="i" from="0" count="prepaid_count">
        <integer name="tclass" array_index="i" />
        <if variable="tclass" value="-1" condition="ne">
          <long name="prepaid_amount" array_index="i" />
          <long name="prepaid_max" array_index="i" />
        </if>
      </for>
      <integer name="tclass_id2group_size" />
      <for name="i" from="0" count="tclass_id2group_size">
        <integer name="tclass_id" array_index="i" />
        <integer name="tclass_group_id" array_index="i" />
      </for>
      <integer name="service_data_parent_id" />
      <integer name="tariff_id" />
      <integer name="parent_id" />
    </output>
  </function>

  <function name="rpcf_add_periodic_service" id="0x2106">
    <input>
      <integer name="fictive" />
      <integer name="tariff_id" />
      <integer name="service_id" />
      <string  name="service_name" />
      <string name="comment" />
      <integer name="link_by_default" />
      <double name="cost" />
      <integer name="param1" />
      <integer name="discount_method" />
      <integer name="start_date" />
      <integer name="expire_date" />
    </input>
    <output/>
  </function>


  <function name="rpcf_add_hotspot_service" id="0x2108">
    <input>
      <integer name="fictive" />
      <integer name="tariff_id" />
      <integer name="service_id" />
      <string  name="service_name" />
      <string name="comment" />
      <integer name="link_by_default" />
      <integer name="is_dynamic" />
      <integer name="param1" />
      <integer name="discount_method" />
      <double name="cost" />
      <integer name="start_date" />
      <integer name="expire_date" />
      <integer name="null_service_prepaid" />
      <integer name="radius_sessions_limit" />
      <double name="recv_cost" />
      <string  name="rate_limit" />
      <integer name="allowed_net_size" />
      <for name="i" from="0" count="allowed_net_size">
        <ip_address name="ip" array_index="i" />
        <integer name="value1" array_index="i" />
      </for>
      <integer name="periodic_service_size" />
      <for name="i" from="0" count="periodic_service_size">
        <double name="cost_p" array_index="i" />
        <integer name="id_p" array_index="i" />
      </for>
    </input>
    <output>
        <integer name="sid"/>
    </output>
  </function>

  <function name="rpcf_get_hotspot_service" id="0x2109">
    <input>
      <integer name="sid" />
    </input>
    <output>
      <string name="service_name" />
      <string name="comment" />
      <integer name="link_by_default" />
      <integer name="is_dynamic" />
      <double name="cost" />
      <integer name="deprecated" />
      <integer name="discount_method" />
      <integer name="start_date" />
      <integer name="expire_date" />
      <integer name="null_service_prepaid" />
      <integer name="radius_sessions_limit" />
      <double name="recv_cost" />
      <string name="rate_limit" />
      <integer name="hsd_allowed_net_size" />
      <for name="i" from="0" count="hsd_allowed_net_size">
        <integer name="allowed_net_id" array_index="i" />
        <integer name="allowed_net_value" array_index="i" />
      </for>
      <integer name="cost_size" />
      <for name="i" from="0" count="cost_size">
        <string name="tr_time" array_index="i" />
        <double name="param1" array_index="i" />
        <integer name="param2" array_index="i" />
      </for>
      <integer name="service_data_parent_id" />
      <integer name="tariff_id" />
      <integer name="parent_id" />
    </output>
  </function>

  <function name="rpcf_get_once_service" id="0x210a">
    <input>
      <integer name="sid" />
    </input>
    <output>
      <string  name="service_name" />
      <string name="comment" />
      <integer name="link_by_default" />
      <double name="cost" />
      <integer name="is_parent_id" />
      <integer name="tariff_id" />
      <integer name="parent_id" />
    </output>
  </function>

  <function name="rpcf_add_once_service" id="0x210b">
    <input>
      <integer name="parent_id" />
      <integer name="tariff_id" />
      <integer name="service_id" />
      <string  name="service_name" />
      <string name="comment" />
      <integer name="link_by_default" />
      <double name="cost" />
    </input>
    <output/>
  </function>

  <function name="rpcf_get_dialup_service" id="0x210c">
    <input>
      <integer name="sid" />
    </input>
    <output>
      <string  name="service_name" />
      <string name="comment" />
      <integer name="link_by_default" />
      <integer name="is_dynamic" />
      <double name="cost" />
      <integer name="deprecated" />
      <integer name="discount_method" />
      <integer name="start_date" />
      <integer name="expire_date" />
      <string name="pool_name" />
      <integer name="max_timeout" />
      <integer name="null_service_prepaid" />
      <integer name="radius_sessions_limit" />
      <string name="login_prefix" />
      <integer name="cost_size" />
      <for name="i" from="0" count="cost_size">
        <string name="tr_time" array_index="i" />
        <double name="param" array_index="i" />
        <integer name="id" array_index="i" />
      </for>
      <integer name="is_parent_id" />
      <integer name="tariff_id" />
      <integer name="parent_id" />
    </output>
  </function>

  <function name="rpcf_add_dialup_service" id="0x210d">
    <input>
      <integer name="parent_id" />
      <integer name="tariff_id" />
      <integer name="service_id" />
      <string  name="service_name" />
      <string  name="comment" />
      <integer name="link_by_default" />
      <integer name="is_dynamic" />
      <integer name="periodic_param" default="0" />
      <integer name="discount_method" />
      <double  name="cost" />
      <integer name="start_date" />
      <integer name="expire_date" />
      <string  name="pool_name" />
      <integer name="max_timeout" />
      <integer name="null_service_prepaid" />
      <integer name="radius_sessions_limit" />
      <string  name="login_prefix" />
      <integer name="cost_size" default="size(range_id)" />
      <for name="i" from="0" count="size(range_id)">
        <double  name="range_cost" array_index="i"  />
        <integer name="range_id"   array_index="i"  />
      </for>
    </input>
    <output>
      <integer name="result" />
    </output>
  </function>

  <function name="rpcf_remove_service" id="0x210e">
    <input>
      <integer name="sid" />
    </input>
    <output/>
  </function>

  <function name="rpcf_get_hotspot_services_list" id="0x210f">
    <input/>
    <output>
      <integer name="services_size" />
      <for name="i" from="0" count="services_size">
        <integer name="service_id" array_index="i" />
        <if variable="service_id" value="-1" condition="ne">
        <string name="service_name" array_index="i" />
        <integer name="service_type" array_index="i" />
        <string name="commect" array_index="i" />
        </if>
      </for>
    </output>
  </function>

  <function name="rpcf_get_fictive_services_list" id="0x2110">
    <input/>
    <output>
      <integer name="services_size" />
      <for name="i" from="0" count="services_size">
        <integer name="service_id" array_index="i" />
        <if variable="service_id" value="-1" condition="ne">
          <string name="service_name" array_index="i" />
          <integer name="service_type" array_index="i" />
          <string name="commect" array_index="i" />
        </if>
      </for>
    </output>
  </function>

  <function name="rpcf_get_once_service_new" id="0x2115">
    <input>
      <integer name="sid" />
    </input>
    <output>
      <string  name="service_name" />
      <string name="comment" />
      <integer name="link_by_default" />
      <double name="cost" />
      <integer name="drop_from_group" />
      <integer name="is_parent_id" />
      <integer name="tariff_id" />
      <integer name="parent_id" />
    </output>
  </function>

  <function name="rpcf_add_once_service_new" id="0x2116">
    <input>
      <integer name="parent_id" />
      <integer name="tariff_id" />
      <integer name="service_id" />
      <string  name="service_name" />
      <string name="comment" />
      <integer name="link_by_default" />
      <double name="cost" />
      <integer name="drop_from_group" />
    </input>
    <output/>
  </function>

  <function name="rpcf_add_periodic_service_batch" id="0x2120">
    <input>
      <integer name="fictive" />
      <integer name="tariff_id" />
      <integer name="service_id" />
      <string name="service_name" />
      <string name="comment" />
      <integer name="link_by_default" />
      <double name="cost" />
      <integer name="parameter" />
      <integer name="discount_method_t" />
      <integer name="start_date" />
      <integer name="expire_date" />
    </input>
    <output>
      <integer name="service_id" />
    </output>
  </function>

    <function name="rpcf_add_iptraffic_service" id="0x2107">
      <input>
        <integer name="parent_id" />
        <integer name="tariff_id" />
        <integer name="service_id" />
        <string  name="service_name" />
        <string name="comment" />
        <integer name="link_by_default" />
        <integer name="is_dynamic" />
        <double name="cost" />
        <integer name="param1" />
        <integer name="discount_method" />
        <integer name="start_date" />
        <integer name="expire_date" />
        <integer name="null_service_prepaid" />
        <integer name="borders_numbers" default="size(tclass_b)"/>
        <for name="i" from="0" count="size(tclass_b)">
          <integer name="tclass_b" array_index="i" />
          <long name="size_b" array_index="i" />
          <double name="cost_b" array_index="i" />
        </for>
        <integer name="prepaid_numbers" default="size(tclass_p)" />
        <for name="i" from="0" count="size(tclass_p)">
          <integer name="tclass_p" array_index="i" />
          <long name="size_p" array_index="i" />
          <long name="size_max_p" array_index="i" />
        </for>
        <integer name="num_of_groups" default="size(tcid)" />
        <for name="i" from="0" count="size(tcid)">
          <integer name="tcid" array_index="i" />
          <integer name="gid" array_index="i" />
        </for>
      </input>
      <output/>
    </function>
            
    <function name = "rpcf_add_iptraffic_service_link_ipv6" id = "0x293a">
        <input>                
            <integer name="user_id" />
            <integer name="account_id" />
            <integer name="service_id" />
            <integer name="tplink_id" />
            <integer name="discount_period_id" />
            <integer name="start_date" />
            <integer name="expire_date" />    
            <integer name="policy_id" />    
            <integer name="unabon" />
            <double name="cost_coef" default="1.0"/>
            <integer name="unprepay" />    
            <integer name="ip_groups_count" />
            <for name="i" from="0" count="ip_groups_count">
                <ip_address name="ip" array_index="i"/>
                <integer name="mask" array_index="i" />
                <string name="mac" array_index="i" />
                <string name="login" array_index="i"/>
                <string name="allowed_cid" array_index="i" />
                <string name="password" array_index="i" />
                <string name="pool_name" array_index="i" default=""/>
                <integer name="is_skip_radius" array_index="i" />
                <integer name="is_skip_rfw" array_index="i" />
                <integer name="router_id" array_index="i" />
                <integer name="switch_id" array_index="i" default="0"/>
                <integer name="port_id" array_index="i" default="0"/>
                <integer name="vlan_id" array_index="i" default="0"/>
                <integer name="pool_id" array_index="i" default="0"/>                
            </for>
            <integer name="quotas_count"/>
            <for name="i" from="0" count="quotas_count">
                <integer name="tc_id" array_index="i" />
                <long name="quota" array_index="i" />                
            </for>
        </input>
        <output>
            <integer name="slink_id" />
        </output>    
    </function>
    
  <function name="rpcf_add_iptraffic_service_batch" id="0x2121">
    <input>
      <integer name="parent_id" />
      <integer name="tariff_id" />
      <integer name="service_id" />
      <string name="service_name" />
      <string name="comment" />
      <integer name="link_by_default" />
      <integer name="is_dynamic" />
      <double name="cost" />
      <integer name="parameter" />
      <integer name="discount_method_t" />
      <integer name="start_date" />
      <integer name="expire_date" />
      <integer name="null_service_prepaid" />
      <integer name="num_of_borders" default="size(tclass_b)"/>
      <for name="i" from="0" count="size(tclass_b)">
        <integer name="tclass_b" array_index="i" />
        <long name="size_b" array_index="i" />
        <double name="cost_b" array_index="i" />
      </for>
      <integer name="num_of_prepaid" default="size(tclass_p)" />
      <for name="i" from="0" count="size(tclass_p)">
        <integer name="tclass_p" array_index="i" />
        <long name="size_p" array_index="i" />
        <long name="size_max_p" array_index="i" />
      </for>
      <integer name="num_of_groups" default="size(tcid)"/>
      <for name="i" from="0" count="size(tcid)">
        <integer name="tcid" array_index="i" />
        <integer name="gid" array_index="i" />
      </for>
    </input>
    <output>
      <integer name="service_id" />
    </output>
  </function>

  <function name="rpcf_get_time_ranges" id="0x10350">
    <input/>
    <output>
      <integer name="size_tr" />
      <for name="i" from="0" count="size_tr">
        <integer name="range_id" array_index="i" />
        <string name="tr_name" array_index="i" />
	<integer name="priority" array_index="i" />
        <integer name="size_trd" />
        <set dst="size_trd_array" src="size_trd" dst_index="i" /> 
        <for name="j" from="0" count="size_trd">
          <integer name="id" array_index="i,j" />
          <integer name="sec_start" array_index="i,j" />
          <integer name="sec_stop" array_index="i,j" />
          <integer name="min_start" array_index="i,j" />
          <integer name="min_stop" array_index="i,j" />
          <integer name="hour_start" array_index="i,j" />
          <integer name="hour_stop" array_index="i,j" />
          <integer name="wday_start" array_index="i,j" />
          <integer name="wday_stop" array_index="i,j" />
        </for>
        <integer name="days_size" />
        <set dst="days_size_array" src="days_size" dst_index="i" />
        <for name="j" from="0" count="days_size" >
          <integer name="internal_id" array_index="i,j" />
          <integer name="mday" array_index="i,j" />
          <integer name="month" array_index="i,j" />
        </for>
      </for>
    </output>
  </function>

  <function name="rpcf_add_time_range" id="0x10351">
    <input>
      <string name="tr_name"/>
      <integer name="priority"/>
      <integer name="size_trd" default="size(sec_start)"/>
      <for name="i" from="0" count="size(sec_start)">
        <integer name="sec_start" array_index="i" />
        <integer name="sec_stop" array_index="i" />
        <integer name="min_start" array_index="i" />
        <integer name="min_stop" array_index="i" />
        <integer name="hour_start" array_index="i" />
        <integer name="hour_stop" array_index="i" />
        <integer name="wday_start" array_index="i" />
        <integer name="wday_stop" array_index="i" />
      </for>
      <integer name="days_size" default="size(internal_id)"/>
      <for name="i" from="0" count="size(internal_id)">
        <integer name="internal_id" array_index="i" />
        <integer name="mday" array_index="i" />
        <integer name="month" array_index="i" />
      </for>
    </input>
    <output/>
  </function>

  <function name="rpcf_save_time_range" id="0x10352">
    <input>
      <integer name="tr_id"/>
      <string name="tr_name" />
      <integer name="priority" />
      <integer name="size_trd" default="size(sec_start)"/>
      <for name="i" from="0" count="size(sec_start)">
        <integer name="tr_entry_id" array_index="i"/>
        <integer name="sec_start" array_index="i" />
        <integer name="sec_stop" array_index="i" />
        <integer name="min_start" array_index="i" />
        <integer name="min_stop" array_index="i" />
        <integer name="hour_start" array_index="i" />
        <integer name="hour_stop" array_index="i" />
        <integer name="wday_start" array_index="i" />
        <integer name="wday_stop" array_index="i" />
      </for>
      <integer name="days_size" default="size(internal_id)"/>
      <for name="i" from="0" count="size(internal_id)">
        <integer name="internal_id" array_index="i" />
        <integer name="mday" array_index="i" />
        <integer name="month" array_index="i" />
      </for>
    </input>
    <output/>
  </function>

  <function name="rpcf_del_time_range" id="0x10353">
    <input>
      <integer name="time_range_id" />
    </input>
    <output/>
  </function>

  <function name="rpcf_get_tclasses" id="0x2300">
    <input/>
    <output>
      <integer  name="tclass_list_size" />
      <for name="i" from="0" count="tclass_list_size">
        <integer name="tclass_id" array_index="i" />
        <string name="tclass_name" array_index="i" />
        <integer name="graph_color" array_index="i" />
        <integer name="is_display" array_index="i" />
        <integer name="is_fill" array_index="i" />
      </for>
    </output>
  </function>

  <function name="rpcf_add_tclass2" id="0x2305">
    <input>
      <integer name="tclass_id" />
      <string name="tclass_name" />
      <integer name="graph_color" />
      <integer name="is_display" />
      <integer name="is_fill" />
      <integer name="time_range_id" />
      <integer name="dont_save" />
      <integer name="local_traf_policy" />
      <integer name="tclass_count" />
      <for name="i" from="0" count="tclass_count">
        <ip_address name="saddr" array_index="i"/>
        <integer name="saddr_mask" array_index="i"/>
        <integer name="sport" array_index="i"/>
        <integer name="input" array_index="i"/>
        <integer name="src_as" array_index="i"/>
        <ip_address name="daddr" array_index="i"/>
        <integer name="daddr_mask" array_index="i"/>
        <integer name="dport" array_index="i"/>
        <integer name="output" array_index="i"/>
        <integer name="dst_as" array_index="i"/>
        <integer name="proto" array_index="i"/>
        <integer name="tos" array_index="i"/>
        <ip_address name="nexthop" array_index="i"/>
        <integer name="tcp_flags" array_index="i"/>
        <ip_address name="ip_from" array_index="i"/>
        <integer name="use_sport" array_index="i"/>
        <integer name="use_input" array_index="i"/>
        <integer name="use_src_as" array_index="i"/>
        <integer name="use_dport" array_index="i"/>
        <integer name="use_output" array_index="i"/>
        <integer name="use_dst_as" array_index="i"/>
        <integer name="use_proto" array_index="i"/>
        <integer name="use_tos" array_index="i"/>
        <integer name="use_nexthop" array_index="i"/>
        <integer name="use_tcp_flags" array_index="i"/>
        <integer name="skip" array_index="i"/>
      </for>
    </input>
    <output/>
  </function>

  <function name="rpcf_get_tclass" id="0x2306">
    <input>
      <integer name="tclass_id" />
    </input>
    <output>
      <string name="tclass_name" />
      <integer name="graph_color" />
      <integer name="is_display" />
      <integer name="is_fill" />
      <integer name="time_range_id" />
      <integer name="dont_save" />
      <integer name="local_traf_policy" />
      <integer name="tclass_count" />
      <for name="i" from="0" count="tclass_count">
        <ip_address name="saddr" array_index="i"/>
        <integer name="saddr_mask" array_index="i"/>
        <integer name="sport" array_index="i"/>
        <integer name="input" array_index="i"/>
        <integer name="src_as" array_index="i"/>
        <ip_address name="daddr" array_index="i"/>
        <integer name="daddr_mask" array_index="i"/>
        <integer name="dport" array_index="i"/>
        <integer name="output" array_index="i"/>
        <integer name="dst_as" array_index="i"/>
        <integer name="proto" array_index="i"/>
        <integer name="tos" array_index="i"/>
        <ip_address name="nexthop" array_index="i"/>
        <integer name="tcp_flags" array_index="i"/>
        <ip_address name="ip_from" array_index="i"/>
        <integer name="use_sport" array_index="i"/>
        <integer name="use_input" array_index="i"/>
        <integer name="use_src_as" array_index="i"/>
        <integer name="use_dport" array_index="i"/>
        <integer name="use_output" array_index="i"/>
        <integer name="use_dst_as" array_index="i"/>
        <integer name="use_proto" array_index="i"/>
        <integer name="use_tos" array_index="i"/>
        <integer name="use_nexthop" array_index="i"/>
        <integer name="use_tcp_flags" array_index="i"/>
        <integer name="skip" array_index="i"/>
      </for>
    </output>
  </function>

  <function name="rpcf_edit_tclass" id="0x2307">
    <input>
      <integer name="tclass_id" />
      <string name="tclass_name" />
      <integer name="graph_color" />
      <integer name="is_display" />
      <integer name="is_fill" />
      <integer name="time_range_id" />
      <integer name="dont_save" />
      <integer name="local_traf_policy" />
      <integer name="tclass_count" />
      <for name="x" from="0" count="tclass_count">
        <ip_address name="saddr" array_index="i"/>
        <integer name="saddr_mask" array_index="i"/>
        <integer name="sport" array_index="i"/>
        <integer name="input" array_index="i"/>
        <integer name="src_as" array_index="i"/>
        <ip_address name="daddr" array_index="i"/>
        <integer name="daddr_mask" array_index="i"/>
        <integer name="dport" array_index="i"/>
        <integer name="output" array_index="i"/>
        <integer name="dst_as" array_index="i"/>
        <integer name="proto" array_index="i"/>
        <integer name="tos" array_index="i"/>
        <ip_address name="nexthop" array_index="i"/>
        <integer name="tcp_flags" array_index="i"/>
        <ip_address name="ip_from" array_index="i"/>
        <integer name="use_sport" array_index="i"/>
        <integer name="use_input" array_index="i"/>
        <integer name="use_src_as" array_index="i"/>
        <integer name="use_dport" array_index="i"/>
        <integer name="use_output" array_index="i"/>
        <integer name="use_dst_as" array_index="i"/>
        <integer name="use_proto" array_index="i"/>
        <integer name="use_tos" array_index="i"/>
        <integer name="use_nexthop" array_index="i"/>
        <integer name="use_tcp_flags" array_index="i"/>
        <integer name="skip" array_index="i"/>
      </for>
    </input>
    <output/>
  </function>

  <function name="rpcf_remove_tclass" id="0x2304">
    <input>
      <integer name="tclass_id" />
    </input>
    <output>
      <integer name="result" />
    </output>
  </function>

  <function name="rpcf_get_groups_list" id="0x2400">
    <input>
      <integer name="user_id" />
    </input>
    <output>
      <integer name="groups_count" />
      <for name="i" from="0" count="groups_count">
        <integer name="group_id" array_index="i" />
        <string name="group_name" array_index="i" />
      </for>
    </output>
  </function>

  <function name="rpcf_add_group" id="0x2401">
    <input>
      <integer name="group_id" />
      <string name="group_name" />
    </input>
    <output/>
  </function>

  <function name="rpcf_edit_group" id="0x2402">
    <input>
      <integer name="group_id" />
      <string name="group_name" />
    </input>
    <output/>
  </function>

  <function name="rpcf_get_sysgroups_list" id="0x2403">
    <input/>
    <output>
      <integer name="groups_size" />
      <for name="i" from="0" count="groups_size">
        <integer name="group_id" array_index="i" />
        <string name="group_name" array_index="i" />
        <string name="group_info" array_index="i" />
      </for>
    </output>
  </function>

  <function name="rpcf_add_sysgroup" id="0x2404">
    <input>
      <integer name="group_id" />
      <string name="group_name" />
      <string name="group_info" />
      <integer name="num_of_fids" />
      <for name="i" from="0" count="num_of_fids">
        <integer name="fid" array_index="i" />
        <integer name="allowed" array_index="i" />
      </for>
    </input>
    <output/>
  </function>

  <function name="rpcf_edit_sysgroup" id="0x2405">
    <input>
      <integer name="group_id" />
      <string name="group_name" />
      <string name="group_info" />
      <integer name="num_of_fids" default="size(fid)"/>
      <for name="i" from="0" count="size(fid)">
        <integer name="fid" array_index="i" />
        <integer name="allowed" array_index="i" />
      </for>
    </input>
    <output/>
  </function>

  <function name="rpcf_get_sysgroup" id="0x2406">
    <input>
      <integer name="group_id" />
    </input>
    <output>
      <string name="group_name" />
      <string name="group_info" />
      <integer name="info_size" />
      <for name="i" from="0" count="info_size">
        <integer name="id" array_index="i" />
        <string name="name" array_index="i" />
        <string name="module" array_index="i" />
        <integer name="fids" array_index="i" />
      </for>
    </output>
  </function>

  <function name="rpcf_add_users_to_group" id="0x2407">
    <input>
      <integer name="group_id" />
      <integer name="count" default="size(user_id)"/>
      <for name="i" from="0" count="size(user_id)">
        <integer name="user_id" array_index="i"/>
      </for>
    </input>
    <output/>
  </function>

  <function name="rpcf_remove_user_from_group" id="0x2408">
    <input>
      <integer name="user_id"/>
      <integer name="group_id"/>
    </input>
    <output/>
  </function>

  <function name="rpcf_get_group_info" id="0x2409">
    <input>
      <integer name="group_id" />
    </input>
    <output>
      <string name="group_name" />
      <integer name="user_id_size" />
      <for name="i" from="0" count="user_id_size">
        <integer name="user_id" array_index="i" />
        <string name="login" array_index="i" />
      </for>
    </output>
  </function>

  <function name="rpcf_group_op" id="0x240a">
    <input>
      <integer name="group_id" />
      <integer name="group_op" />
      <if variable="group_op" value="4" condition="eq">
        <integer name="tpid_from" />
        <integer name="tpid_to" />
      </if>
      <if variable="group_op" value="5" condition="eq">
        <integer name="old_policy" />
        <integer name="new_policy" />
      </if>
    </input>
    <output>
      <integer name="error_code" />
      <string name="error_msg" />
    </output>
  </function>

  <function name="rpcf_del_group" id="0x240b">
    <input>
      <integer name="group_id" />
    </input>
    <output/>
  </function>

  <function name="rpcf_get_group_id_by_name" id="0x240c">
    <input>
      <string name="group_name" />
    </input>
    <output>
      <integer name="group_id" />
    </output>
  </function>

  <function name="rpcf_get_groups_for_user" id="0x2550">
    <input>
      <integer name="user_id" />
    </input>
    <output>
      <integer name="groups_size" />
      <for name="i" from="0" count="groups_size">
        <integer name="group_id" array_index="i" />
        <string name="group_name" array_index="i" />
      </for>
    </output>
  </function>

  <function name="rpcf_add_group_to_user" id="0x2552">
    <input>
      <integer name="user_id"/>
      <integer name="group_id"/>
    </input>
    <output/>
  </function>

  <function name="rpcf_get_once_service_link_new" id="0x2556">
    <input>
      <integer name="slink_id" />
    </input>
    <output>
      <integer  name="discount_date" />
      <double  name="quantity" />
      <integer name="invoice_id" />
      <double name="cost_coef" default="1.0" />
    </output>
  </function>

  <function name="rpcf_get_discount_periods" id="0x2600">
    <input/>
    <output>
      <integer name="discount_periods_count"/>
      <for name="i" from="0" count="discount_periods_count">
        <integer name="static_id" array_index="i"/>
        <integer name="discount_period_id" array_index="i"/>
        <integer name="start_date" array_index="i"/>
        <integer name="end_date" array_index="i"/>
        <integer name="periodic_type" array_index="i"/>
        <integer name="custom_duration" array_index="i"/>
        <integer name="next_discount_period_id" array_index="i"/>
        <integer name="canonical_length" array_index="i"/>
      </for>
    </output>
  </function>

  <function name="rpcf_get_all_discount_periods" id="0x2607">
    <input/>
    <output>
      <integer name="discount_periods_count"/>
      <for name="i" from="0" count="discount_periods_count">
        <integer name="static_id" array_index="i"/>
        <integer name="discount_period_id" array_index="i"/>
        <integer name="start_date" array_index="i"/>
        <integer name="end_date" array_index="i"/>
        <integer name="periodic_type" array_index="i"/>
        <integer name="custom_duration" array_index="i"/>
        <integer name="next_discount_period_id" array_index="i"/>
        <integer name="canonical_length" array_index="i"/>
      </for>
    </output>
  </function>

  <function name="rpcf_get_first_discount_period_id" id="0x2601">
    <input/>
    <output>
      <integer name="id" />
    </output>
  </function>

  <function name="rpcf_get_discount_period" id="0x2609">
    <input>
      <integer name="discount_period_id"/>
    </input>
    <output>
      <integer name="start_date"/>
      <integer name="end_date"/>
      <integer name="periodic_type"/>
      <integer name="custom_duration"/>
      <integer name="discounts_per_week"/>
      <integer name="next_discount_period_id"/>
      <integer name="invoice_month"/>
    </output>
  </function>

  <function name="rpcf_add_discount_period" id="0x2603">
    <input>
      <integer name="id" />
      <integer name="start" />
      <integer name="expire" />
      <integer name="periodic_type_t" />
      <integer name="cd" />
      <integer name="di" />      
    </input>
    <output/>
  </function>

  <function name="rpcf_add_discount_period_return" id="0x2608">
    <input>
      <integer name="static_id" default="0"/>
      <integer name="start_date" />
      <integer name="expire_date" default="0"/>
      <integer name="periodic_type" default="3"/>
      <integer name="custom_duration" default="86400"/>
      <integer name="discount_interval" default="7"/>      
      <integer name="invoice_month" default="0"/>
    </input>
    <output>
      <integer name="discount_period_id"/>
    </output>
  </function>

  <function name="rpcf_expire_discount_period" id="0x2606">
    <input>
      <integer name="dpid" />
    </input>
    <output/>
  </function>

  <function name="rpcf_get_all_services_for_user" id="0x2700">
    <input>
      <integer name="account_id"/>
    </input>
    <output>
      <integer name="slink_id_count"/>
      <for name="i" from="0" count="slink_id_count">
        <integer name="service_id"/>
        <if variable="service_id" value="-1" condition="ne">
          <set src="service_id" dst="service_id_array" dst_index="i"/>
          <integer name="service_type_array" array_index="i"/>
          <string name="service_name_array" array_index="i"/>
          <string name="tariff_name_array" array_index="i"/>
          <double name="service_cost_array" array_index="i"/>
          <integer name="slink_id_array" array_index="i"/>
          <integer name="discount_period_id_array" array_index="i"/>
        </if>
        <if variable="service_id" value="-1" condition="eq">
          <set dst="service_id_array" dst_index="i" value="-1"/>
          <set dst="service_type_array" dst_index="i" value="-1"/>
          <set dst="service_name_array" dst_index="i" value=""/>
          <set dst="tariff_name_array" dst_index="i" value=""/>
          <set dst="service_cost_array" dst_index="i" value="-1"/>
          <set dst="slink_id_array" dst_index="i" value="-1"/>
          <set dst="discount_period_id_array" dst_index="i" value="-1"/>
        </if>
      </for>
    </output>
  </function>

  <function name="rpcf_get_periodic_service_link" id="0x271a">
    <input>
      <integer name="slink_id" />
    </input>
    <output>
      <integer name="tariff_link_id" />
      <integer name="is_blocked" />
      <integer name="discount_period_id" />
      <integer name="start_date" />
      <integer name="expire_date" />
      <integer name="policy_id" />
      <double  name="cost_coef" />
      <integer name="is_unabon_period" />
      <integer name="is_unprepay_period" />
      <integer name="tariff_id" />
      <integer name="parent_id" />
    </output>
  </function>

  <function name="rpcf_get_iptraffic_service_link" id="0x2702">
    <input>
      <integer name="slink_id"/>
    </input>
    <output>
      <integer name="tariff_link_id"/>
      <integer name="is_blocked"/>
      <integer name="discount_period_id"/>
      <integer name="start_date"/>
      <integer name="expire_date"/>
      <integer name="unabon"/>
      <integer name="unprepay"/>
      <integer name="tariff_id"/>
      <integer name="parent_id"/>
      <integer name="ip_groups_count"/>
      <for name="i" from="0" count="ip_groups_count">
        <integer name="ip_address" array_index="i"/>
        <integer name="mask" array_index="i"/>
        <string name="mac" array_index="i"/>
        <string name="iptraffic_login" array_index="i"/>
        <string name="iptraffic_password" array_index="i"/>
        <string name="iptraffic_allowed_cid" array_index="i"/>
        <integer name="ip_not_vpn" array_index="i"/>
        <integer name="dont_use_fw" array_index="i"/>
        <integer name="router_id" array_index="i"/>
      </for>
      <integer name="quotas_count"/>
      <for name="i" from="0" count="quotas_count">
        <integer name="tclass_id" array_index="i"/>
        <string name="tclass_name" array_index="i"/>
        <long name="quota" array_index="i"/>
      </for>
    </output>
  </function>

  <function name="rpcf_get_iptraffic_service_link_ipv6" id="0x271e">
    <input>
      <integer name="slink_id"/>
    </input>
    <output>
      <integer name="tariff_link_id"/>
      <integer name="is_blocked"/>
      <integer name="discount_period_id"/>
      <integer name="start_date"/>
      <integer name="expire_date"/>
      <integer name="policy_id"/>
      <double  name="cost_coef" />
      <integer name="unabon"/>
      <integer name="unprepay"/>
      <integer name="tariff_id"/>
      <integer name="parent_id"/>
      <integer name="bandwidth_in"/>
      <integer name="bandwidth_out"/>
      <integer name="ip_groups_count"/>
      <for name="i" from="0" count="ip_groups_count">
        <ip_address name="ip_address" array_index="i"/>
        <integer name="mask" array_index="i"/>
        <string name="mac" array_index="i"/>
        <string name="iptraffic_login" array_index="i"/>
        <string name="iptraffic_password" array_index="i"/>
        <string name="iptraffic_allowed_cid" array_index="i"/>
        <string name="pool_name" array_index="i"/>
        <integer name="ip_not_vpn" array_index="i"/>
        <integer name="dont_use_fw" array_index="i"/>
        <integer name="is_dynamic" array_index="i"/>
        <integer name="router_id" array_index="i"/>
        <integer name="switch_id" array_index="i"/>
        <integer name="port_id" array_index="i"/>
        <integer name="vlan_id" array_index="i"/>
        <integer name="pool_id" array_index="i"/>
      </for>
      <integer name="quotas_count"/>
      <for name="i" from="0" count="quotas_count">
        <integer name="tclass_id" array_index="i"/>
        <string name="tclass_name" array_index="i"/>
        <long name="quota" array_index="i"/>
      </for>
    </output>
  </function>

  <function name="rpcf_get_hotspot_service_link" id="0x271c">
    <input>
      <integer name="slink_id" />
    </input>
    <output>
      <integer name="tariff_link_id" />
      <integer name="is_blocked" />
      <integer name="discount_period_id" />
      <integer name="start_date" />
      <integer name="expire_date" />
      <integer name="policy_id" />
      <double  name="cost_coef" />
      <string name="login" />
      <string name="password" />
      <integer name="is_unabon_period" />
      <integer name="is_unprepay_period" />
      <integer name="tariff_id" />
      <integer name="parent_id" />
    </output>
  </function>

  <function name="rpcf_get_once_service_link" id="0x2704">
    <input>
      <integer name="slink_id" />
    </input>
    <output>
      <integer name="discount_date" />
    </output>
  </function>

  <function name="rpcf_get_dialup_service_link" id="0x271d">
    <input>
      <integer name="slink_id" />
    </input>
    <output>
      <integer name="tariff_link_id" />
      <integer name="is_blocked" />
      <integer name="discount_period_id" />
      <integer name="start_date" />
      <integer name="expire_date" />
      <integer name="policy_id" />
      <double  name="cost_coef" />
      <string name="login" />
      <string name="password" />
      <string name="allowed_cid" />
      <string name="allowed_csid" />
      <integer name="callback_enabled" />
      <integer name="is_unabon_period" />
      <integer name="is_unprepay_period" />
      <integer name="tariff_id" />
      <integer name="parent_id" />
    </output>
  </function>

  <function name="rpcf_get_ipzones_list" id="0x2800">
    <input/>
    <output>
      <integer name="zones_count" />
      <for name="i" from="0" count="zones_count">
        <integer name="zone_id" array_index="i" />
        <string name="zone_name" array_index="i" />
      </for>
    </output>
  </function>

  <function name="rpcf_add_ipzone" id="0x2801">
    <input>
      <integer name="id" />
      <string name="name" />
      <integer name="count" />
      <for name="i" from="0" count="count">
        <integer name="net"  array_index="i" />
        <integer name="mask"  array_index="i" />
        <integer name="gateaway"  array_index="i" />
      </for>
    </input>
    <output>
      <integer name="id" />
    </output>
  </function>

  <function name="rpcf_add_ipzone_ipv6" id="0x2803">
    <input>
      <integer name="id" />
      <string name="name" />
      <integer name="count" />
      <for name="i" from="0" count="count">
        <ip_address name="net"  array_index="i" />
        <integer name="mask"  array_index="i" />
        <ip_address name="gateaway"  array_index="i" />
      </for>
    </input>
    <output>
      <integer name="id" />
    </output>
  </function>

  <function name="rpcf_get_ipzone" id="0x2802">
    <input>
      <integer name="id" />
    </input>
    <output>
      <string name="name" />
      <integer name="count" />
      <for name="i" from="0" count="count">
        <integer name="net"  array_index="i" />
        <integer name="mask" array_index="i" />
        <integer name="gateaway" array_index="i" />
      </for>
    </output>
  </function>

  <function name="rpcf_get_ipzone_ipv6" id="0x2804">
    <input>
      <integer name="id" />
    </input>
    <output>
      <string name="name" />
      <integer name="count" />
      <for name="i" from="0" count="count">
        <ip_address name="net"  array_index="i" />
        <integer name="mask" array_index="i" />
        <ip_address name="gateaway" array_index="i" />
      </for>
    </output>
  </function>

  <function name="rpcf_get_houses_list" id="0x2810">
    <input/>
    <output>
      <integer name="houses_size" />
      <for name="i" from="0" count="houses_size">
        <integer name="house_id" array_index="i" />
        <integer name="ip_zone_id" array_index="i" />
        <integer name="connect_date" array_index="i" />
        <string name="post_code" array_index="i" />
        <string name="country" array_index="i" />
        <string name="region" array_index="i" />
        <string name="city" array_index="i" />
        <string name="street" array_index="i" />
        <string name="number" array_index="i" />
        <string name="building" array_index="i" />
      </for>
    </output>
  </function>

  <function name="rpcf_add_house" id="0x2811">
    <input>
      <integer name="house_id" />
      <integer name="connect_date" />
      <string name="post_code" />
      <string name="country" />
      <string name="region" />
      <string name="city" />
      <string name="street" />
      <string name="number" />
      <string name="building" />
      <integer name="count" default="size(ipzone_id)"/>
      <for name="i" from="0" count="size(ipzone_id)">
        <integer name="ipzone_id" array_index="i" />
      </for>
    </input>
    <output/>
  </function>

  <function name="rpcf_get_house" id="0x2812">
    <input>
      <integer name="house_id" />
    </input>
    <output>
      <integer name="house_id" />
      <integer name="connect_date" />
      <string name="post_code" />
      <string name="country" />
      <string name="region" />
      <string name="city" />
      <string name="street" />
      <string name="number" />
      <string name="building" />
      <integer name="count" />
      <for name="i" from="0" count="count">
        <integer name="ipzone_id"  array_index="i" />
        <string name="ipzone_name" array_index="i" />
      </for>
    </output>
  </function>

  <function name="rpcf_get_free_ips_for_house" id="0x15101">
    <input>
      <integer name="house_id" />
    </input>
    <output>
      <integer name="ips_size" />
      <for name="i" from="0" count="ips_size">
        <ip_address name="ips_ip" array_index="i" />
        <integer name="mask" array_index="i" />
        <string name="zone_name" array_index="i" />
      </for>
      <string name="error" />
    </output>
  </function>

  <function name="rpcf_get_charge_policy_list" id="0x15102">
    <input/>
    <output>
      <integer name="policy_count"/>
      <for name="i" from="0" count="policy_count">
         <integer name="policy_id_array" array_index="i"/>
         <integer name="flags_array" array_index="i"/>
         <string name="name_array" array_index="i"/>
         <integer name="tm_count" array_index="i"/>
         <for name="e" from="0" count="tm_count">
            <integer name="timemark" array_index="i,e"/>    
         </for>    
      </for>
    </output>
  </function>

  <function name="rpcf_add_charge_policy" id="0x15103">
    <input>
      <integer name="flags"/>
      <string name="name"/> 
      <integer name="tm_count"/>
      <for name="i" from="0" count="tm_count">
        <integer name="timemark" array_index="i"/>    
      </for> 
    </input>
    <output>
      <integer name="result"/>
    </output>
  </function>

  <function name="rpcf_edit_charge_policy" id="0x15104">
    <input>
      <integer name="policy_id"/>
      <integer name="flags"/>
      <string name="name"/>
      <integer name="tm_count"/>
      <for name="i" from="0" count="tm_count">
        <integer name="timemark" array_index="i"/>    
      </for> 
    </input>
    <output>
      <integer name="result"/>
    </output>
  </function>

  <function name="rpcf_remove_charge_policy" id="0x15105">
    <input>
      <integer name="policy_id"/>
    </input>
    <output>
      <integer name="result"/>
    </output>
  </function>
  
  <function name = "rpcf_set_charge_policy_for_service" id = "0x15106">
      <input>
          <integer name="service_id"/>
          <integer name="policy_id"/>
      </input>
      <output>
          <integer name="result"/>
      </output>
  </function>

  <function name = "rpcf_get_charge_policy_for_service" id = "0x15107">
      <input>
          <integer name="service_id"/>          
      </input>
      <output>
          <integer name="charge_policy"/>
      </output>
  </function>

  <function name="rpcf_get_periodic_link_stats" id="0x15108">
    <input>
      <integer name="slink_id"/>
    </input>
    <output>
      <integer name="result"/>
      <if variable="result" value="-1" condition="ne">
        <integer name="is_active"/>
        <integer name="fee_recalc_start"/>
        <integer name="fee_recalc_duration"/>
        <integer name="ip_recalc_start"/>
        <integer name="ip_recalc_durtation"/>
        <integer name="tel_recalc_start"/>
        <integer name="tel_recalc_duration"/>
        <double name="charged"/>
        <double name="repaid"/>
      </if>
    </output>
  </function>
  
  <function name="rpcf_get_ip_mac" id="0x2814">
    <input/>
    <output>
      <integer name="ip_mac_size" />
      <for name="i" from="0" count="ip_mac_size">
        <integer name="id" array_index="i" />
        <string name="name" array_index="i" />
      </for>
    </output>
  </function>

  <function name="rpcf_remove_house" id="0x2815">
    <input>
      <integer name="hid" />
    </input>
    <output/>
  </function>

  <function name="rpcf_get_ipgroups_list_ipv6" id="0x292e">
    <input/>
    <output>
      <integer name="groups_size" />
      <for name="i" from="0" count="groups_size">
        <integer name="count" />
        <set dst="count_array" src="count" dst_index="i" /> 
        <for name="j" from="0" count="count">
          <integer name="id"  array_index="i,j" />
          <ip_address name="ip"  array_index="i,j" />
          <integer name="mask"  array_index="i,j" />
          <string name="mac" array_index="i,j" />
          <string name="login" array_index="i,j" />
          <string name="allowed_cid" array_index="i,j" />
        </for>
      </for>
    </output>
  </function>

  <function name="rpcf_get_ipgroup" id="0x2902">
    <input>
      <integer name="ipgroup_id"  />
    </input>
    <output>
      <string name="name" />
      <integer name="ipzone_count" />
      <for name="i" from="0" count="ipzone_count">
        <ip_address name="ip"  array_index="i" />
        <ip_address name="mask" array_index="i" />
        <ip_address name="gateaway" array_index="i" />
      </for>
    </output>
  </function>

  <function name="rpcf_get_currency_list" id="0x2910">
    <input>
    </input>
    <output>
      <integer name="currency_size" />
      <for name="i" from="0" count="currency_size">
        <integer name="id" />
        <string name="currency_brief_name" array_index="i" />
        <string name="currency_full_name" array_index="i" />
        <double name="percent" array_index="i" />
        <double name="rates" array_index="i" />
      </for>
    </output>
  </function>

  <function name="rpcf_add_currency" id="0x2911">
    <input>
      <integer name="id" />
      <string name="currency_brief_name" />
      <string name="currency_full_name" />
      <integer name="date" />
      <double name="rate" />
      <double name="percent" />
    </input>
    <output/>
  </function>

  <function name="rpcf_edit_currency" id="0x2912">
    <input>
      <integer name="id" />
      <string name="currency_brief_name" />
      <string name="currency_full_name" />
      <integer name="date" />
      <double name="rate" />
      <double name="percent" />
    </input>
    <output/>
  </function>

  <function name="rpcf_get_currency_rate_history" id="0x2913">
    <input>
      <integer name="id" />
    </input>
    <output>
      <integer name="size" />
      <for name="i" from="0" count="size">
        <integer name="time" array_index="i" />
        <double name="value" array_index="i" />
      </for>
    </output>
  </function>

  <function name="rpcf_get_currency_rate_rbc" id="0x2914">
    <input>
      <integer name="id" />
    </input>
    <output>
      <double name="rate" />
      <string name="error" />
    </output>
  </function>

  <function name="rpcf_remove_currency" id="0x2915">
    <input>
      <integer name="id" />
    </input>
    <output/>
  </function>

  <function name="rpcf_service_report_new" id="0x3021">
      <input>
       <integer name="user_id" default="0" />
       <integer name="account_id" default="0"  />
       <integer name="group_id" default="0" />
       <integer name="apid" default="0" />
       <integer name="time_start" />
       <integer name="time_end" default="now()" />
      </input>
      <output>
      <integer name="accounts_count"/>
      <for name="j" from="0" count="accounts_count">
         <integer name="atr_size" />
          <set dst="atr_size_array" src="atr_size" dst_index="j" />
         <for name="i" from="0" count="atr_size">
            <integer name="account_id" array_index="j,i" />
            <string name="login" array_index="j,i" />
            <string name="full_name" array_index="j,i" />
            <integer name="discount_date" array_index="j,i" />
            <integer name="discount_period_id" array_index="j,i" />
            <double name="discount" array_index="j,i" />
            <string name="service_name" array_index="j,i" />
            <integer name="service_type" array_index="j,i" />
         </for>
      </for>
      </output>
  </function>


  <function name="rpcf_other_charges_report" id="0x3023">
      <input>
       <integer name="user_id" default="0" />
       <integer name="account_id" default="0"  />
       <integer name="group_id" default="0" />
       <integer name="apid" default="0" />
       <integer name="time_start" />
       <integer name="time_end" default="now()" />
      </input>
      <output>
          <integer name="accounts_count"/>
      <for name="j" from="0" count="accounts_count">
         <integer name="atr_size" />
          <set dst="atr_size_array" src="atr_size" dst_index="j" />
         <for name="i" from="0" count="atr_size">
            <integer name="account_id" array_index="j,i" />
            <string name="login" array_index="j,i" />
            <string name="full_name" array_index="j,i" />
            <integer name="discount_date" array_index="j,i" />
            <double name="discount" array_index="j,i" />
            <integer name="charge_type" array_index="j,i" />
         </for>
      </for>
      </output>
  </function>

  <function name="rpcf_blocks_report" id="0x3004">
      <input>
       <integer name="user_id" default="0" />
       <integer name="account_id" default="0" />
       <integer name="group_id" default="0" />
       <integer name="apid" default="0" />
       <integer name="time_start" />
       <integer name="time_end" default="now()" />
       <integer name="show_all" default="1" />
      </input>
      <output>
       <integer name="accounts_count" />
       <for name="i" from="0" count="accounts_count">
        <integer name="atr_size"/>
           <set dst="atr_size_array" src="atr_size" dst_index="i" />
        <for name="j" from="0" count="atr_size">
          <integer name="account_id" array_index="i,j" />
          <string name="login" array_index="i,j" />
          <integer name="start_date" array_index="i,j" />
          <integer name="expire_date" array_index="i,j" />
          <integer name="what_blocked" array_index="i,j" />
          <integer name="block_type" array_index="i,j" />
          <string name="comment" array_index="i,j" />
        </for>
       </for>
      </output>
  </function>

  <function name="rpcf_blocks_report_ex" id="0x300b">
      <input>
       <integer name="user_id" default="0" />
       <integer name="account_id" default="0" />
       <integer name="group_id" default="0" />
       <integer name="apid" default="0" />
       <integer name="time_start" />
       <integer name="time_end" default="now()" />
       <integer name="show_all" default="1" />
      </input>
      <output>
       <integer name="accounts_count" />
       <for name="i" from="0" count="accounts_count">
        <integer name="atr_size"/>
           <set dst="atr_size_array" src="atr_size" dst_index="i" />
        <for name="j" from="0" count="atr_size">
          <integer name="account_id" array_index="i,j" />
          <string name="login" array_index="i,j" />
          <integer name="start_date" array_index="i,j" />
          <integer name="expire_date" array_index="i,j" />
          <integer name="block_type" array_index="i,j" />
          <integer name="id" array_index="i,j" />
          <integer name="unabon" array_index="i,j" />
          <integer name="unprepay" array_index="i,j" />
          <integer name="is_deleted" array_index="i,j" />
        </for>
       </for>
      </output>
  </function>

  <function name="rpcf_edit_block" id="0x300c">
      <input>
       <integer name="id"/>
       <integer name="time_start" />
       <integer name="time_end" />
       <integer name="unabon" />
       <integer name="unprepay" />
      </input>
      <output>
       <integer name="result" />
      </output>
  </function>

  <function name="rpcf_delete_block" id="0x300d">
      <input>
       <integer name="id"/>
      </input>
      <output>
       <integer name="result" />
      </output>
  </function>



  <function name="rpcf_payments_timed_report" id="0x3006">
    <input>
      <integer name="user_id" default="0" />
      <integer name="account_id"   />
      <integer name="group_id" default="0" />
      <integer name="apid" />
      <integer name="time_start" />
      <integer name="time_end" />
    </input>
    <output>
      <integer name="accounts_size" />
      <for name="i" from="0" count="accounts_size">
        <integer name="id" array_index="i" />
        <if variable="id" value="-1" condition="ne">
          <string name="login" array_index="i" />
          <integer name="first_date" array_index="i" />
          <integer name="last_date" array_index="i" />
          <integer name="burn_date" array_index="i" />
          <double name="amount" array_index="i" />
          <double name="already_discounted" array_index="i" />
        </if>
      </for>
    </output>
  </function>

  <function name="rpcf_payments_report_owner_ex" id="0x300a">
    <input>
      <integer name="time_start" default="0"/>
      <integer name="time_end" default="now()"/>
    </input>
    <output>
      <integer name="rows_count"/>
      <for name="i" from="0" count="rows_count">
        <integer name="id" array_index="i" />
        <integer name="account_id" array_index="i" />
        <string name="login" array_index="i" />
        <integer name="user_id" array_index="i" />
        <string name="full_name" array_index="i" />
        <integer name="actual_date" array_index="i" />
        <integer name="payment_enter_date" array_index="i" />
        <double name="payment" array_index="i" />
        <double name="payment_incurrency" array_index="i" />
        <integer name="currency_id" array_index="i" />
        <integer name="method" array_index="i" />
        <integer name="who_receved" array_index="i" />
        <string name="admin_comment" array_index="i" />
        <string name="payment_ext_number" array_index="i" />
      </for>
    </output>
  </function>

  <function name="rpcf_traffic_report_ex" id="0x3009">
    <input>
      <integer name="type"   />
      <integer name="user_id" />
      <integer name="account_id"   />
      <integer name="group_id" />
      <integer name="apid" />
      <integer name="time_start" />
      <integer name="time_end" />
    </input>
    <output>
      <double name="bytes_in_kbyte" />
      <integer name="users_count" />
      <for name="i" from="0" count="users_count">
        <integer name="atr_size" />
        <set dst="atr_size_array" src="atr_size" dst_index="i" /> 
        <for name="j" from="0" count="atr_size">
          <integer name="account_id" array_index="i,j" />
          <string name="login" array_index="i,j" />
          <if variable="type" value="0" condition="ne">
            <integer name="add_param" array_index="i,j" />
	  </if>

          <integer name="tclass" array_index="i,j" />
          <double name="base_cost" array_index="i,j" />
          <long name="bytes" array_index="i,j" />
          <double name="discount" array_index="i,j" />
        </for>
      </for>
    </output>
  </function>

  <function name="rpcf_get_tariffs_list" id="0x3024">
    <input/>
    <output>
      <integer name="tariffs_count" />
      <for name="i" from="0" count="tariffs_count">
        <integer name="id" array_index="i" />
        <string name="name" array_index="i" />
        <integer name="create_date" array_index="i" />
        <integer name="who_create" array_index="i" />
        <string name="login" array_index="i" />
        <integer name="change_create" array_index="i" />
        <integer name="who_change" array_index="i" />
        <string name="login_change" array_index="i" />
        <integer name="expire_date" array_index="i" />
        <integer name="is_blocked" array_index="i" />
        <integer name="balance_rollover" array_index="i" />
        <string name="comment" array_index="i" />
      </for>
    </output>
  </function>

  <function name="rpcf_get_tariff" id="0x3011">
    <input>
      <integer name="tariff_id"/>
    </input>
    <output>
      <string name="tariff_name"/>
      <integer name="tariff_create_date"/>
      <integer name="who_create"/>
      <string name="who_create_login"/>
      <integer name="tariff_change_date"/>
      <integer name="who_change"/>
      <string name="who_change_login"/>
      <integer name="tariff_expire_date"/>
      <integer name="tariff_is_blocked"/>
      <integer name="tariff_balance_rollover"/>
      <integer name="services_count"/>
      <for name="i" from="0" count="services_count">
        <integer name="service_id_array" array_index="i"/>
        <integer name="service_type_array" array_index="i"/>
        <string name="service_name_array" array_index="i"/>
        <string name="comment_array" array_index="i"/>
        <integer name="link_by_default_array" array_index="i"/>
        <integer name="is_dynamic_array" array_index="i"/>
      </for>
    </output>
  </function>

  <function name="rpcf_add_tariff" id="0x3012">
    <input>
      <string name="name" />
      <integer name="expire_date" />
      <integer name="is_blocked" />
      <integer name="balance_rollover" />
    </input>
    <output>
      <integer name="tp_id" />
    </output>
  </function>

  <function name="rpcf_edit_tariff" id="0x3013">
    <input>
      <integer name="tp_id" />
      <string name="name" />
      <integer name="expire_date" />
      <integer name="is_blocked" />
      <integer name="balance_rollover" />
    </input>
    <output>
      <integer name="tp_id" />
    </output>
  </function>

  <function name="rpcf_del_service_from_tariff" id="0x3015">
    <input>
      <integer name="tp_id" />
      <integer name="sid" />
    </input>
    <output>
      <integer name="result" />
    </output>
  </function>

  <function name="rpcf_get_user_tariffs" id="0x3017">
    <input>
      <integer name="user_id"/>
      <integer name="account_id" default="0"/>
    </input>
    <output>
      <integer name="user_tariffs_size"/>
      <for name="i" from="0" count="user_tariffs_size">
        <integer name="tariff_current_array" array_index="i"/>
        <integer name="tariff_next_array" array_index="i"/>
        <integer name="discount_period_id_array" array_index="i"/>
        <integer name="tariff_link_id_array" array_index="i"/>
      </for>
    </output>
  </function>

  <function name="rpcf_link_user_tariff" id="0x301f">
    <input>
      <integer name="user_id"/>
      <integer name="account_id" default="0"/>
      <integer name="tariff_current"/>
      <integer name="tariff_next" default="tariff_current"/>
      <integer name="discount_period_id"/>
      <integer name="tariff_link_id" default="0"/>
      <integer name="change_now"/>
    </input>
    <output>
      <integer name="tariff_link_id"/>
      <if variable="tariff_link_id" value="0" condition="eq">
        <error code="13" comment="unable to link user tariff"/>
      </if>
    </output>
  </function>

  <function name="rpcf_unlink_user_tariff" id="0x3019">
    <input>
      <integer name="user_id"/>
      <integer name="account_id" default="0"/>
      <integer name="tariff_link_id"/>
    </input>
    <output/>
  </function>

  <function name="rpcf_get_tps_for_user" id="0x301a"> <!-- Gets the services and service links in the frame of tariff-->
    <input>
      <integer name="uid" /> <!--user id-->
      <integer name="aid" /> <!--account id-->
      <integer name="tpid" /> <!--tariff plan id-->
      <integer name="tplink" /> <!--tariff link id-->
      <integer name="unused" /> 
    </input>
    <output>
      <integer name="service_size" />
      <for name="i" from="0" count="service_size">
        <integer name="sid" array_index="i" />
        <string name="service_name" array_index="i" />
        <integer name="service_type" array_index="i" />
        <string name="comment" array_index="i" />
        <integer name="slink" array_index="i" />
        <integer name="value" array_index="i" />
      </for>
    </output>
  </function>

  <function name="rpcf_remove_tariff" id="0x301b"> <!--deletes the whole tariff-->
    <input>
      <integer name="tid" />
    </input>
    <output>
      <integer name="result" />
    </output>
  </function>

  <function name="rpcf_get_tariffs_history" id="0x301c">
    <input>
      <integer name="aid" />
    </input>
    <output>
      <integer name="th_count" />
      <for name="i" from="0" count="th_count">
        <integer name="tariff_id" array_index="i" />
        <integer name="link_date" array_index="i" />
        <integer name="unlink_date" array_index="i" />
        <string name="tariff_name" array_index="i" />
      </for>
    </output>
  </function>

  <function name="rpcf_get_tariff_id_by_name" id="0x301d">
    <input>
      <string name="name" />
    </input>
    <output>
      <integer name="tid" />
    </output>
  </function>

  <!-- TODO: function 0x301e description -->

  <function name="rpcf_general_report_new" id="0x3022">
    <input>
      <integer name="user_id" default="0"/>
      <integer name="account_id" default="0"/>
      <integer name="group_id" default="0"/>
      <integer name="discount_period_id" default="0"/>
      <integer name="start_date"/>
      <integer name="end_date" default="now()"/>
    </input>
    <output>
      <integer name="accounts_count"/>
      <for name="i" from="0" count="accounts_count">
        <integer name="account_id" array_index="i"/>
        <string name="login" array_index="i"/>
        <string name="full_name" array_index="i"/>
        <double name="incoming_rest" array_index="i"/>
        <double name="discounted_once" array_index="i"/>
        <double name="discounted_periodic" array_index="i"/>
        <double name="discounted_iptraffic" array_index="i"/>
        <double name="discounted_hotspot" array_index="i"/>
        <double name="discounted_dialup" array_index="i"/>
        <double name="discounted_telephony" array_index="i"/>
        <double name="discounted_other_charges" array_index="i"/>
        <double name="tax" array_index="i"/>
        <double name="discounted_with_tax" array_index="i"/>
        <double name="payments" array_index="i"/>
        <double name="outgoing_rest" array_index="i"/>
      </for>
    </output>
  </function>

  <function name="rpcf_get_payment_methods_list" id="0x3100">
    <input/>
    <output>
      <integer name="payments_list_count" />
      <for name="i" from="0" count="payments_list_count">
        <integer name="id"  array_index="i" />
        <string name="name" array_index="i" />
      </for>
    </output>
  </function>

  <function name="rpcf_add_payment_method" id="0x3101">
    <input>
      <integer name="id" />
      <string name="name" />
    </input>
    <output/>
  </function>

  <function name="rpcf_edit_payment_method" id="0x3102">
    <input>
      <integer name="id" />
      <string name="name" />
    </input>
    <output/>
  </function>

  <function name="rpcf_add_payment_for_account" id="0x3110">
    <input>
      <integer name="account_id"/>
      <integer name="unused" default="0"/>
      <double name="payment"/>
      <integer name="currency_id" default="810"/>
      <integer name="payment_date" default="now()"/>
      <integer name="burn_date" default="0"/>
      <integer name="payment_method" default="1"/>
      <string name="admin_comment" default=""/>
      <string name="comment" default=""/>
      <string name="payment_ext_number" default=""/>
      <integer name="payment_to_invoice" default="0"/>
      <integer name="turn_on_inet" default="1"/>
    </input>
    <output>
      <integer name="payment_transaction_id"/>
    </output>
  </function>

  <function name="rpcf_cancel_payment_for_account" id="0x3111">
    <input>
      <integer name="pay_t_id" />
      <string name="com_for_user" />
      <string name="com_for_admin" />
    </input>
    <output/>
  </function>

  <function name="rpcf_add_payment_for_account_notify" id="0x3113">
    <input>
      <integer name="account_id" />
      <integer name="param" value="0" />
      <double name="payment_incurrency" />
      <integer  name="currency_id" />
      <integer name="actual_date" />
      <integer name="burn_time" />
      <integer name="method" />
      <string name="admin_comment" />
      <string name="comment" />
      <string name="payment_ext_number" />
      <integer name="payment_to_invoice" />
      <integer name="turn_on_inet" />
      <integer name="notify" />
      <string name="hash" />
    </input>
    <output>
      <integer name="payment_transaction_id" />
    </output>
  </function>

  <function name="rpcf_custom_services_report" id="0x3114">
    <input>
        <integer name="t_start" default="0"/>
        <integer name="t_end" default="now()"/>        
        <integer name="account_id" default="0"/>
        <integer name="user_id" default="0"/>
    </input>
    <output>
        <integer name="count"/>
        <for name="i" from="0" count="count">
            <integer name="account_id"/>
            <string name="login"/>
            <integer name="date"/>
            <string name="mark"/>
            <double name="amount"/>
            <double name="amount_with_tax"/>
            <string name="service_name"/>
            <string name="service_key"/>
            <integer name="revoked"/>
        </for>
    </output>
  </function>

  <function name="rpcf_card_list" id="0x4200">
    <input>
      <integer name="pool_id" />
    </input>
    <output>
      <integer name="cpi_owners_size" />
      <for name="i" from="0" count="cpi_owners_size">
        <integer name="owners" array_index="i" />
      </for>
      <integer name="info_size" />
      <integer name="time0" />
      <for name="i" from="0" count="info_size">
        <integer name="card_id" array_index="i" />
        <integer name="pool_id" array_index="i" />
        <string name="secret" array_index="i" />
        <double name="balance" array_index="i" />
        <integer name="currency" array_index="i" />
        <integer name="expire" array_index="i" />
        <integer name="days" array_index="i" />
        <integer name="is_used" array_index="i" />
        <integer name="tp_id" array_index="i" />
        <integer name="is_blocked" array_index="i" />
      </for>
    </output>
  </function>

  <function name="rpcf_card_pool_list" id="0x4201">
    <input/>
    <output>
      <integer name="info_size" />
      <for name="i" from="0" count="info_size">
        <integer name="pool_id" array_index="i" />
        <integer name="cards" array_index="i" />
        <integer name="cards_used" array_index="i" />
        <integer name="first_update" array_index="i" />
        <integer name="last_update" array_index="i" />
      </for>
    </output>
  </function>

  <function name="rpcf_card_add" id="0x4202">
    <input>
      <string name="secret" />
      <double name="balance" />
      <integer name="currency" />
      <integer name="expire" />
      <integer name="days" />
      <integer name="is_used" />
      <integer name="tp_id" />
    </input>
    <output/>
  </function>

  <function name="rpcf_card_pool_add" id="0x4203">
    <input>
      <integer name="pool_id" default="0"/>
      <integer name="sec_size" default="8"/>
      <integer name="delay" default="0"/>
      <integer name="size" />
      <double  name="balance" />
      <integer name="currency" default="810"/>
      <integer name="expire" default="max_time()"/>
      <integer name="days" default="0"/>
      <integer name="service_id" default="0"/>
      <integer name="random" default="0"/>
    </input>
    <output/>
  </function>

  <function name="rpcf_block_card" id="0x4204">
    <input>
      <integer name="card_id" />
    </input>
    <output>
      <integer name="result" />
    </output>
  </function>

  <function name="rpcf_unblock_card" id="0x4205">
    <input>
      <integer name="card_id" />
    </input>
    <output>
      <integer name="result" />
    </output>
  </function>

  <function name="rpcf_move_expired_cards" id="0x4206">
    <input/>
    <output>
      <integer name="result" />
    </output>
  </function>

  <function name="rpcf_delete_card_owner" id="0x4290">
    <input>
      <integer name="pool_id" />
      <integer name="owned_id" />
    </input>
    <output/>
  </function>

  <function name="rpcf_add_card_owner" id="0x4291">
    <input>
      <integer name="pool_id" />
      <integer name="owned_id" />
    </input>
    <output/>
  </function>

  <!-- TODO: function 0x4305 description -->
  
  <!-- TODO: function 0x4306 description -->

  <!-- TODO: function 0x4307 description -->

  <function name="rpcf_get_settings_list" id="0x4400">
    <input/>
    <output>
      <integer name="values_size" />
      <for name="i" from="0" count="values_size">
        <integer name="id" array_index="i" />
        <string name="name" array_index="i" />
        <string name="value" array_index="i" />
      </for>
    </output>
  </function>

  <function name="rpcf_add_setting" id="0x4401">
    <input>
      <integer name="id" />
      <string name="variable" />
      <string name="old_value" />
      <string name="new_value" />
    </input>
    <output/>
  </function>

  <function name="rpcf_edit_setting" id="0x4402">
    <input>
      <integer name="id" />
      <string name="variable" />
      <string name="param" default="" />
      <string name="new_value" />
    </input>
    <output/>
  </function>

  <function name="rpcf_remove_setting" id="0x4403">
    <input>
      <integer name="id" />
    </input>
    <output/>
  </function>

  <function name="rpcf_get_setting" id="0x4404">
    <input>
      <string name="variable" />
    </input>
    <output>
      <integer name="values_count"/>
      <for name="i" from="0" count="values_count">
        <string name="value"/>
      </for>
    </output>
  </function>

  <function name="rpcf_get_sys_users_list" id="0x4413">
    <input/>
    <output>
      <integer name="info_size" />
      <for name="i" from="0" count="info_size">
        <integer name="user_id" array_index="i" />
        <string name="login" array_index="i" />
        <ip_address name="ip4_address" array_index="i" />
        <integer name="mask4" array_index="i" />
        <ip_address name="ip6_address" array_index="i" />
        <integer name="mask6" array_index="i" />
      </for>
    </output>
  </function>


    <function name="rpcf_add_sys_user" id="0x4415">
      <input>
        <integer name="user_id" />
        <string name="login" />
        <string name="password" />
        <ip_address name="ip4_address" />
        <integer name="mask4" />
        <ip_address name="ip6_address" />
        <integer name="mask6" />
        <integer name="groups_size" />
        <for name="i" from="0" count="size(group_id)">
          <integer name="group_id" array_index="i"  />
        </for>
      </input>
      <output>
        <integer name="result" />
      </output>
    </function>

  <function name="rpcf_edit_sys_user" id="0x4416">
    <input>
      <integer name="user_id" />
      <string name="login" />
      <string name="password" />
      <ip_address name="ip4_address" />
      <integer name="mask4" />
      <ip_address name="ip6_address" />
      <integer name="mask6" />
      <integer name="groups_size" />
      <for name="i" from="0" count="size(group_id)">
        <integer name="group_id" array_index="i"  />
      </for>
    </input>
    <output>
      <integer name="result" />
    </output>
  </function>

  <function name="rpcf_get_sysuser_name" id="0x4408">
    <input>
      <integer name="user_id" />
    </input>
    <output>
      <string name="login" />
    </output>
  </function>

  <function name="rpcf_get_sys_user" id="0x4414">
    <input>
      <integer name="user_id" />
    </input>
    <output>
      <string name="login" />
      <ip_address name="ip4" />
      <integer name="mask4" />
      <ip_address name="ip6" />
      <integer name="mask6" />
      <integer name="groups_size" />
      <for name="i" from="0" count="groups_size">
        <integer name="group_id" array_index="i" />
        <string name="group_name" array_index="i" />
        <string name="group_info" array_index="i" />
      </for>
    </output>
  </function>

  <function name="rpcf_whoami" id="0x4417">
    <input/>
    <output>
      <integer name="my_uid" />
      <string name="login"/>
      <ip_address name="user_ip4" />
      <integer name="user_mask4" />
      <ip_address name="user_ip6" />
      <integer name="user_mask6" />
      <integer name="system_group_size" />
      <for name="i" from="0" count="system_group_size">
        <integer name="system_group_id" array_index="i" />
        <string name="system_group_name" array_index="i" />
        <string name="system_group_info" array_index="i" />
      </for>
      <integer name="allowed_fids_size" />
      <for name="i" from="0" count="allowed_fids_size">
        <integer name="id" array_index="i" />
        <string name="name" array_index="i" />
        <string name="module" array_index="i" />
      </for>
      <integer name="not_allowed_size" />
      <for name="i" from="0" count="not_allowed_size">
        <integer name="id_not_allowed" array_index="i" />
        <string name="name_not_allowed" array_index="i" />
        <string name="module_not_allowed" array_index="i" />
      </for>
    </output>
  </function>

  <function name="rpcf_get_uaparam_list" id="0x440b">
    <input/>
    <output>
      <integer name="uparam_size" />
      <for name="i" from="0" count="uparam_size">
        <integer name="id" array_index="i" />
        <string name="name" array_index="i" />
        <string name="display_name" array_index="i" />
        <integer name="visible" array_index="i" />
      </for>
    </output>
  </function>

  <function name="rpcf_add_uaparam" id="0x440c">
    <input>
      <integer name="id" />
      <string name="name" />
      <string name="display_name" />
      <integer name="visible" />
    </input>
    <output/>
  </function>

  <function name="rpcf_del_uaparam" id="0x440d">
    <input>
      <integer name="uaparam_id" />
    </input>
    <output/>
  </function>

  <function name="rpcf_edit_uaparam" id="0x440e">
    <input>
      <integer name="id" />
      <string name="name" />
      <string name="display_name" />
      <integer name="visible" />
    </input>
    <output/>
  </function>

  <function name="rpcf_delete_sys_user" id="0x4410">
    <input>
      <integer name="user_id" />
    </input>
    <output/>
  </function>

  <function name="rpcf_get_messages_list" id="0x5000">
    <input>
      <long name="time_start" />
      <long name="time_end" />
      <integer name="deprecated" />
    </input>
    <output>
      <integer name="message_size" />
      <for name="i" from="0" count="message_size">
        <integer name="id" array_index="i" />
        <integer name="send_date" array_index="i" />
        <integer name="recv_date" array_index="i" />
        <integer name="sender_id" array_index="i" />
        <string name="subject" array_index="i" />
        <string name="message" array_index="i" />
        <string name="mime" array_index="i" />
        <integer name="state" array_index="i" />
      </for>
    </output>
  </function>

  <function name="rpcf_add_message" id="0x5001">
    <input>
      <integer name="receiver_id" />
      <string name="subject" />
      <string name="message" />
      <string name="mime" />
      <integer name="is_for_all" />
    </input>
    <output/>
  </function>

  <function name="rpcf_get_routers_list" id="0x5043">
    <input/>
    <output>
      <integer name="routers_size" />
      <for name="i" from="0" count="routers_size">
        <integer name="router_id" array_index="i" />
        <integer name="router_type" array_index="i" />
        <string name="router_ip" array_index="i" />
        <string name="login" array_index="i" />
        <string name="password" array_index="i" />
        <string name="router_comments" array_index="i" />
        <ip_address name="router_bin_ip" array_index="i" />
        <integer name="is_online" array_index="i" />
      </for>
    </output>
  </function>

  <function name="rpcf_put_router" id="0x501d">
    <input>
      <integer name="router_id" default="0"/> <!--set zero to create new firewall or non-zero to edit existing-->
      <integer name="router_type" />
      <string name="router_ip" />
      <string name="login" />
      <string name="password" />
      <string name="router_comments" />
      <ip_address name="router_bin_ip" /> <!--netflow supplier ip address-->
    </input>
    <output/>
  </function>

  <function name="rpcf_del_router" id="0x5007">
    <input>
      <integer name="router_id" />
    </input>
    <output/>
  </function>

  <function name="rpcf_get_version_info" id="0x5010">
    <input/>
    <output>
      <string name="name" />
      <string name="country" />
      <string name="region" />
      <string name="city" />
      <string name="address" />
      <string name="email" />
      <string name="tel" />
      <string name="web" />
    </output>
  </function>

  <function name="rpcf_get_nas_list" id="0x5040">
    <input/>
    <output>
      <integer name="nas_size" />
      <for name="i" from="0" count="nas_size">
        <integer name="id" array_index="i" />
        <string name="nas_id" array_index="i" />
        <string name="auth_secret" array_index="i" />
        <string name="acct_secret" array_index="i" />
        <string name="dac_secret" array_index="i" />
        <integer name="das_port" array_index="i" />
        <integer name="flags" array_index="i" />
      </for>
    </output>
  </function>

  <function name="rpcf_put_nas" id="0x5044">
    <input>
      <!-- if mode == 0, add. Else - edit -->
      <integer name="mode" />
      <integer name="id" />
      <string name="nas_id" />
      <string name="auth_secret" />
      <string name="acct_secret" />
      <string name="dac_secret" />
      <integer name="das_port" />
      <integer name="flags" />
      
      <integer name="nas_size" />
      <for name="i" from="0" count="nas_size">
        <string name="variable" array_index="i" />
        <string name="value" array_index="i" />
      </for>
    </input>
    <output>
      <integer name="result" />
    </output>
  </function>

  <function name="rpcf_get_traffic_detailed" id="0x5018">
    <input>
      <integer name="user_id" default="0" />
      <integer name="account_id"   />
      <integer name="apid" />
      <integer name="time_start" />
      <integer name="time_end" />
    </input>
    <output>
      <integer name="nf5a_size" />
      <for name="i" from="0" count="nf5a_size">
        <integer name="timestamp" array_index="i" />
        <integer name="slink_id" array_index="i" />
        <integer name="account_id" array_index="i" />
        <integer name="tclass" array_index="i" />
        <ip_address name="saddr" array_index="i" />
        <ip_address name="daddr" array_index="i" />
        <integer name="d_pkt" array_index="i" />
        <integer name="d_oct" array_index="i" />
        <integer name="sport" array_index="i" />
        <integer name="dport" array_index="i" />
        <integer name="tcp_flags" array_index="i" />
        <integer name="proto" array_index="i" />
        <integer name="tos" array_index="i" />
      </for>
    </output>
  </function>

  <function name="rpcf_get_dhs_report" id="0x5019">
    <input>
      <integer name="user_id" />
      <integer name="account_id" />
      <integer name="apid" />
      <integer name="t_start" />
      <integer name="t_end" />
    </input>
    <output>
      <integer name="dhs_log_size" />
      <for name="i" from="0" count="dhs_log_size">
        <integer name="id" array_index="i" />
        <integer name="account_id" array_index="i" />
        <integer name="slink_id" array_index="i" />
        <integer name="recv_date" array_index="i" />
        <integer name="last_update_date" array_index="i" />
        <string name="Called_Station_Id" array_index="i" />
        <string name="Calling_Station_Id" array_index="i" />
        <ip_address name="framed_ip4" array_index="i" />
        <ip_address name="framed_ip6" array_index="i" />
        <integer name="nas_port" array_index="i" />
        <string name="acct_session_id" array_index="i" />
        <integer name="nas_port_type" array_index="i" />
        <string name="uname" array_index="i" />
        <integer name="service_type" array_index="i" />
        <integer name="framed_protocol" array_index="i" />
        <integer name="nas_ip" array_index="i" />
        <string name="nas_id" array_index="i" />
        <integer name="acct_status_type" array_index="i" />
        <long name="acct_inp_pack" array_index="i" />
        <long name="acct_inp_oct" array_index="i" />
        <long name="acct_inp_giga" array_index="i" />
        <long name="acct_out_pack" array_index="i" />
        <long name="acct_out_oct" array_index="i" />
        <long name="acct_out_giga" array_index="i" />
        <long name="acct_sess_time" array_index="i" />
        <integer name="acct_term_cause" array_index="i" />
        <double name="total_cost" array_index="i" />
      </for>
    </output>
  </function>

  <function name="rpcf_get_dhcp_leases_report" id="0x1354">
    <input>
      <integer name="user_id" />
      <integer name="account_id" />
      <integer name="apid" />
      <integer name="t_start" />
      <integer name="t_end" />
    </input>
    <output>
      <integer name="lases_size" />
      <for name="i" from="0" count="lases_size">
          <integer name="user_id" array_index="i" />
          <string name="user_login" array_index="i" />
          <ip_address name="ip" array_index="i" />
          <string name="mac" array_index="i" />
          <string name="relay_agent_info" array_index="i" />
          <integer name="updated" array_index="i" />
          <integer name="expired" array_index="i" />
      </for>
    </output>
  </function>
  
  <function name="rpcf_get_tel_report" id="0x5037">
    <input>
      <integer name="user_id" />
      <integer name="account_id" />
      <integer name="apid" />
      <integer name="time_start" />
      <integer name="time_end" />
    </input>
    <output>
      <integer name="dhs_log_size" />
      <for name="i" from="0" count="dhs_log_size">
        <integer name="count"/>
        <set dst="count_array" src="count" dst_index="i" /> 
        <for name="j" from="0" count="count">
          <integer name="id" array_index="i,j" />
          <integer name="account_id" array_index="i,j" />
          <integer name="slink_id" array_index="i,j" />
          <integer name="recv_date" array_index="i,j" />
          <integer name="start_time" array_index="i,j" />
          <integer name="end_time" array_index="i,j" />
          <string name="Called_Station_Id" array_index="i,j" />
          <string name="Calling_Station_Id" array_index="i,j" />
          <integer name="nas_port" array_index="i,j" />
          <string name="acct_session_id" array_index="i,j" />
          <integer name="nas_port_type" array_index="i,j" />
          <string name="uname" array_index="i,j" />
          <integer name="service_type" array_index="i,j" />
          <integer name="framed_protocol" array_index="i,j" />
          <ip_address name="nas_ip" array_index="i,j" />
          <string name="nas_id" array_index="i,j" />
          <integer name="acct_status_type" array_index="i,j" />
          <long name="acct_inp_pack" array_index="i,j" />
          <long name="acct_inp_oct" array_index="i,j" />
          <long name="acct_out_pack" array_index="i,j" />
          <long name="acct_out_oct" array_index="i,j" />
          <integer name="zone_id" array_index="i,j" />
          <integer name="did" array_index="i,j" />
          <long name="acct_sess_time" array_index="i,j" />
          <string name="incoming_trunk" array_index="i,j"/>
          <string name="outgoing_trunk" array_index="i,j"/>
          <string name="pbx_id" array_index="i,j"/>
          <integer name="flags" array_index="i,j"/>
          <string name="dcause" array_index="i,j" />
          <long name="duration" array_index="i,j" />
          <double name="base_cost" array_index="i,j" />
          <double name="cost_mult" array_index="i,j" />
          <double name="sum_cost" array_index="i,j" />
        </for>
      </for>
    </output>
  </function>  
  
  <function name="rpcf_get_nas" id="0x5045">
    <input>
      <integer name="id" />
    </input>
    <output>
      <string name="nas_id" />
      <string name="auth_secret" />
      <string name="acct_secret" />
      <string name="dac_secret" />
      <integer name="das_port" />
      <integer name="flags" />      
      <integer name="nas_size" />
      <for name="i" from="0" count="nas_size">
        <string name="variable" array_index="i" />
        <string name="value" array_index="i" />
      </for>
    </output>
  </function>

  <function name="rpcf_del_nas" id="0x501a">
    <input>
      <integer name="id" />
    </input>
    <output/>
  </function>

  <function name="rpcf_update_message_state" id="0x5029">
    <input>
      <integer name="mid" />
      <integer name="state" />
    </input>
    <output/>
  </function>

  <function name="rpcf_get_telephony_service_link" id="0x5058">
    <input>
      <integer name="slink_id"/>
    </input>
    <output>
      <integer name="tariff_link_id"/>
      <integer name="is_blocked"/>
      <integer name="discount_period_id"/>
      <integer name="start_date"/>
      <integer name="expire_date"/>
      <integer name="unabon"/>
      <integer name="unprepay"/>
      <integer name="tariff_id"/>
      <integer name="parent_id"/>
      <integer name="numbers_size"/>
      <for name="numbers" from="0" count="numbers_size">
        <integer name="item_id" array_index="numbers"/>
        <string  name="number" array_index="numbers"/>
        <string  name="login" array_index="numbers"/>
        <string  name="password" array_index="numbers"/>
        <string  name="allowed_cid" array_index="numbers"/>
      </for>
    </output>
  </function>

  <function name="rpcf_copy_voip_price" id="0x5080">
    <input>
      <integer name="src_id" />
      <integer name="dst_id" />
    </input>
    <output>
      <integer name="result" />
    </output>
  </function>

  <function name="rpcf_get_graph" id="0x5090">
    <input>
      <integer name="uid" />
      <integer name="aid" />
      <integer name="t_start" />
      <integer name="t_end" />
    </input>
    <output>
      <integer name="account_id" />
      <integer name="graph_data_size" />
      <if variable="graph_data_size" value="0" condition="ne">
        <for name="i" from="0" count="graph_data_size">
          <integer name="graph_param" array_index="i" />
        </for>
        <integer name="st_size" />
        <for name="i" from="0" count="st_size">
          <integer name="id" array_index="i" />
          <string name="tclass_name" array_index="i" />
          <long name="min" array_index="i" />
          <long name="avg" array_index="i" />
          <long name="max" array_index="i" />
        </for>
      </if>
    </output>
  </function>

  <function name="rpcf_get_graph_data_iptraffic" id="0x5091">
    <input>
      <integer name="uid" />
      <integer name="aid" />
      <integer name="t_start" />
      <integer name="t_end" />
    </input>
    <output>
      <integer name="traffic_discount_size" />
      <for name="i" from="0" count="traffic_discount_size">
        <integer name="time" array_index="i" />
        <integer name="size" />
        <set dst="size_array" src="size" dst_index="i" /> 
        <for name="j" from="0" count="size">
          <integer name="tclass" array_index="i,j" />
          <double name="bytes" array_index="i,j" />
        </for>
      </for>
    </output>
  </function>

  <function name="rpcf_get_graph_data_dialup" id="0x5092">
    <input>
      <integer name="uid" />
      <integer name="aid" />
      <integer name="t_start" />
      <integer name="t_end" />
    </input>
    <output>
      <integer name="gdata_size" />
      <for name="i" from="0" count="gdata_size">
        <integer name="date" array_index="i" />
        <integer name="size" />
        <set dst="size_array" src="size" dst_index="i" /> 
        <for name="j" from="0" count="size">
          <string name="name" array_index="i,j" />
          <double name="bytes" array_index="i,j" />
        </for>
      </for>
    </output>
  </function>

  <function name="rpcf_get_graph_data_telephony" id="0x5093">
    <input>
      <integer name="uid" />
      <integer name="aid" />
      <integer name="t_start" />
      <integer name="t_end" />
    </input>
    <output>
      <integer name="gdata_size" />
      <for name="i" from="0" count="gdata_size">
        <integer name="date" array_index="i" />
        <integer name="size" />
        <set dst="size_array" src="size" dst_index="i" /> 
        <for name="j" from="0" count="size">
          <string name="name" array_index="i,j" />
          <double name="bytes" array_index="i,j" />
        </for>
      </for>
    </output>
  </function>

  <function name="rpcf_delete_slink" id="0x5100">
    <input>
      <integer name="slink_id"/>
    </input>
    <output>
      <integer name="error_code"/>
      <if variable="error_code" value="0" condition="ne">
        <error code="13" comment="unable to delete service link"/>
      </if>
    </output>
  </function>

  <function name="rpcf_get_prepaid_units" id="0x5500">
    <input>
      <integer name="slink_id" />
    </input>
    <output>
      <integer name="bytes_in_mbyte" />
      <integer name="pinfo_size" />
      <for name="i" from="0" count="pinfo_size">
        <integer name="id" array_index="i" />
        <long name="old" array_index="i" />
        <long name="cur" array_index="i" />
      </for>
    </output>
  </function>

  <function name="rpcf_put_prepaid_units" id="0x5501">
    <input>
      <integer name="slink_id"/>
      <integer name="tclass_id"/>
      <long name="prepaid_units"/>
    </input>
    <output/>
  </function>

  <function name="rpcf_put_unif_iptr" id="0x5511">
    <input>
      <integer name="count" default="size(login)"/>
      <for name="i" from="0" count="size(login)">
        <string name="login" array_index="i" />
        <integer name="ipid" array_index="i" />
        <integer name="tclass" array_index="i" />
        <integer name="d_oct" array_index="i" />
      </for>
    </input>
    <output/>
  </function>

  <function name="rpcf_put_banks" id="0x6001">
    <input>
      <integer name="banks_size" default="size(bic)"/>
      <for name="i" from="0" count="size(bic)">
        <string name="bic" array_index="i" />
        <string name="name" array_index="i" />
        <string name="city" array_index="i" />
        <string name="kschet" array_index="i" />
      </for>
    </input>
    <output>
      <integer name="result" />
    </output>
  </function>

  <function name="rpcf_get_banks" id="0x6002">
    <input/>
    <output>
      <integer name="banks_size" />
      <for name="i" from="0" count="banks_size">
        <integer name="id" array_index="i" />
        <string name="bic" array_index="i" />
        <string name="name" array_index="i" />
        <string name="city" array_index="i" />
        <string name="kschet" array_index="i" />
      </for>
    </output>
  </function>

  <function name="rpcf_del_bank" id="0x6003">
    <input>
      <integer name="bank_id" />
      <string name="bic" />
    </input>
    <output/>
  </function>

<!-- TODO
     <function name="rpcf_get_contract_templates" id="0x7000">
     <function name="rpcf_add_contract_template" id="0x7001">
     <function name="rpcf_update_contract_template" id="0x7002">
     <function name="rpcf_delete_contract_template" id="0x7003">
     <function name="rpcf_add_contract" id="0x7004">
     <function name="rpcf_update_contract" id="0x7005">
     <function name="rpcf_delete_contract" id="0x7006">
     <function name="rpcf_get_contract_byid" id="0x7007">
     <function name="rpcf_get_contracts_listbyuid" id="0x7008">
     <function name="rpcf_get_contract_byuidtid" id="0x7009">
     <function name="rpcf_get_contract_templatebyid" id="0x7010">
-->

  <function name="rpcf_add_doc_template" id="0x7020">
    <input>
      <integer name="doc_type_id" />
      <integer name="doc_template_id" />
      <string name="doc_name" />
      <string name="doc_text" />
    </input>
    <output>
      <integer name="result" />
    </output>
  </function>

  <function name="rpcf_save_doc_template" id="0x7021">
    <input>
      <integer name="doc_type_id" />
      <integer name="needInsert" />
      <integer name="doc_template_id" />
      <integer name="doc_id" />
      <string name="doc_name" />
      <string name="doc_text" />
    </input>
    <output>
      <integer name="result" />
    </output>
  </function>

  <function name="rpcf_get_doc_templates_list" id="0x7022">
    <input>
      <integer name="doc_type_id" />
    </input>
    <output>
      <integer name="count" />
      <for name="i" from="0" count="count">
        <integer name="id" array_index="i" />
        <integer name="doc_id" array_index="i" />
        <integer name="date" array_index="i" />
        <string name="doc_name" array_index="i" />
        <integer name="def" array_index="i" />
      </for>
    </output>
  </function>

  <function name="rpcf_get_doc_template_text" id="0x7023">
    <input>
      <integer name="doc_template_id" />
    </input>
    <output>
      <integer name="id" />
      <if variable="id" value="0" condition="ne">
        <string name="doc_text" />
        <integer name="landscape" />
      </if>
    </output>
  </function>

  <function name="rpcf_get_doc_types_list" id="0x7024">
    <input/>
    <output>
      <integer name="count" />
      <for name="i" from="0" count="count">
        <string name="doc_name" array_index="i" />
        <integer name="id" array_index="i" />
      </for>
    </output>
  </function>

  <function name="rpcf_set_default_doc_template" id="0x7025">
    <input>
      <integer name="template_id" />
      <integer name="doc_type" />
    </input>
    <output/>
  </function>

  <function name="rpcf_delete_doc_template" id="0x7026">
    <input>
      <integer name="doc_templ_id" />
    </input>
    <output>
      <integer name="result" />
    </output>
  </function>

  <function name="rpcf_save_doc_for_user" id="0x7031">
    <input>
      <integer name="doc_tmplate_id" />
      <string name="doc_text" />
    </input>
    <output>
      <integer name="result" />
    </output>
  </function>

  <function name="rpcf_get_doc_for_user" id="0x7032">
    <input>
      <integer name="doc_data_id" />
    </input>
    <output>
      <integer name="id" />
      <if variable="id" value="0" condition="ne">
        <integer name="text_count"/>
	<for name="i" from="0" count="text_count">
          <string name="dynamic_text" array_index="i"/>
	</for>
        <integer name="landscape" />
      </if>
    </output>
  </function>

  <function name="rpcf_get_docs_list_for_aid" id="0x7033">
    <input>
      <integer name="aid" />
    </input>
    <output>
      <integer name="ret_code_count" />
      <if variable="ret_code_count" value="-1" condition="ne">
        <for name="i" from="0" count="ret_code_count">
          <integer name="id" array_index="i" />
          <integer name="doc_template_id" array_index="i" />
          <integer name="base_id" array_index="i" />
          <integer name="gen_date" array_index="i" />
          <integer name="is_sign" array_index="i" />
        </for>
      </if>
    </output>
  </function>

  <function name="rpcf_sign_doc" id="0x7034">
    <input>
      <integer name="doc_id" />
    </input>
    <output>
      <integer name="result" />
    </output>
  </function>

  <function name="rpcf_del_doc" id="0x7035">
    <input>
      <integer name="doc_id" />
    </input>
    <output>
      <integer name="result" />
    </output>
  </function>

  <function name="rpcf_get_docs_list" id="0x7036">
    <input>
      <integer name="doc_type" />
      <integer name="account_id" />
    </input>
    <output>
      <integer name="ret_code_count" />
      <if variable="ret_code_count" value="-1" condition="ne">
        <for name="i" from="0" count="ret_code_count">
          <integer name="id" array_index="i" />
          <integer name="doc_template_id" array_index="i" />
          <integer name="base_id" array_index="i" />
          <integer name="gen_date" array_index="i" />
          <integer name="is_sign" array_index="i" />
        </for>
      </if>
    </output>
  </function>

  <function name="rpcf_get_vendor_doc_text" id="0x7038">
    <input>
      <integer name="doc_type" />
    </input>
    <output>
      <string name="vendor_doc_text" />
    </output>
  </function>

  <function name="rpcf_get_invoices_list" id="0x8001">
    <input>
      <integer name="aid" />
      <integer name="time_start" />
      <integer name="time_end" />
      <integer name="gid" />
    </input>
    <output>
      <integer name="accts_size" />
      <for name="i" from="0" count="accts_size">
        <integer name="count_of_invoice" />	
        <set dst="count_of_invoice_array" src="count_of_invoice" dst_index="i" /> 
        <if variable="count_of_invoice" value="0" condition="ne">
          <integer name="currency_id" array_index="i" />
          <string name="currency_name" array_index="i" />
          <string name="payment_rule" array_index="i" />
        </if>
        <for name="j" from="0" count="count_of_invoice">
          <integer name="id" array_index="i,j" />
          <string name="ext_num" array_index="i,j" />
          <integer name="invoice_date" array_index="i,j" />
          <integer name="uid" array_index="i,j" />
          <integer name="payment_transaction_id" array_index="i,j" />
          <integer name="expire_date" array_index="i,j" />
          <integer name="tmp_is_payed"/>
          <set src="tmp_is_payed" dst="is_payed" dst_index="i,j"/>
          <integer name="is_printed" array_index="i,j" />
          <integer name="account_id" array_index="i,j" />
          <string name="full_name" array_index="i,j" />
          <if variable="tmp_is_payed" value="0" condition="ne">
            <integer name="accInvcInfo_id" array_index="i,j" />
            <integer name="accInvcInfo_date" array_index="i,j" />
            <integer name="accInvcInfo_payed_date" array_index="i,j" />
            <string name="payment_ext_number" array_index="i,j" />
            <integer name="is_printed" array_index="i,j" />
          </if>
          <if variable="tmp_is_payed" value="0" condition="eq">
            <set dst="accInvcInfo_id" dst_index="i,j" value="0"/>
            <set dst="accInvcInfo_date" dst_index="i,j" value="0" />
            <set dst="accInvcInfo_payed_date" dst_index="i,j" value="0" />
            <set dst="payment_ext_number" dst_index="i,j" value=""/>
            <set dst="is_printed" dst_index="i,j" value="0"/>
          </if>
          <integer name="entry_size" />
          <set dst="entry_size_array" src="entry_size" dst_index="i,j" /> 
          <for name="x" from="0" count="entry_size">
            <string name="name" array_index="i,j,x" />
            <integer name="invoice_id" array_index="i,j,x" />
            <integer name="slink_id" array_index="i,j,x" />
            <integer name="service_type" array_index="i,j,x" />
            <integer name="discount_period_id" array_index="i,j,x" />
            <integer name="date" array_index="i,j,x" />
            <double name="qnt" array_index="i,j,x" />
            <double name="base" array_index="i,j,x" />
            <double name="sum" array_index="i,j,x" />
            <double name="tax" array_index="i,j,x" />
          </for>
          <if variable="entry_size" value="0" condition="ne">
            <double name="total_sum" array_index="i,j" />
            <double name="total_tax" array_index="i,j" />
            <double name="total_sum_plus_total_tax" array_index="i,j" />
          </if>
        </for>
      </for>
    </output>
  </function>

  <function name="rpcf_get_invc_lst_addpay" id="0x8002">
    <input>
      <integer name="user_id" />
      <integer name="account_id" />
    </input>
    <output>
      <integer name="accounts_size" />
      <for name="i" from="0" count="accounts_size">
        <integer name="aid" array_index="i" />
        <integer name="binded_currency" array_index="i" />
        <integer name="inv_size" array_index="i" />
        <for name="j" from="0" count="inv_size">

            <integer name="aid" array_index="i,j" />
            <integer name="id" array_index="i,j" />
          <string name="ext_num" array_index="i,j" />
          <integer name="invoice_date" array_index="i,j" />
          <double name="system_cur_sum" array_index="i,j" />
          <double name="binded_cur_sum" array_index="i,j" />
          <double name="total" array_index="i,j" />

        </for>
      </for>
    </output>
  </function>

  <function name="rpcf_get_currency_rate_to_date" id="0x8003">
    <input>
      <integer name="date" />
      <integer name="code" />
    </input>
    <output>
      <double name="result" />
    </output>
  </function>

  <function name="rpcf_sendInvoice2mail" id="0x8004">
    <input>
      <integer name="aid" />
      <integer name="invc_id" />
    </input>
    <output/>
  </function>

  <function name="rpcf_get_supplier" id="0x8013">
    <input>
      <integer name="id" />
    </input>
    <output>
      <integer name="id" />
      <string name="name" />
      <string name="short_name" />
      <string name="jur_adress" />
      <string name="act_adress" />
      <string name="inn" />
      <string name="kpp" />
      <integer name="bank_id" />
      <string name="account" />
      <string name="headman" />
      <string name="bookeeper" />
      <string name="short_headman" />
      <string name="short_bookeeper" />
      <double name="supp_balance" />
      <double name="tax_rate" />
      <integer name="type" />
    </output>
  </function>
  

  <function name="rpcf_get_suppliers_zones" id="0x8019">
    <output>
      <integer name="ret_code" />
      <integer name="size" />
      <for name="i" from="0" count="size">
        <integer name="zone_id" array_index="i" />
        <integer name="supplier_id" array_index="i" />
      </for>
    </output>
  </function>

  <function name="rpcf_get_user_instructions" id="0x8020">
    <input>
      <integer name="user_id" />
    </input>
    <output>
      <integer name="basic_account" />
      <string name="login" />
      <string name="password" />
      <integer name="count" />
      <for name="i" from="0" count="count">
        <integer name="group_size" />
        <set dst="group_size_array" src="group_size" dst_index="i" /> 
        <for name="j" from="0" count="group_size">
          <ip_address name="ip" array_index="i,j" />
          <ip_address name="mask" array_index="i,j" />
          <string name="ulogin" array_index="i,j" />
          <string name="password" array_index="i,j" />
          <string name="mac" array_index="i,j" />
        </for>
      </for>
    </output>
  </function>

  <function name="rpcf_get_supplier_id_for_service" id="0x8021">
    <input>
      <integer name="service_id" />
    </input>
    <output>
      <integer name="invoice_sup_id" />
    </output>
  </function>

  <function name="rpcf_set_supplier_id_for_service" id="0x8022">
    <input>
      <integer name="service_id" />
      <integer name="invoice_sup_id" />
    </input>
  </function>

  <function name="rpcf_get_tech_param_by_uid" id="0x9000">
    <input>
      <integer name="user_id" />
      <integer name="account_id" />
    </input>
    <output>
      <integer name="size_tp" />
      <for name="i" from="0" count="size_tp">
        <integer name="size_vec_ltp" />
        <set dst="size_vec_ltp_array" src="size_vec_ltp" dst_index="i" /> 
        <for name="j" from="0" count="size_vec_ltp">
          <integer name="id" array_index="i,j" />
          <integer name="type_id" array_index="i,j" />
          <string name="type_name" array_index="i,j" />
          <string name="param" array_index="i,j" />
          <integer name="reg_date" array_index="i,j" />
          <integer name="slink_id" array_index="i,j" />
          <string name="service_name" array_index="i,j" />
          <string name="password" array_index="i,j" />
        </for>
      </for>
    </output>
  </function>

  <function name="rpcf_del_tech_param" id="0x9001">
    <input>
      <integer name="tpid" />
      <integer name="slink" />
    </input>
    <output/>
  </function>

  <function name="rpcf_get_tech_param_type" id="0x9002">
    <input/>
    <output>
      <integer name="count" />
      <for name="i" from="0" count="count">
        <integer name="id" array_index="i" />
        <string name="name" array_index="i" />
      </for>
    </output>
  </function>

  <function name="rpcf_get_techparam_slink_by_uid" id="0x9003">
    <input>
      <integer name="user_id" />
      <integer name="account_id" />
    </input>
    <output>
      <integer name="count" />
      <for name="i" from="0" count="count">
        <integer name="slink_id" array_index="i" />
        <string name="service_name" array_index="i" />
      </for>
    </output>
  </function>

  <function name="rpcf_add_tech_param" id="0x9004">
    <input>
      <integer name="type_id" />
      <integer name="slink_id" />
      <string name="param" />
      <integer name="reg_date" />
      <string name="passwd" />
    </input>
    <output>
      <integer name="result" />
    </output>
  </function>

  <function name="rpcf_save_tech_param" id="0x9005">
    <input>
      <integer name="type_id" />
      <integer name="slink_id" />
      <integer name="id" />
      <string name="param" />
      <integer name="reg_date" />
      <string name="passwd" />
    </input>
    <output>
      <integer name="result" />
    </output>
  </function>

  <function name="rpcf_get_user_staticsets" id="0x9020">
    <input>
      <integer name="user_id" />
    </input>
    <output>
      <integer name="count_of_sets" />
      <if variable="count_of_sets" value="0" condition="ne">
        <integer name="num_of_type_of_sets" />
        <integer name="count" />
        <for name="i" from="0" count="count">
          <string name="router_info" array_index="i" />
          <integer name="currency_id" array_index="i" />
        </for>
      </if>
    </output>
  </function>

    <function name="rpcf_get_user_othersets" id="0x9021">
        <input>
          <integer name="user_id" />
        </input>
        <output>
          <integer name="count" />
            <for name="i" from="0" count="count">
                <integer name="type"/>
                <if variable="type" value="1" condition="eq">
                    <integer name="switch_id"  />
                    <integer name="port" />
                </if>
                <if variable="type" value="3" condition="eq">
                    <integer name="cur_id"  />
                    <string name="name" />
                </if>
            </for>
        </output>
      </function>


  <function name="rpcf_save_user_othersets" id="0x9022">
    <input>
      <integer name="user_id" />
      <integer name="count" />
      <for name="i" from="0" count="count">
        <integer name="type" array_index="i" />
        <if variable="type" value="1" condition="eq">
          <integer name="id"/>
          <integer name="port" />
        </if>
        <if variable="type" value="3" condition="eq">
          <integer name="currency_id"/>
        </if>
      </for>
    </input>
    <output/>
  </function>

  <function name="rpcf_get_periodic_component_of_cost" id="0x10000">
    <input>
      <integer name="sid" />
    </input>
    <output>
      <double name="cost" />
    </output>
  </function>

  <function name="rpcf_is_service_used" id="0x10001">
    <input>
      <integer name="sid" />
    </input>
    <output>
      <integer name="links_count" />
    </output>
  </function>

  <function name="rpcf_get_bytes_in_kb" id="0x10002">
    <input/>
    <output>
      <integer name="bytes_in_kb" />
    </output>
  </function>

  <function name="rpcf_set_radius_attr" id="0x10100">
    <input>
      <integer name="sid" />
      <integer name="st" />
      <integer name="cnt" />
      <for name="i" from="0" count="cnt">
        <integer name="vendor" array_index="i" />
        <integer name="attr" array_index="i" />
        <integer name="usage_flags" array_index="i" />
        <integer name="param1" array_index="i" />
        <if variable="param1" value="1" condition="eq">
          <string name="cval" array_index="i" />
        </if>
        <if variable="param1" value="1" condition="ne">
          <integer name="ival" array_index="i" />
        </if>
      </for>
    </input>
    <output/>
  </function>

  <function name="rpcf_get_radius_attr" id="0x10101">
    <input>
      <integer name="sid"/>
      <integer name="st"/>
    </input>
    <output>
      <integer name="radius_data_size"/>
      <for name="i" from="0" count="radius_data_size">
        <integer name="vendor" array_index="i"/>
        <integer name="attr" array_index="i"/>
        <integer name="usage_flags" array_index="i"/>
        <integer name="expire_date" array_index="i"/>
        <integer name="param1" array_index="i" />
        <set dst="tmp_type" src="param1" src_index="i"/>
        <!-- integer -->
        <if variable="tmp_type" array_index="i" value="0" condition="eq">
          <integer name="val" array_index="i" />
        </if>
        <!-- string -->
        <if variable="tmp_type" value="1" condition="eq">
          <string name="val" array_index="i" />
        </if>
        <!-- IP-address -->
        <if variable="tmp_type" value="2" condition="eq">
          <integer name="val" array_index="i" />
        </if>
        <!-- HEX string -->
        <if variable="tmp_type" value="3" condition="eq">
          <string name="val" array_index="i" />
        </if>
      </for>
    </output>
  </function>

  <function name="rpcf_new_invoice" id="0x10200">
    <input>
      <integer name="account_id" />
      <integer name="gen_date" />
      <integer name="count" default="size(name)"/>
      <for name="i" from="0" count="size(name)">
        <string name="name" array_index="i" />
        <double name="qnt" array_index="i" />
        <double name="base_cost" array_index="i" />
        <double name="sum_cost" array_index="i" />
      </for>
    </input>
    <output>
      <integer name="id" />
    </output>
  </function>

  <function name="rpcf_add_tel_direction" id="0x10300">
    <input>
        <integer name="zone_id" default="0"/>
        <string name="name"/>
        <string name="calling_prefix" default=""/>
        <string name="called_prefix" default=""/>
        <string name="incoming_trunk" default=""/>
        <string name="outgoing_trunk" default=""/>
        <string name="pbx_id" default=""/>
        <integer name="calling_prefix_regexp" default="1"/>
        <integer name="called_prefix_regexp" default="1"/>
        <integer name="skip" default="0"/>
	<integer name="dir_type"/>
    </input>
    <output>
        <integer name="dir_id"/>
    </output>
  </function>

  <function name="rpcf_edit_tel_direction" id="0x10301">
    <input>
        <integer name="dir_id"/>
        <integer name="zone_id" default="0"/>
        <string name="name"/>
        <string name="calling_prefix" default=""/>
        <string name="called_prefix" default=""/>
        <string name="incoming_trunk" default=""/>
        <string name="outgoing_trunk" default=""/>
        <string name="pbx_id" default=""/>
        <integer name="calling_prefix_regexp" default="1"/>
        <integer name="called_prefix_regexp" default="1"/>
        <integer name="skip" default="0"/>
	<integer name="dir_type"/>
    </input>
    <output>
        <integer name="dir_id"/>
    </output>
  </function>

  <function name="rpcf_remove_tel_direction" id="0x10302">
    <input>
        <integer name="dir_id"/>
    </input>
    <output>
        <integer name="dir_id"/>
    </output>
  </function>
  
  <function name="rpcf_add_tel_zone" id="0x10303">
    <input>
        <string name="name"/>
        <integer name="zone_type"/>
    </input>
    <output>
        <integer name="zone_id"/>
    </output>
  </function>

  <function name="rpcf_edit_tel_zone" id="0x10304">
    <input>
        <integer name="zone_id"/>
        <string name="name"/>
        <integer name="zone_type"/>
    </input>
    <output>
        <integer name="zone_id"/>
    </output>
  </function>

  <function name="rpcf_remove_tel_zone" id="0x10305">
    <input>
        <integer name="zone_id"/>
    </input>
    <output>
        <integer name="zone_id"/>
    </output>
  </function>

  <function name="rpcf_get_tel_direction" id="0x10306">
    <input>
        <integer name="dir_id"/>
    </input>
    <output>
        <integer name="dir_id"/>
        <if variable="dir_id" value="-1" condition="ne">
            <integer name="zone_id"/>
            <integer name="supplier_id"/>
            <string name="name"/>
            <string name="calling_prefix"/>
            <string name="called_prefix"/>
            <string name="incoming_trunk"/>
            <string name="outgoing_trunk"/>
            <string name="pbx_id"/>
            <integer name="calling_prefix_regexp"/>
            <integer name="called_prefix_regexp"/>
            <integer name="skip"/>
            <integer name="create_date"/>
            <integer name="update_date"/>
        </if>
    </output>
  </function>

  <function name="rpcf_get_tel_zone" id="0x10307">
    <input>
        <integer name="zone_id"/>
    </input>
    <output>
        <integer name="zone_id"/>
        <if variable="zone_id" value="-1" condition="ne">
            <integer name="supplier_id"/>
            <string name="name"/>
            <integer name="create_date"/>
            <integer name="update_date"/>
            <integer name="dir_count"/>
            <for name="i" from="0" count="dir_count">
                <integer name="dir_id_array" array_index="i"/>
                <string name="dir_name_array" array_index="i"/>
            </for>
        </if>
    </output>
  </function>

  <function name="rpcf_tel_directions_list" id="0x1031d">
    <input>
        <integer name="start"/>
        <integer name="count"/>
        <integer name="skip_ids_cnt"/>
        <for name="i" from="0" count="skip_ids_cnt">
            <integer name="skip_id" array_index="i"/>
        </for>
    </input>
    <output>
        <integer name="dir_count"/>
        <for name="i" from="0" count="dir_count">
            <integer name="dir_id_array" array_index="i"/>
            <integer name="zone_id_array" array_index="i"/>
            <integer name="supplier_id_array" array_index="i"/>
            <string name="dir_name_array" array_index="i"/>
            <string name="calling_prefix_array" array_index="i"/>
            <string name="called_prefix_array" array_index="i"/>
            <integer name="create_date_array" array_index="i"/>
            <integer name="update_date_array" array_index="i"/>
        </for>
    </output>
  </function>
    
  <function name="rpcf_get_tel_directions_count" id="0x1031e">
      <input>
        <integer name="skip_ids_cnt"/>
        <for name="i" from="0" count="skip_ids_cnt">
            <integer name="skip_id" array_index="i"/>
        </for>
      </input>
      <output>
          <integer name="count"/>
      </output>
  </function>    
  
  <function name="rpcf_search_tel_dirs" id="0x1032b">
      <input>
          <integer name="status"/>
          <integer name="params_cnt"/>
          <for name="i" from="0" count="params_cnt">
              <integer name="field" array_index="i"/>
              <integer name="criteria" array_index="i"/>
              <string name="value" array_index="i"/>
          </for>
          <integer name="skip_ids_cnt"/>
          <for name="i" from="0" count="skip_ids_cnt">
              <integer name="skip_id" array_index="i"/>
          </for>
          <integer name="offset"/>
          <integer name="count"/>
      </input>    
      <output>
        <integer name="dir_count"/>
        <for name="i" from="0" count="dir_count">
            <integer name="dir_id_array" array_index="i"/>
            <integer name="zone_id_array" array_index="i"/>
            <integer name="supplier_id_array" array_index="i"/>
            <string name="dir_name_array" array_index="i"/>
            <string name="calling_prefix_array" array_index="i"/>
            <string name="called_prefix_array" array_index="i"/>
            <integer name="create_date_array" array_index="i"/>
            <integer name="update_date_array" array_index="i"/>
        </for>
      </output>    
  </function>
  
  <function name="rpcf_get_founded_tel_dirs_count" id="0x1031f">
      <input>
          <integer name="status"/>
          <integer name="params_cnt"/>
          <for name="i" from="0" count="params_cnt">
              <integer name="field" array_index="i"/>
              <integer name="criteria" array_index="i"/>
              <string name="value" array_index="i"/>
          </for>
          <integer name="skip_ids_cnt"/>
          <for name="i" from="0" count="skip_ids_cnt">
              <integer name="skip_id" array_index="i"/>
          </for>
      </input>
      <output>
          <integer name="count"/>
      </output>
  </function>
  
  <function name="rpcf_tel_zones_list" id="0x10309">
    <input/>
    <output>
        <integer name="zone_count"/>
        <for name="i" from="0" count="zone_count">
            <integer name="zone_id_array" array_index="i"/>
            <integer name="supplier_id_array" array_index="i"/>
            <string name="name_array" array_index="i"/>
            <integer name="create_date_array" array_index="i"/>
            <integer name="update_date_array" array_index="i"/>
        </for>
    </output>
  </function>
       	
  <function name="rpcf_add_tel_service" id="0x1033d">	
    <input>
		<integer name="parent_id"/>
	    <integer name="tariff_id"/>
		<string name="service_name"/>
		<string name="comment"/>
		<integer name="link_by_default"/>
		<integer name="is_dynamic"/>
		<double name="cost"/>
		<integer name="discount_method"/>
                <integer name="radius_sessions_limit"/>
		<integer name="tariff_class_count"/>
		<for name="i" from="0" count="tariff_class_count">
			<integer name="tariff_class" array_index="i"/>
			<integer name="border_count" array_index="i"/>
			<for name="j" from="0" count="border_count">
			    <integer name="border" array_index="i,j"/>	
				<double name="cost_mult" array_index="i,j"/>
			</for>
			<integer name="timerange_count"/>
			<for name="j" from ="0" count="timerange_count">
				<integer name="timerange_id" array_index="i,j"/>	
				<double name="cost" array_index="i,j"/>              
			</for>
			<integer name="prepaid_array" array_index="i"/>
			<integer name="fixed_cost_array" array_index="i"/>
		</for>	
		<integer name="free_time"/>
		<integer name="first_period_length"/>
		<integer name="first_period_step"/>
		<integer name="second_period_step"/>
		<integer name="time_unit_size"/>
		<integer name="discount_free_time"/>
                <double name="min_charge"/>
	</input>	
	<output>
		<integer name="service_id"/>
	</output>
  </function>
  
  <function name="rpcf_edit_tel_service" id="0x1033e">
	  <input>
		<integer name="service_id"/>
		<integer name="parent_id"/>
	    <integer name="tariff_id"/>
		<string name="service_name"/>
		<string name="comment"/>
		<integer name="link_by_default"/>
		<integer name="is_dynamic"/>
		<double name="cost"/>
		<integer name="discount_method"/>
                <integer name="radius_sessions_limit"/>
		<integer name="tariff_class_count"/>
		<for name="i" from="0" count="tariff_class_count">
			<integer name="tariff_class" array_index="i"/>
			<integer name="border_count" array_index="i"/>
			<for name="j" from="0" count="border_count">
			    <integer name="border" array_index="i,j"/>	
				<double name="cost_mult" array_index="i,j"/>
			</for>
			<integer name="timerange_count"/>
			<for name="j" from ="0" count="timerange_count">
				<integer name="timerange_id" array_index="i,j"/>	
				<double name="cost" array_index="i,j"/>              
			</for>
			<integer name="prepaid_array" array_index="i"/>
			<integer name="fixed_cost_array" array_index="i"/>
		</for>	
		<integer name="free_time"/>
		<integer name="first_period_length"/>
		<integer name="first_period_step"/>
		<integer name="second_period_step"/>
		<integer name="time_unit_size"/>
		<integer name="discount_free_time"/>
                <double name="min_charge"/>
	  </input>
	  <output>
		<integer name="service_id"/>
	  </output>
  </function>

  <function name="rpcf_get_tel_service" id="0x1033f">
	  <input>
		  <integer name="sid"/>
	  </input>
	  <output>
		<integer name="service_id"/>
		<integer name="parent_id"/>
	    <integer name="tariff_id"/>
		<string name="service_name"/>
		<string name="comment"/>
		<integer name="link_by_default"/>
		<integer name="is_dynamic"/>
		<double name="cost"/>
		<integer name="discount_method"/>
                <integer name="radius_sessions_limit"/>
		<integer name="tariff_class_count"/>
		<for name="i" from="0" count="tariff_class_count">
			<integer name="tariff_class" array_index="i"/>
			<integer name="border_count" array_index="i"/>
			<for name="j" from="0" count="border_count">
			    <integer name="border" array_index="i,j"/>	
				<double name="cost_mult" array_index="i,j"/>
			</for>
			<integer name="timerange_count"/>
			<for name="j" from ="0" count="timerange_count">
				<integer name="timerange_id" array_index="i,j"/>	
				<double name="cost" array_index="i,j"/>              
			</for>
			<integer name="prepaid_array" array_index="i"/>
			<integer name="fixed_cost_array" array_index="i"/>
		</for>	
		<integer name="free_time"/>
		<integer name="first_period_length"/>
		<integer name="first_period_step"/>
		<integer name="second_period_step"/>
		<integer name="time_unit_size"/>
		<integer name="discount_free_time"/>
                <double name="min_charge"/>
	  </output>
  </function>
    
  <function name="rpcf_add_tel_service_link" id="0x1031a">
	  <input>
		  <integer name="user_id"/> 
		  <integer name="account_id"/> 
		  <integer name="service_id"/> 
		  <integer name="tplink_id"/> 
		  <integer name="discount_period_id"/> 
		  <integer name="start_date"/>  
		  <integer name="expire_date"/>
                  <integer name="policy_id"/>
		  <integer name="recalc_fee"/>
          <double name="cost_coef" default="1.0"/>
		  <integer name="login_count"/>
		  <for name="i" from="0" count="login_count">
			  <string name="login" array_index="i"/>
			  <string name="number" array_index="i"/>
			  <string name="incoming_trunk" array_index="i"/>	  
			  <string name="outgoing_trunk" array_index="i"/>	   
			  <string name="pbx_id" array_index="i"/>
			  <string name="password" array_index="i"/>	  
			  <string name="allowed_cid" array_index="i"/>
		  </for>
	  </input>	  
	  <output>
		  <integer name="slink_id"/>
	  </output>	  
  </function>

  <function name="rpcf_edit_tel_service_link" id="0x1031b">
		<input>
			<integer name="slinkId"/>
			<integer name="start_date"/>
			<integer name="expire_date"/>
                        <integer name="policy_id"/>
                        <double name="cost_coef"/>
			<integer name="loginCount"/>
			<for name = "i" from="0" count="loginCount">
				<string name="login" array_index="i"/>
				<string name="number" array_index="i"/>
				<string name="incoming_trunk" array_index="i"/>
				<string name="outgoing_trunk" array_index="i"/>
				<string name="pbx_id" array_index="i"/>
				<string name="password" array_index="i"/>
				<string name="allowed_cid" array_index="i"/>
			</for>
		</input>	
		<output>
			<integer name="slinkId"/>
		</output>	
  </function>

  <function name="rpcf_get_tel_service_link" id="0x1031c">
    <input>
      <integer name="slinkId"/>
    </input>
    <output>                    
      <integer name="accounting_period_id"/>
      <integer name="start_date"/>
      <integer name="expire_date"/>
      <integer name="policy_id"/>
      <double  name="cost_coef" />
      <integer name="numSize"/>
      <for name="i" from="0" count="numSize">
	<string name="login" array_index="i"/>
	<string name="number" array_index="i"/>
	<string name="incoming_trunk" array_index="i"/>
	<string name="outgoing_trunk" array_index="i"/>
	<string name="pbx_id" array_index="i"/>
	<string name="password" array_index="i"/>
	<string name="allowed_cid" array_index="i"/>
      </for>
      <integer name="slinkId"/>
    </output>
  </function>      
  
  <function name="rpcf_put_tel_call" id="0x10310">
    <input>
      <string name="calling_number" default=""/>
      <string name="called_number" default=""/>
      <string name="incoming_trunk" default=""/>
      <string name="outgoing_trunk" default=""/>
      <string name="session_id" default=""/>
      <string name="pbx_id" default=""/>
      <string name="login" default=""/>
      <string name="disconnect_cause" default=""/>
      <integer name="call_start_date" default="0"/>
      <integer name="call_duration" default="0"/>
    </input>
    <output/>
  </function>
 
  <function name="rpcf_get_tel_number_list" id="0x10319">
    <input>
    </input>
    <output>
      <integer name="count"/>
      <for name="i" from="0" count="count">
        <integer name="num_id" array_index="i"/>
        <integer name="slink_id" array_index="i"/>
        <string name="login" array_index="i"/>
        <string name="number" array_index="i"/>
        <string name="incoming_trunk" array_index="i"/>
        <string name="outgoing_trunk" array_index="i"/>
        <string name="pbx_id" array_index="i"/>
        <string name="password" array_index="i"/>
        <string name="allowed_cid" array_index="i"/>
      </for>
    </output>
  </function>

<!-- TODO
  <function name="rpcf_add_tel_supplier_service" id="0x10312">
  <function name="rpcf_edit_tel_supplier_service" id="0x10313">
  <function name="rpcf_get_tel_supplier_service" id="0x10314">
  <function name="rpcf_delete_tel_supplier_service" id="0x10315">
  <function name="rpcf_tel_supplier_payments_report" id="0x10316">
  <function name="rpcf_tel_supplier_charges_report" id="0x10317">
  <function name="rpcf_get_service_id_for_supplier" id="0x10318">
-->
  <function name="rpcf_validate_tel_supplier_dirs" id="0x10321">
    <input>
      <integer name="supplier_id"/>
      <integer name="dirs_cnt"/>
      <for name="i" from="0" count="dirs_cnt">
          <integer name="dir" array_index="i"/>    
      </for>    
    </input>    
    <output>
      <integer name="result"/>
      <integer name="founded_dir_id"/>
      <integer name="founded_zone_id"/>
      <integer name="founded_supplier_id"/>        
    </output>    
  </function>
  
  <function name="rpcf_get_tel_suppliers_directions" id="0x8023">
    <input/>
    <output>
      <integer name="dirs_cnt"/>    
      <for name="i" from="0" count="dirs_cnt">
        <integer name="dir_id" array_index="i"/>
        <integer name="supplier_id" array_index="i"/>
      </for>      
    </output>    
  </function>    
  
  <function name="rpcf_get_core_time" id="0x11112">
    <input/>
    <output>
      <integer name="time" />
      <string name="tzname" />
    </output>
  </function>

  <!-- TODO: function 0x12001 description -->

  <!--
      USER FUNCTIONS DEFINITION STARTS HERE
  -->

  <function name="rpcf_user5_get_unused_prepaid" id="-0x5502">
    <input/>
    <output>
      <integer name="bytes_in_mbyte" />
      <integer name="links_size" />
      <for name="i" from="0" count="links_size">
        <integer name="pinfo_size" />
        <set dst="pinfo_size_array" src="pinfo_size" dst_index="i" /> 
        <for name="j" from="0" count="pinfo_size">
          <integer name="id" array_index="i,j" />
          <long name="value" array_index="i,j" />
        </for>
      </for>
    </output>
  </function>

  <function name="rpcf_user5_card_payment" id="-0x4205">
    <input>
      <integer name="account_id" />
      <integer name="card_id" />
      <string name="secret" />
    </input>
    <output/>
  </function>

  <function name="rpcf_user5_card_payment_new" id="-0x4045">
    <input>
      <integer name="account_id" />
      <integer name="card_id" />
      <string name="secret" />
    </input>
    <output>
      <integer name="result" />
      <if variable="result" value="0" condition="eq">
          <string name="error" />
      </if>
    </output>
  </function>

  <function name="rpcf_user5_get_tel_report" id="-0x4099">
    <input>
      <integer name="time_start" />
      <integer name="time_end" />
    </input>
    <output>
      <integer name="accounts_size" />
      <for name="i" from="0" count="accounts_size">
        <integer name="dhs_log_size" />
        <set dst="dhs_log_size_array" src="dhs_log_size" dst_index="i" /> 
        <for name="j" from="0" count="dhs_log_size">
          <integer name="recv_date" array_index="i,j" />
          <integer name="recv_date_plus_acct_sess_time" array_index="i,j" />
          <integer name="acct_sess_time" array_index="i,j" />
          <integer name="setup_time" array_index="i,j" />
          <string name="Calling_Station_Id" array_index="i,j" />
          <string name="Called_Station_Id" array_index="i,j" />
          <string name="dname" array_index="i,j" />
          <double name="total_cost" array_index="i,j" />
        </for>
      </for>
    </output>
  </function>

  <function name="rpcf_user5_get_accounts" id="-0x4055">
    <input/>
    <output>
      <integer name="accounts_size" />
      <for name="i" from="0" count="accounts_size">
        <integer name="account_id" array_index="i" />
        <double name="balance" array_index="i" />
        <double name="credit" array_index="i" />
      </for>
    </output>
  </function>

  <function name="rpcf_user5_get_tariff_name" id="-0x4039">
    <input>
      <integer name="tariff_id" />
    </input>
    <output>
      <string name="tariff_name" />
    </output>
  </function>

  <function name="rpcf_user5_get_remaining_prepaid_traffic" id="-0x4038">
    <input>
    </input>
    <output>
      <integer name="result" />
    </output>
  </function>

  <function name="rpcf_user5_get_currency_list" id="-0x4037">
    <input>
    </input>
    <output>
      <integer name="currency_size" />
      <for name="i" from="0" count="currency_size">
        <integer name="id" array_index="i" />
        <string name="currency_brief_name" array_index="i" />
        <string name="currency_full_name" array_index="i" />
        <double name="percent" array_index="i" />
        <double name="rates" array_index="i" />
      </for>
    </output>
  </function>

  <function name="rpcf_user5_add_mime_message" id="-0x4034">
    <input>
      <string name="subject" />
      <string name="message" />
      <string name="mime" />
      <integer name="state" />
    </input>
    <output/>
  </function>

  <function name="rpcf_user5_mime_messages_list_to_now" id="-0x4033">
    <input>
      <integer name="time_start" />
    </input>
    <output>
      <integer name="time_end" />
      <integer name="messages_size" />
      <for name="i" from="0" count="messages_size">
        <integer name="send_date" array_index="i" />
        <integer name="recv_date" array_index="i" />
        <string name="subject" array_index="i" />
        <string name="message" array_index="i" />
        <string name="mime" array_index="i" />
        <integer name="state" array_index="i" />
      </for>
    </output>
  </function>

  <function name="rpcf_user5_mime_messages_list" id="-0x4032">
    <input>
      <integer name="time_start" />
      <integer name="time_end" />
    </input>
    <output>
      <integer name="messages_size" />
      <for name="i" from="0" count="messages_size">
        <integer name="send_date" array_index="i" />
        <integer name="recv_date" array_index="i" />
        <string name="subject" array_index="i" />
        <string name="message" array_index="i" />
        <string name="mime" array_index="i" />
        <integer name="state" array_index="i" />
      </for>
    </output>
  </function>

  <function name="rpcf_user5_traffic_report_detail" id="-0x4031">
    <input>
      <integer name="limit_size" />
      <integer name="time_start" />
      <integer name="time_end" />
    </input>
    <output>
      <integer name="nf5a_size" />
      <for name="i" from="0" count="nf5a_size">
        <integer name="timestamp" array_index="i" />
        <integer name="slink_id" array_index="i" />
        <string name="sname" array_index="i" />
        <integer name="account_id" array_index="i" />
        <integer name="tclass" array_index="i" />
        <string name="tcd_name" array_index="i" />
        <integer name="saddr" array_index="i" />
        <integer name="daddr" array_index="i" />
        <integer name="d_pkt" array_index="i" />
        <integer name="d_okt" array_index="i" />
        <integer name="sport" array_index="i" />
        <integer name="dport" array_index="i" />
        <integer name="tcp_flags" array_index="i" />
        <integer name="proto" array_index="i" />
        <integer name="tos" array_index="i" />
      </for>
    </output>
  </function>

  <function name="rpcf_user5_switch_internet_on_disconnect" id="-0x4030">
    <input>
      <integer name="on" />
    </input>
    <output/>
  </function>

  <function name="rpcf_user5_get_discount_period_info" id="-0x402e">
    <input>
      <integer name="id" />
    </input>
    <output>
      <integer name="id" />
      <integer name="begin" />
      <integer name="end" />
      <integer name="periodic_type" />
      <integer name="next_discount_period_id" />
      <integer name="discount_interval" />
      <integer name="canonical_len" />
      <integer name="custom_duration" />
      <integer name="static_id" />
    </output>
  </function>

  <!-- TODO: function -0x402d description -->

  <function name="rpcs_user5_get_services_name" id="-0x402b">
    <input>
      <integer name="service_id"/>
    </input>
    <output>
      <integer name="service_type"/>
      <integer name="service_id"/>
      <string name="service_name"/>
      <string name="service_comment"/>
      <double name="periodic_cost"/>
    </output>
  </function>

  <function name="rpcf_user5_tpayment" id="-0x4029">
    <input/>
    <output>
      <integer name="is_exist" />
      <if variable="is_exist" value="0" condition="ne">
        <integer name="first_payment_time" />
        <integer name="last_payment_date" />
        <integer name="time2burn" />
        <double name="payment_value" />
        <double name="already_discounted" />
      </if>
    </output>
  </function>

  <function name="rpcf_user5_messages_list_to_now" id="-0x4028">
    <input>
      <integer name="time_start" />
    </input>
    <output>
      <integer name="time_end" />
      <integer name="messages_size" />
      <for name="i" from="0" count="messages_size">
        <integer name="send_date" array_index="i" />
        <integer name="recv_date" array_index="i" />
        <string name="subject" array_index="i" />
        <string name="message" array_index="i" />
      </for>
    </output>
  </function>

  <function name="rpcf_user5_get_prepaid_and_downloaded" id="-0x4027">
  <input/>
  <output>
    <integer name="bytes_in_mbyte"/>
    <for name="i" from="0" count="1000">
      <integer name="unk1"/>
      <if variable="unk1" value="1" condition="eq">
        <string name="iptraffic_service_name"/>
        <for name="j" from="0" count="1000">
          <integer name="unk2"/>
          <if variable="unk2" value="1" condition="eq">
            <integer name="old_tclass_id_array" array_index="i,j"/>
            <string name="old_tclass_name_array" array_index="i,j"/>
            <long name="old_prepaid_array" array_index="i,j"/>
          </if>
          <if variable="unk2" value="0" condition="eq">
            <break/>
          </if>
        </for>
        <for name="j" from="0" count="1000">
          <integer name="unk2"/>
          <if variable="unk2" value="1" condition="eq">
            <integer name="tclass_id_array" array_index="i,j"/>
            <string name="tclass_name_array" array_index="i,j"/>
            <long name="prepaid_array" array_index="i,j"/>
          </if>
          <if variable="unk2" value="0" condition="eq">
            <break/>
          </if>
        </for>
        <for name="j" from="0" count="1000">
          <integer name="unk2"/>
          <if variable="unk2" value="1" condition="eq">
            <integer name="downloaded_tclass_id_array" array_index="i,j"/>
            <string name="downloaded_tclass_name_array" array_index="i,j"/>
            <long name="downloaded_array" array_index="i,j"/>
          </if>
          <if variable="unk2" value="0" condition="eq">
            <break/>
        </if>
        </for>
      </if>
      <if variable="unk1" value="0" condition="eq">
        <break/>
      </if>
    </for>
  </output>
  </function>

  <function name="rpcf_user5_brief_report_for_wintray" id="-0x4026">
    <input/>
    <output>
      <integer name="user_int_status" />
      <double name="balance" />
    </output>
  </function>

  <function name="rpcf_user5_change_password_service" id="-0x4025">
    <input>
      <integer name="slink_id" />
      <integer name="item_id" />
      <string name="old_password" />
      <string name="new_password" />
      <string name="new_password_ret" />
    </input>
    <output>
      <integer name="status" />
    </output>
  </function>

  <function name="rpcf_user5_get_services_info" id="-0x404a">
    <input>
      <integer name="slink_id" />
    </input>
    <output>
      <integer name="service_type" />
      <integer name="service_id" />
      <string name="service_name" />
      <integer name="tariff_id" />
      <double name="discounted_in_curr_period" />
      <double name="cost" />
      <if variable="service_type" value="3" condition="eq">
        <integer name="bytes_in_mbyte" />
        <integer name="iptsl_downloaded_size" />
        <for name="i" from="0" count="iptsl_downloaded_size">
          <string name="tclass" array_index="i" />
          <long name="downloaded" array_index="i" />
        </for>
        <integer name="iptsl_old_prepaid_size" />
        <for name="i" from="0" count="iptsl_old_prepaid_size">
          <string name="tclass" array_index="i" />
          <long name="prepaid" array_index="i" />
        </for>
        <integer name="ipgroup_size" />
        <for name="i" from="0" count="ipgroup_size">
          <integer name="item_id" array_index="i" />
          <ip_address name="ip" array_index="i" />
          <integer name="mask" array_index="i" />
          <string name="login" array_index="i" />
        </for>
        <integer name="iptsd_borders_size" />
        <for name="i" from="0" count="iptsd_borders_size">
          <string name="tclass_name" array_index="i" />
          <long name="bytes" array_index="i" />
          <double name="cost1" array_index="i" /> 
          <integer name="group_type" array_index="i" />
        </for>
        <integer name="iptsd_prepaid_size" />
        <for name="i" from="0" count="iptsd_prepaid_size">
          <string name="tclass_name_p" array_index="i" />
          <long name="prepaid_p" array_index="i" />
        </for>
      </if>
      <if variable="service_type" value="6" condition="eq">
        <integer name="tsl_numbers_size" />
        <for name="i" from="0" count="tsl_numbers_size">
          <string name="number" array_index="i" />
          <string name="login" array_index="i" />
          <string name="allowed_cid" array_index="i" />
          <integer name="item_id" array_index="i" />
        </for>
      </if>
      <if variable="service_type" value="3" condition="ne">
        <if variable="service_type" value="6" condition="ne">
          <integer name="null_param" />
        </if>
      </if>
    </output>
  </function>

  <function name="rpcf_user5_get_services" id="-0x4023">
    <input/>
    <output>
      <integer name="links_size" />
      <for name="i" from="0" count="links_size">
        <integer name="id" array_index="i" />
        <integer name="service_id" array_index="i" />
        <integer name="service_type" array_index="i" />
        <string name="service_name" array_index="i" />
        <string name="tariff_name" array_index="i" />
        <string name="discount_period" array_index="i" />
        <double name="cost" array_index="i" />
        <double name="discounted_in_curr_period" array_index="i" />
      </for>
    </output>
  </function>

  <function name="rpcf_user5_get_services_ex" id="-0x402f">
    <input/>
    <output>
      <integer name="links_size" />
      <for name="i" from="0" count="links_size">
        <integer name="id" array_index="i" />
        <integer name="service_id" array_index="i" />
        <integer name="service_type" array_index="i" />
        <string name="service_name" array_index="i" />
        <string name="tariff_name" array_index="i" />
        <integer name="discount_period_start" array_index="i" />
        <integer name="discount_period_end" array_index="i" />
        <double name="cost" array_index="i" />
        <double name="discounted_in_curr_period" array_index="i" />
      </for>
    </output>
  </function>

  <function name="rpcf_user5_get_invoice_data" id="-0x4022">
    <input/>
    <output>
      <string name="full_name" />
      <string name="actual_address" />
      <string name="juridical_address" />
      <integer name="basic_account" />
      <string name="payment_recv" />
      <string name="inn" />
      <string name="bank_account" />
      <string name="bank_name" />
      <string name="bank_city" />
      <string name="bank_bic" />
      <string name="bank_ks" />
    </output>
  </function>

  <function name="rpcf_user5_change_password" id="-0x4021">
    <input>
      <string name="old_password" />
      <string name="new_password" />
      <string name="new_password_ret" />
    </input>
    <output>
      <integer name="result" />
    </output>
  </function>

  <!-- TODO: function -0x401f description -->

  <function name="rpcf_user5_get_service_id_by_name" id="-0x401e">
    <input>
      <string name="name" />
    </input>
    <output>
      <integer name="id" />
    </output>
  </function>

  <!-- TODO: function -0x401d description -->

  <function name="rpcf_user5_get_user_group_list" id="-0x401c">
    <input/>
    <output>
      <integer name="groups_count" />
      <for name="i" from="0" count="groups_count">
        <integer name="id" array_index="i" />
      </for>
    </output>
  </function>

  <function name="rpcf_user5_get_group_id_by_name" id="-0x401b">
    <input>
      <string name="name" />
    </input>
    <output>
      <integer name="id" />
    </output>
  </function>

  <function name="rpcf_user5_get_tariff_id_by_name" id="-0x401a">
    <input>
      <string name="name" />
    </input>
    <output>
      <integer name="tid" />
    </output>
  </function>

  <function name="rpcf_user5_traffic_report_group_by_ip" id="-0x404c">
    <input>
      <integer name="time_start" />
      <integer name="time_end" />
    </input>
    <output>
      <integer name="unused" />
      <integer name="unused" array_index="i" />
      <double name="bytes_in_kbyte" array_index="i" />
      <integer name="ipid_count" />
      <for name="j" from="0" count="ipid_count">
        <ip_address name="ipid" array_index="j" />
        <integer name="traffic_report_entry_size" />
        <set dst="traffic_report_entry_size_array" src="traffic_report_entry_size" dst_index="j" />
        <for name="x" from="0" count="traffic_report_entry_size">
          <integer name="tclass" array_index="j,x" />
          <string name="tclass_name" array_index="j,x" />
          <long name="bytes" array_index="j,x" />
        </for>
      </for>
    </output>
  </function>

  <function name="rpcf_user5_dhs_report" id="-0x4017">
    <input>
      <integer name="time_start" />
      <integer name="time_end" />
    </input>
    <output>
      <integer name="dhs_log_size" />
      <for name="i" from="0" count="dhs_log_size">
        <integer name="id" array_index="i" />
        <integer name="account_id" array_index="i" />
        <integer name="slink_id" array_index="i" />
        <integer name="recv_date" array_index="i" />
        <integer name="last_update_date" array_index="i" />
        <integer name="framed_ip4" array_index="i" />
        <integer name="framed_ip6" array_index="i" />
        <integer name="nas_port" array_index="i" />
        <string name="acct_session_id" array_index="i" />
        <integer name="nas_port_type" array_index="i" />
        <string name="uname" array_index="i" />
        <integer name="service_type" array_index="i" />
        <integer name="framed_protocol" array_index="i" />
        <integer name="nas_ip" array_index="i" />
        <string name="nas_id" array_index="i" />
        <integer name="acct_status_type" array_index="i" />
        <long name="acct_inp_pack" array_index="i" />
        <long name="acct_inp_oct" array_index="i" />
        <long name="acct_out_pack" array_index="i" />
        <long name="acct_out_oct" array_index="i" />
        <long name="acct_sess_time" array_index="i" />
        <integer name="dhs_sessions_detail_size" />
        <set dst="dhs_sessions_detail_size_array" src="dhs_sessions_detail_size" dst_index="i" /> 
        <for name="j" from="0" count="dhs_sessions_detail_size">
          <integer name="trange_id" array_index="i,j" />
          <integer name="account_id" array_index="i,j" />
          <long name="duration" array_index="i,j" />
          <double name="base_cost" array_index="i,j" />
          <double name="sum_cost" array_index="i,j" />
        </for>
      </for>
    </output>
  </function>

  <!-- TODO: function -0x4016 description -->

  <function name="rpcf_user5_add_message" id="-0x4015">
    <input>
      <string name="subject" />
      <string name="message" />
    </input>
    <output/>
  </function>

  <function name="rpcf_user5_messages_list" id="-0x4014">
    <input>
      <integer name="time_start" />
      <integer name="time_end" />
    </input>
    <output>
      <integer name="messages_size" />
      <for name="i" from="0" count="messages_size">
        <integer name="send_date" array_index="i" />
        <integer name="recv_date" array_index="i" />
        <string name="subject" array_index="i" />
        <string name="message" array_index="i" />
      </for>
    </output>
  </function>

  <function name="rpcf_user5_blocks_report" id="-0x4013">
    <input>
      <integer name="time_start" />
      <integer name="time_end" />
    </input>
    <output>
      <integer name="blocks_size" />
      <for name="i" from="0" count="blocks_size">
        <integer name="account_id" array_index="i" />
        <integer name="start_date" array_index="i" />
        <integer name="expire_date" array_index="i" />
        <integer name="what_blocked" array_index="i" />
        <integer name="block_type" array_index="i" />
        <string name="comment" array_index="i" />
      </for>
    </output>
  </function>

  <function name="rpcf_user5_payments_report" id="-0x4019">
    <input>
      <integer name="time_start" />
      <integer name="time_end" />
    </input>
    <output>
      <integer name="accounts_count" />
      <for name="j" from="0" count="accounts_count">
      	<integer name="atr_size"/>
      	<for name="i" from="0" count="atr_size">
       	 <integer name="account_id" array_index="j,i" />
       	 <integer name="actual_date" array_index="j,i" />
       	 <integer name="payment_enter_date" array_index="j,i" />
       	 <double name="payment" array_index="j,i" />
       	 <double name="payment_incurrency" array_index="j,i" />
       	 <integer name="currency_id" array_index="j,i" />
       	 <integer name="payment_method_id" array_index="j,i" />
       	 <string name="payment_method" array_index="j,i" />
       	 <string name="comment" array_index="j,i" />
      	</for>
      </for>
    </output>
  </function>

  <function name="rpcf_user5_service_report" id="-0x4011">
    <input>
      <integer name="time_start" />
      <integer name="time_end" />
    </input>
    <output>
      <integer name="aids_size" />
      <for name="i" from="0" count="aids_size">
        <integer name="asr_size" />
        <set dst="asr_size_array" src="asr_size" dst_index="i" />
        <for name="j" from="0" count="asr_size">
          <integer name="account_id" array_index="i,j" />
          <integer name="discount_date" array_index="i,j" />
          <double name="discount" array_index="i,j" />
          <double name="discount_with_tax" array_index="i,j" />
          <string name="service_name" array_index="i,j" />
          <integer name="service_type" array_index="i,j" />
          <string name="comment" array_index="i,j" />
        </for>
      </for>
    </output>
  </function>

  <function name="rpcf_user5_traffic_report_group" id="-0x4010">
    <input>
      <integer name="time_start" />
      <integer name="time_end" />
      <integer name="unused" default="2"/>
    </input>
    <output>
      <integer name="unused" />
      <integer name="unused" array_index="i" />
      <double name="bytes_in_kbyte" array_index="i" />
      <integer name="date_count" />
      <for name="j" from="0" count="date_count">
        <integer name="date" array_index="j" />
        <integer name="rows_count" />
        <set dst="rows_count_array" src="date_count" dst_index="j" />
        <for name="x" from="0" count="rows_count">
          <integer name="tclass" array_index="j,x" />
          <string name="class_name" array_index="j,x" />
          <long name="bytes" array_index="j,x" />
          <double name="base_cost" array_index="j,x" />
          <double name="discount" array_index="j,x" />
        </for>
      </for>
    </output>
  </function>

  <function name="rpcf_user5_traffic_report" id="-0x4009">
    <input>
      <integer name="time_start"/>
      <integer name="time_end" default="now()"/>
    </input>
    <output>
      <integer name="unused"/>
      <double name="bytes_in_kbyte"/>
      <integer name="rows_count"/>
      <for name="i" from="0" count="rows_count">
        <integer name="tclass" array_index="i"/>
        <string name="tclass_name" array_index="i" />
        <long name="bytes" array_index="i"/>
        <double name="base_cost" array_index="i" />
        <double name="discount" array_index="i" />
        <double name="discount_with_tax" array_index="i" />
      </for>
    </output>
  </function>

  <function name="rpcf_user5_change_int_status" id="-0x4007">
    <input>
      <integer name="deprecated" />
    </input>
    <output/>
  </function>

  <function name="rpcf_user5_get_user_info" id="-0x4052">
    <input/>
    <output>
      <integer name="user_id"/>
      <string name="login"/>
      <integer name="basic_account"/>
      <double name="balance"/>
      <double name="credit"/>
      <integer name="is_blocked"/>
      <integer name="create_date"/>
      <integer name="last_change_date"/>
      <integer name="who_create"/>
      <integer name="who_change"/>
      <integer name="is_juridical"/>
      <string name="full_name"/>
      <string name="juridical_address"/>
      <string name="actual_address"/>
      <string name="work_telephone"/>
      <string name="home_telephone"/>
      <string name="mobile_telephone"/>
      <string name="web_page"/>
      <string name="icq_number"/>
      <string name="tax_number"/>
      <string name="kpp_number"/>
      <integer name="bank_id"/>
      <string name="bank_account"/>
      <integer name="int_status"/>
      <double name="vat_rate"/>
      <string name="passport"/>
      <double name="locked_in_funds"/>
      <string name="email"/>
    </output>
  </function>

  <!-- TODO: function -0x202c description -->

  <function name="rpcf_user5_get_remaining_seconds" id="-0x2027">
    <input>
      <integer name="user_id" />
    </input>
    <output>
      <integer name="remaining_seconds" />
      <integer name="downloaded_seconds" />
    </output>
  </function>

  <function name="rpcf_user5_get_remaining_traffic" id="-0x2026">
    <input>
      <integer name="user_id" />
    </input>
    <output>
      <double name="traffic_remaining_mb" />
      <double name="traffic_downloaded_mb" />
    </output>
  </function>

  <function name="rpcf_core_version_user" id="-0x0045">
    <input/>
    <output>
      <string name="version" />
    </output>
  </function>

  <function name="rpcf_get_fwrules_list_new" id="0x5020">
    <input/>
    <output>
      <integer name="rules_count"/>
      <for name="i" from="0" count="rules_count">
        <integer name="rule_id" array_index="i"/>
	<integer name="flags" array_index="i"/>
	<long name="events" array_index="i"/>
	<integer name="router_id" array_index="i"/>
	<integer name="tariff_id" array_index="i"/>
	<integer name="group_id" array_index="i"/>
	<integer name="user_id" array_index="i"/>
	<string name="rule" array_index="i"/>
	<string name="comment" array_index="i"/>
      </for>
   </output>
  </function>

  <function name="rpcf_add_fwrule_new" id="0x5021">
    <input>
      <integer name="flags"/>
      <long name="events"/>
      <integer name="router_id"/>
      <integer name="tariff_id"/>
      <integer name="group_id"/>
      <integer name="user_id"/>
      <string name="rule"/>
      <string name="comment"/>
    </input>
    <output>
      <integer name="rule_id"/>
    </output>
  </function>

  <function name="rpcf_edit_fwrule_new" id="0x5022">
    <input>
      <integer name="rule_id"/>
      <integer name="flags"/>
      <long name="events"/>
      <integer name="router_id"/>
      <integer name="tariff_id"/>
      <integer name="group_id"/>
      <integer name="user_id"/>
      <string name="rule"/>
      <string name="comment"/>
    </input>
    <output>
      <integer name="result"/>
    </output>
  </function>

  <function name="rpcf_del_fwrule_new" id="0x5023">
    <input>
      <integer name="rule_id"/>
    </input>
    <output>
      <integer name="result"/>
    </output>
  </function>

  <!--
     1C integration system control and report functions
  -->

  <function name="rpcf_ic_get_settings" id="0x14001">
  <input/>
  <output>
      <integer name="send_users"/>
      <integer name="send_inv"/>
      <integer name="send_payments"/>
      <integer name="recv_payments"/>
      <integer name="sync_card"/>
      <integer name="sync_empty_name"/>
      <integer name="sync_empty_inn"/>
      <integer name="sync_empty_kpp"/>
      <integer name="sync_users_since"/>
      <integer name="sync_users_till"/>
      <integer name="sync_inv_since"/>
      <integer name="sync_inv_till"/>
      <integer name="sync_payments_since"/>
      <integer name="sync_payments_till"/>
  </output>
  </function>

  <function name="rpcf_ic_save_settings" id="0x14002">
    <input>
      <integer name="send_users"/>
      <integer name="send_inv"/>
      <integer name="send_payments"/>
      <integer name="recv_payments"/>
      <integer name="sync_card"/>
      <integer name="sync_empty_name"/>
      <integer name="sync_empty_inn"/>
      <integer name="sync_empty_kpp"/>
      <integer name="sync_users_since"/>
      <integer name="sync_users_till"/>
      <integer name="sync_inv_since"/>
      <integer name="sync_inv_till"/>
      <integer name="sync_payments_since"/>
      <integer name="sync_payments_till"/>
    </input>
    <output>
      <integer name="result"/>
    </output>
  </function>

  <function name="rpcf_ic_invoices_list" id="0x14004">
    <input>
      <integer name="start_date"/>
      <integer name="end_date"/>
    </input>
    <output>
      <integer name="count"/>
      <for name="i" from="0" count="count">
        <integer name="id" array_index="i"/>
	<string name="login" array_index="i"/>
	<string name="fullname" array_index="i"/>
	<integer name="invoice_date" array_index="i"/>
	<double name="sum" array_index="i"/>
	<integer name="ic_status" array_index="i"/>
	<integer name="last_sync_date" array_index="i"/>
	<string name="ic_id" array_index="i"/>
      </for>
    </output>
  </function>

  <function name="rpcf_ic_payments_list" id="0x14005">
    <input>
      <integer name="start_date"/>
      <integer name="end_date"/>
    </input>
    <output>
      <integer name="count"/>
      <for name="i" from="0" count="count">
        <integer name="id" array_index="i"/>
	<string name="login" array_index="i"/>
	<string name="fullname" array_index="i"/>
	<integer name="actual_date" array_index="i"/>
	<integer name="account_id" array_index="i"/>
	<double name="sum" array_index="i"/>
	<integer name="currency_id" array_index="i"/>
	<integer name="ic_status" array_index="i"/>
	<integer name="last_sync_date" array_index="i"/>
	<string name="ic_id" array_index="i"/>
      </for>
    </output>
  </function>

  <function name="rpcf_get_license_list" id="0x2122">
      <input/>
      <output>
         <integer name="lic_count"/>
	 <for name="i" from="0" count="lic_count">
	     <integer name="license_id" array_index="i"/>
	     <integer name="license_since" array_index="i"/>
	     <integer name="license_till" array_index="i"/>
	     <integer name="features_count"/>
	     <for name="j" from="0" count="features_count">
	         <integer name="feature_id" array_index="i,j"/>
		 <string name="feature_value" array_index="i,j"/>
	     </for>
	 </for>
      </output>
  </function>

  <function name="rpcf_get_session_list" id="0x2123">
      <input/>
      <output>
        <integer name="count"/>
	  <for name="i" from="0" count="count">
              <integer name="sid" array_index="i"/>
              <integer name="type" array_index="i"/>
              <integer name="staff_id" array_index="i"/>
              <string name="host" array_index="i"/>
              <integer name="port" array_index="i"/>
<!--              <string name="urfa_sid" array_index="i"/> -->
	  </for>
      </output>
  </function>

  <function name="rpcf_change_own_password" id="0x2124">
    <input>
      <string name="old_pass"/>
      <string name="new_pass"/>
    </input>
    <output>
      <integer name="result"/>
    </output>
  </function>

  <function name="rpcf_add_user_new" id="0x2125">
    <input>
      <string name="login"/>
      <string name="password"/>
      <string name="full_name" default=""/>
      <integer name="is_juridical" default="0"/>
      <string name="jur_address" default=""/>
      <string name="act_address" default=""/>
      <string name="flat_number" default=""/>
      <string name="entrance" default=""/>
      <string name="floor" default=""/>
      <string name="district" default=""/>
      <string name="building" default=""/>
      <string name="passport" default=""/>
      <integer name="house_id" default="0"/>
      <string name="work_tel" default=""/>
      <string name="home_tel" default=""/>
      <string name="mob_tel" default=""/>
      <string name="web_page" default=""/>
      <string name="icq_number" default=""/>
      <string name="tax_number" default=""/>
      <string name="kpp_number" default=""/>
      <string name="email" default=""/>
      <integer name="bank_id" default="0"/>
      <string name="bank_account" default=""/>
      <string name="comments" default=""/>
      <string name="personal_manager" default=""/>
      <integer name="connect_date" default="0"/>
      <integer name="is_send_invoice" default="0"/>
      <integer name="advance_payment" default="0"/>

      <integer name="switch_id" default="0"/>
      <integer name="port_number" default="0"/>
      <integer name="binded_currency_id" default="810"/>

      <integer name="parameters_count" default="size(parameter_value)"/>
      <for name="i" from="0" count="size(parameter_value)">
        <integer name="parameter_id" array_index="i"/>
        <string name="parameter_value" array_index="i"/>
      </for>

      <integer name="groups_count" default="size(groups)"/>
      <for name="i" from="0" count="size(groups)">
          <integer name="groups" array_index="i"/>
      </for>

      <integer name="is_blocked" default="0"/>
      <double name="balance" default="0.0"/>
      <double name="credit" default="0.0"/>
      <double name="vat_rate" default="0.0"/>
      <double name="sale_tax_rate" default="0.0"/>
      <integer name="int_status" default="1"/>

    </input>
    <output>
      <integer name="user_id"/>
      <if variable="user_id" value="0" condition="eq">
          <integer name="error_code"/>
          <string name="error_description"/>
      </if>
      <if variable="user_id" value="0" condition="ne">
          <integer name="basic_account"/>
      </if>
    </output>
  </function>

  <function name="rpcf_edit_user_new" id="0x2126">
    <input>
      <integer name="user_id"/>
      <string name="login"/>
      <string name="password"/>
      <string name="full_name" default=""/>
      <integer name="is_juridical" default="0"/>
      <string name="jur_address" default=""/>
      <string name="act_address" default=""/>
      <string name="flat_number" default=""/>
      <string name="entrance" default=""/>
      <string name="floor" default=""/>
      <string name="district" default=""/>
      <string name="building" default=""/>
      <string name="passport" default=""/>
      <integer name="house_id" default="0"/>
      <string name="work_tel" default=""/>
      <string name="home_tel" default=""/>
      <string name="mob_tel" default=""/>
      <string name="web_page" default=""/>
      <string name="icq_number" default=""/>
      <string name="tax_number" default=""/>
      <string name="kpp_number" default=""/>
      <string name="email" default=""/>
      <integer name="bank_id" default="0"/>
      <string name="bank_account" default=""/>
      <string name="comments" default=""/>
      <string name="personal_manager" default=""/>
      <integer name="connect_date" default="0"/>
      <integer name="is_send_invoice" default="0"/>
      <integer name="advance_payment" default="0"/>

      <integer name="switch_id" default="0"/>
      <integer name="port_number" default="0"/>
      <integer name="binded_currency_id" default="810"/>

      <integer name="parameters_count" default="size(parameter_value)"/>
      <for name="i" from="0" count="size(parameter_value)">
        <integer name="parameter_id" array_index="i"/>
        <string name="parameter_value" array_index="i"/>
      </for>

    </input>
    <output>
      <integer name="user_id"/>
      <if variable="user_id" value="0" condition="eq">
          <integer name="error_code"/>
	  <string name="error_description"/>
      </if>
    </output>
  </function>

  <function name="rpcf_get_tray_settings" id="0x212a">
    <input/>
    <output>
      <integer name="count"/>
      <for name="i" from="0" count="count">
        <string name="attribute" array_index="i"/>
	<string name="value" array_index="i"/>
      </for>
    </output>
  </function>

  <function name="rpcf_save_tray_settings" id="0x212b">
    <input>
      <integer name="count"/>
      <for name="i" from="0" count="count">
        <string name="attribute" array_index="i"/>
	<string name="value" array_index="i"/>
      </for>
    </input>
    <output>
      <integer name="result"/>
    </output>
  </function>

  <function name="rpcf_get_cashier_settings" id="0x212c">
    <input/>
    <output>
      <integer name="count"/>
      <for name="i" from="0" count="count">
        <string name="attribute" array_index="i"/>
	<string name="value" array_index="i"/>
      </for>
    </output>
  </function>

  <function name="rpcf_save_cashier_settings" id="0x212d">
    <input>
      <integer name="count"/>
      <for name="i" from="0" count="count">
        <string name="attribute" array_index="i"/>
	<string name="value" array_index="i"/>
      </for>
    </input>
    <output>
      <integer name="result"/>
    </output>
  </function>

  <function name="rpcf_user5_get_tray_settings" id="-0x403a">
    <input/>
    <output>
      <integer name="count"/>
      <for name="i" from="0" count="count">
        <string name="attribute" array_index="i"/>
	<string name="value" array_index="i"/>
      </for>
    </output>
  </function>


<!-- Begin of Dealear's functions -->
    <function name="rpcf_add_dealer" id="0x13001" comment="Add dealer staff">
      <input>
        <string name="login"/>
        <string name="password"/>
        <ip_address name="ip4_address" default="0.0.0.0"/>
        <integer name="mask4" default="32"/>
        <ip_address name="ip6_address" default="::0"/>
        <integer name="mask6" default="128"/>
        <string name="full_name" default=""/>
        <string name="act_address" default=""/>
        <string name="passport" default=""/>
        <string name="work_tel" default=""/>
        <string name="home_tel" default=""/>
        <string name="mob_tel" default=""/>
        <string name="web_page" default=""/>
        <string name="icq_number" default=""/>
        <string name="email" default=""/>
        <string name="comments" default=""/>
        <integer name="groups_count" default="size(group_id)"/>
        <for name="i" from="0" count="size(group_id)">
	    <integer name="group_id" array_index="i" />
        </for>
      </input>
      <output>
        <integer name="dealer_id"/>
        <if variable="dealer_id" value="0" condition="eq">
            <error code="10" comment="error adding dealer. look debug.log for details"/>
        </if>
       </output>
    </function>

    <function name="rpcf_edit_dealer" id="0x13002" comment="Modify dealer staff">
      <input>
        <integer name="dealer_id"/>
        <string name="login"/>
        <string name="password"/>
        <ip_address name="ip4_address" default="0.0.0.0"/>
        <integer name="mask4" default="32"/>
        <ip_address name="ip6_address" default="::0"/>
        <integer name="mask6" default="128"/>
        <string name="full_name" default=""/>
        <string name="act_address" default=""/>
        <string name="passport" default=""/>
        <string name="work_tel" default=""/>
        <string name="home_tel" default=""/>
        <string name="mob_tel" default=""/>
        <string name="web_page" default=""/>
        <string name="icq_number" default=""/>
        <string name="email" default=""/>
        <string name="comments" default=""/>
        <integer name="groups_count" default="size(group_id)" />
        <for name="i" from="0" count="size(group_id)">
	    <integer name="group_id" array_index="i" />
        </for>
      </input>
      <output>
        <integer name="result"/>
         <if variable="result" value="0" condition="eq">
            <error code="10" comment="error adding dealer. look debug.log for details"/>
        </if>
      </output>
    </function>

    <function name="rpcf_delete_dealer" id="0x13003" comment="Delete dealer stuff">
      <input>
        <integer name="dealer_id" />
      </input>
      <output>
          <integer name="result" />
          <if variable="result" value="0" condition="eq">
            <error code="10" comment="error deleting dealer. look debug.log for details"/>
        </if>
      </output>
    </function>

    <function name="rpcf_get_dealer_info" id="0x13004" comment="Get dealer info">
      <input>
        <integer name="dealer_id"/>
      </input>
      <output>
          <integer name="result"/>
          <if variable="result" value="0" condition="eq">
            <error code="10" comment="error getting dealer info. look debug.log for details"/>
          </if>
          <string name="login"/>
          <string name="password"/>
          <ip_address name="ip4_address"/>
          <integer name="mask4"/>
          <ip_address name="ip6_address"/>
          <integer name="mask6"/>
          <string name="full_name"/>
          <string name="act_address"/>
          <string name="passport"/>
          <string name="work_tel"/>
          <string name="home_tel"/>
          <string name="mob_tel"/>
          <string name="web_page"/>
          <string name="icq_number"/>
          <string name="email"/>
          <string name="comments"/>
	  <integer name="who_create"/>
	  <integer name="who_change"/>
	  <integer name="create_date"/>
	  <integer name="change_date"/>
          <integer name="groups_count"/>
          <for name="i" from="0" count="groups_count">
	    <integer name="group_id" array_index="i" />
            <string name="group_name" array_index="i" />
         </for>
      </output>
    </function>

    <function name="rpcf_report_dealer_users" id="0x1300e" comment="Report on created users">
      <input>
        <integer name="dealer_id"/>
	<integer name="time_start" />
	<integer name="time_end" />
      </input>
      <output>
        <integer name="users_count" />
	<for name="i" from="0" count="users_count">
	  <string name="user_id_array" array_index="i"/>
          <string name="login_array" array_index="i"/>
	  <string name="full_name_array" array_index="i"/>
	  <integer name="create_date_array" array_index="i"/>
	</for>
      </output>
    </function>

    <function name="rpcf_report_dealer_payments" id="0x1300f" comment="Report on payments sum and count">
      <input>
        <integer name="dealer_id"/>
	<integer name="time_start" />
	<integer name="time_end" />
      </input>
      <output>
        <integer name="payments_count" />
        <double name="payments_sum" />
      </output>
    </function>

    <function name="rpcf_report_dealer_payments_ex" id="0x13010" comment="Extended payments report">
      <input>
        <integer name="dealer_id"/>
	<integer name="time_start" />
	<integer name="time_end" />
      </input>
      <output>
	 <integer name="methods_size" />
	 <for name="i" from="0" count="methods_size">
	   <integer name="method_array" array_index="i"/>
	   <integer name="payments_count_array" array_index="i"/>
	   <double name="payments_sum_array" array_index="i"/>
	 </for>
      </output>
    </function>

    <function name="rpcf_get_dealer_contacts" id="0x13011" comment="Get dealer contact info">
      <input>
         <integer name="dealer_id" />
      </input>
      <output>
         <integer name="size" />
	 <for name="i" from="0" count="size">
	   <integer name="id" array_index="i" />
	   <string name="person" array_index="i" />
	   <string name="descr" array_index="i" />
	   <string name="contact" array_index="i" />
	   <string name="email" array_index="i" />
	   <integer name="email_notify" array_index="i" />
	   <string name="short_name" array_index="i" />
	   <string name="birthday" array_index="i" />
	   <integer name="id_exec_man" array_index="i" />
	 </for>
      </output>
    </function>

    <function name="rpcf_add_dealer_contact" id="0x13012" comment="Add dealer contact info">
      <input>
	 <integer name="id" />
         <integer name="user_id" />
	 <string name="person" />
	 <string name="descr" />
	 <string name="contact" />
	 <string name="email" />
	 <integer name="email_notify" />
	 <string name="short_name" />
	 <string name="birthday" />
	 <integer name="id_exec_man" />
      </input>
    </function>

    <function name="rpcf_delete_dealer_contact" id="0x13013" comment="Remove dealer contact info">
      <input>
	 <integer name="contact_id"/>
      </input>
    </function>

    <function name="rpcf_get_dealers_list" id="0x13019" comment="Returns dealer users list">
      <input/>
      <output>
        <integer name="dealers_count"/>
	<for name="i" from="0" count="dealers_count">
	    <integer name="dealer_id_array" array_index="i"/>
	    <string name="login_array" array_index="i"/>
	    <string name="full_name_array" array_index="i"/>
	    <ip_address name="ip4_array" array_index="i"/>
	    <integer name="mask4_array" array_index="i"/>
	    <ip_address name="ip6_array" array_index="i"/>
	    <integer name="mask6_array" array_index="i"/>
	</for>
      </output>
    </function>

    <function name="rpcf_grant_privileges_to_dealer" id="0x1301a" comment="Grant privileges to dealer on system entities">
      <input>
        <integer name="dealer_id"/>
	<integer name="entity_type"/>
	<integer name="entity_id_count" default="size(entity_id_array)"/>
	<for name="i" from="0" count="size(entity_id_array)">
	    <integer name="entity_id_array" array_index="i"/>
	</for>
      </input>
      <output>
        <integer name="result"/>
      </output>
    </function>

    <function name="rpcf_get_dealer_privileges" id="0x1301b" comment="Returns entity ID list granted for dealer">
      <input>
        <integer name="dealer_id"/>
	<integer name="entity_type"/>
      </input>
      <output>
	<integer name="entity_id_count"/>
	<for name="i" from="0" count="entity_id_count">
	    <integer name="entity_id_array" array_index="i"/>
	</for>
      </output>
    </function>

    <function name="rpcf_revoke_dealer_privileges" id="0x1301c" comment="Revoke privileges to system entities">
      <input>
        <integer name="dealer_id"/>
	<integer name="entity_type"/>
	<integer name="entity_id_count" default="size(entity_id_array)"/>
	<for name="i" from="0" count="size(entity_id_array)">
	    <integer name="entity_id_array" array_index="i"/>
	</for>
      </input>
      <output>
        <integer name="result"/>
      </output>
    </function>


    <function name="rpcf_verify_dealer_cache" id="0x1301d" comment="Verify dealer cache consistency">
      <input/>
      <output>
        <integer name="result"/>
      </output>
    </function>

    <function name="rpcf_get_dealer_users_map" id="0x13027" comment="Returns list of users with dealer link">
      <input>
        <integer name="from"/>
        <integer name="to"/>
      </input>
      <output>
        <integer name="users_count"/>
        <for name="i" from="0" count="users_count">
         <integer name="user_id" array_index="i"/>
         <string name="login" array_index="i"/>
         <string name="full_name" array_index="i"/>
         <integer name="basic_account" array_index="i"/>
         <integer name="dealer_id" array_index="i"/>
        </for>
      </output>
    </function>

<!-- dealer users functions -->

    <function name="rpcf_dealer_add_user" id="0x70000001">
      <input>
        <string name="login"/>
        <string name="password"/>
        <string name="full_name" default=""/>
        <integer name="is_juridical" default="0"/>
        <string name="jur_address" default=""/>
        <string name="act_address" default=""/>
        <string name="flat_number" default=""/>
        <string name="entrance" default=""/>
        <string name="floor" default=""/>
        <string name="district" default=""/>
        <string name="building" default=""/>
        <string name="passport" default=""/>
        <integer name="house_id" default="0"/>
        <string name="work_tel" default=""/>
        <string name="home_tel" default=""/>
        <string name="mob_tel" default=""/>
        <string name="web_page" default=""/>
        <string name="icq_number" default=""/>
        <string name="tax_number" default=""/>
        <string name="kpp_number" default=""/>
        <string name="email" default=""/>
        <integer name="bank_id" default="0"/>
        <string name="bank_account" default=""/>
        <string name="comments" default=""/>
        <string name="personal_manager" default=""/>
        <integer name="connect_date" default="0"/>
        <integer name="is_send_invoice" default="0"/>
        <integer name="advance_payment" default="0"/>
        <integer name="parameters_count" default="size(parameter_value)"/>
        <for name="i" from="0" count="size(parameter_value)">
          <integer name="parameter_id" array_index="i"/>
          <string name="parameter_value" array_index="i"/>
        </for>
      </input>
      <output>
        <integer name="user_id"/>
	<if variable="user_id" value="0" condition="ne">
            <integer name="account_id"/>
	</if>
      </output>
    </function>

    <function name="rpcf_dealer_edit_user" id="0x70000002">
      <input>
        <integer name="user_id"/>
        <string name="login"/>
        <string name="password"/>
        <string name="full_name" default="" />
        <integer name="is_juridical" default="0" />
        <string name="jur_address"  default="" />
        <string name="act_address" default=""  />
        <string name="flat_number" default=""  />
        <string name="entrance"  default="" />
        <string name="floor"  default="" />
        <string name="district"  default="" />
        <string name="building"  default="" />
        <string name="passport"  default="" />
        <integer name="house_id" default="0" />
        <string name="work_tel"  default="" />
        <string name="home_tel"  default="" />
        <string name="mob_tel"  default="" />
        <string name="web_page"  default="" />
        <string name="icq_number"  default="" />
        <string name="tax_number"  default="" />
        <string name="kpp_number" default=""  />
        <string name="email"  default="" />
        <integer name="bank_id"  default="0" />
        <string name="bank_account"  default="" />
        <string name="comments"  default="" />
        <string name="personal_manager"  default="" />
        <integer name="connect_date"  default="0" />
        <integer name="is_send_invoice"  default="0" />
        <integer name="advance_payment"  default="0" />
        <integer name="parameters_count" default="size(parameter_value)"/>
        <for name="i" from="0" count="size(parameter_value)">
          <integer name="parameter_id" array_index="i"/>
          <string name="parameter_value" array_index="i"/>
        </for>
      </input>
      <output>
        <integer name="user_id"/>
      </output>
    </function>

    <function name="rpcf_dealer_delete_user" id="0x70000003">
      <input>
        <integer name="user_id" />
      </input>
      <output>
	 <integer name="result" />
     </output>
    </function>

    <function name="rpcf_dealer_get_users_list" id="0x70000056">
      <input>
         <integer name="from" default="0"/>
	 <integer name="to" default="-1"/>
      </input>
      <output>
        <integer name="cnt" />
        <for name="i" from="0" count="cnt">
           <integer name="user_id_array" array_index="i"/>
           <string name="login_array" array_index="i"/>
           <integer name="basic_account" array_index="i"/>
           <string name="full_name" array_index="i" />
           <integer name="is_blocked" array_index="i" />
           <double name="balance" array_index="i" />
           <integer name="ip_adr_size" />
	   <set dst="ip_adr_size_array" src="ip_adr_size" dst_index="i" />
           <for name="j" from="0" count="ip_adr_size">
	        <integer name="group_size" />
		<set dst="group_size_array" src="group_size" dst_index="i,j" />
	        <for name="x" from="0" count="group_size">
	           <ip_address name="ip_address" array_index="i,j,x"/>
                   <integer name="mask" array_index="i,j,x" />
    	           <integer name="group_type" array_index="i,j,x" />
	        </for>
           </for>
           <integer name="user_int_status" array_index="i" />
        </for>
      </output>
    </function>

    <function name="rpcf_dealer_get_user_info" id="0x70000005">
      <input>
        <integer name="user_id"/>
      </input>
      <output>
        <integer name="user_id"/>
        <if variable="user_id" value="0" condition="eq">
          <error code="10" comment="user not found"/>
        </if>
        <integer name="accounts_count"/>
        <for name="i" from="0" count="accounts_count">
          <integer name="account_id_array" array_index="i"/>
          <string name="account_name_array" array_index="i"/>
        </for>
        <string name="login"/>
        <string name="password"/>
        <integer name="basic_account"/>
        <string name="full_name"/>
        <integer name="create_date"/>
        <integer name="last_change_date"/>
        <integer name="who_create"/>
        <integer name="who_change"/>
        <integer name="is_juridical"/>
        <string name="jur_address"/>
        <string name="act_address"/>
        <string name="work_tel"/>
        <string name="home_tel"/>
        <string name="mob_tel"/>
        <string name="web_page"/>
        <string name="icq_number"/>
        <string name="tax_number"/>
        <string name="kpp_number"/>
        <integer name="bank_id"/>
        <string name="bank_account"/>
        <string name="comments"/>
        <string name="personal_manager"/>
        <integer name="connect_date"/>
        <string name="email"/>
        <integer name="is_send_invoice"/>
        <integer name="advance_payment"/>
        <integer name="house_id"/>
        <string name="flat_number"/>
        <string name="entrance"/>
        <string name="floor"/>
        <string name="district"/>
        <string name="building"/>
        <string name="passport"/>
        <integer name="parameters_size"/>
        <for name="i" from="0" count="parameters_size">
          <integer name="parameted_id" array_index="i" />
          <string name="parameter_value" array_index="i" />
        </for>
      </output>
    </function>

    <function name="rpcf_dealer_get_groups_for_user" id="0x70000006">
      <input>
        <integer name="user_id" />
      </input>
      <output>
         <integer name="groups_size" />
         <if variable="groups_size" value="0" condition="eq">
            <error code="10" comment="user has no groups or you dont have enough privileges"/>
         </if>
         <for name="i" from="0" count="groups_size">
	    <integer name="group_id" array_index="i" />
	    <string name="group_name" array_index="i" />
	 </for>
      </output>
    </function>

    <function name="rpcf_dealer_get_user_contacts" id="0x70000009">
      <input>
        <integer name="user_id" />
      </input>
      <output>
          <integer name="size" />
	  <if variable="size" value="0" condition="eq">
            <error code="10" comment="user has no contacts or you dont have enough privileges"/>
          </if>
	  <for name="i" from="0" count="size">
	     <integer name="id" array_index="i" />
	     <string name="person" array_index="i" />
	     <string name="descr" array_index="i" />
	     <string name="contact" array_index="i" />
	     <string name="email" array_index="i" />
	     <integer name="email_notify" array_index="i" />
	     <string name="short_name" array_index="i" />
	     <string name="birthday" array_index="i" />
	     <integer name="id_exec_man" array_index="i" />
	  </for>
      </output>
    </function>

    <function name="rpcf_dealer_add_user_contact" id="0x70000042">
      <input>
             <integer name="user_id" />
	     <string name="person" />
	     <string name="descr" />
	     <string name="contact" />
	     <string name="email" />
	     <integer name="email_notify" default="1" />
	     <string name="short_name" />
	     <string name="birthday" />
	     <integer name="id_exec_man" default="0"/>
      </input>
      <output>
        <integer name="result"/>
        <if variable="result" value="0" condition="eq">
          <error code="10" comment="user not found or you dont have enough privileges"/>
        </if>
      </output>
    </function>

    <function name="rpcf_dealer_edit_user_contact" id="0x70000043">
      <input>
             <integer name="user_id" />
	     <integer name="id" />
	     <string name="person" />
	     <string name="descr" />
	     <string name="contact" />
	     <string name="email" />
	     <integer name="email_notify" />
	     <string name="short_name" />
	     <string name="birthday" />
	     <integer name="id_exec_man" />
      </input>
      <output>
        <integer name="result"/>
        <if variable="result" value="0" condition="eq">
          <error code="10" comment="user not found or you dont have enough privileges"/>
        </if>
      </output>
    </function>

    <function name="rpcf_dealer_delete_user_contact" id="0x70000044">
      <input>
             <integer name="user_id" />
	     <integer name="id" />
      </input>
      <output>
        <integer name="result"/>
        <if variable="result" value="0" condition="eq">
          <error code="10" comment="contact not found or you dont have enough privileges"/>
        </if>
      </output>
    </function>

    <function name="rpcf_dealer_get_users_count" id="0x7000000a">
      <input>
      </input>
      <output>
          <integer name="users_count" />
      </output>
    </function>

    <function name="rpcf_dealer_get_user_account_list" id="0x70000008">
      <input>
        <integer name="user_id" />
      </input>
      <output>
          <integer name="accounts_count" />
	  <if variable="accounts_count" value="0" condition="eq">
            <error code="10" comment="user has no accounts or you dont have enough privileges"/>
          </if>
	  <for name="i" from="0" count="accounts_count">
	     <integer name="account" array_index="i" />
	     <string name="account_name" array_index="i" />
	  </for>
      </output>
    </function>

    <function name="rpcf_dealer_generate_doc_for_user" id="0x70000072">
      <input>
        <integer name="doc_type_id"/>
        <integer name="user_id"/>
        <integer name="base_id"/>
        <integer name="doc_template_id"/>
      </input>
      <output>
       	<integer name="text_cnt"/>
	<if variable="text_cnt" value="0" condition="ne">
	    <for name="i" from="0" count="text_cnt">
		<string name="text" array_index="i"/>
	    </for>
	    <integer name="landscape"/>
	</if>
      </output>
    </function>

    <function name="rpcf_dealer_get_houses_list" id="0x7000000d">
      <input>
      </input>
      <output>
          <integer name="houses_size" />
          <for name="i" from="0" count="houses_size">
	     <integer name="house_id" array_index="i" />
	     <integer name="ip_zone_id" array_index="i" />
	     <integer name="connect_date" array_index="i" />
	     <string name="post_code" array_index="i" />
	     <string name="country" array_index="i" />
	     <string name="region" array_index="i" />
	     <string name="city" array_index="i" />
	     <string name="street" array_index="i" />
	     <string name="number" array_index="i" />
	     <string name="building" array_index="i" />
          </for>
      </output>
    </function>

    <function name="rpcf_dealer_get_banks" id="0x7000000e">
      <input>
      </input>
      <output>
          <integer name="banks_size" />
	  <for name="i" from="0" count="banks_size">
	    <integer name="id" array_index="i" />
	    <string name="bic" array_index="i" />
	    <string name="name" array_index="i" />
	    <string name="city" array_index="i" />
	    <string name="kschet" array_index="i" />
	  </for>
      </output>
    </function>

    <function name="rpcf_dealer_get_sup" id="0x7000000f">
      <input>
      </input>
      <output>
          <integer name="count" />
	  <for name="i" from="0" count="count">
	    <integer name="id" array_index="i" />
	    <string name="name" array_index="i" />
	    <string name="ur_adress" array_index="i" />
	    <string name="act_adress" array_index="i" />
	    <string name="inn" array_index="i" />
	    <string name="kpp" array_index="i" />
	    <integer name="bank_id" array_index="i" />
	    <string name="account" array_index="i" />
	    <string name="fio_headman" array_index="i" />
	    <string name="fio_bookeeper" array_index="i" />
	    <string name="fio_headman_sh" array_index="i" />
	    <string name="fio_bookeeper_sh" array_index="i" />
	    <string name="name_sh" array_index="i" />
	    <string name="bank_bic" array_index="i" />
	    <string name="bank_name" array_index="i" />
	    <string name="bank_city" array_index="i" />
	    <string name="bank_kschet" array_index="i" />
	  </for>
      </output>
    </function>

    <function name="rpcf_dealer_get_tps_for_user" id="0x70000010">
      <input>
	     <integer name="user_id" />
	     <integer name="account_id" />
	     <integer name="tariff_id" />
	     <integer name="tplink" />
	     <integer name="curr" />
      </input>
      <output>
	     <integer name="service_size" />
	     <if variable="service_size" value="0" condition="eq">
                 <error code="13" comment="tariff not found or you dont have enough privileges"/>
             </if>
	     <for name="i" from="0" count="service_size">
	          <integer name="sid" array_index="i" />
		  <string name="service_name" array_index="i" />
		  <integer name="service_type" array_index="i" />
		  <string name="comment" array_index="i" />
		  <integer name="slink" array_index="i" />
		  <integer name="value" array_index="i" />
	     </for>
      </output>
    </function>

<!-- dealer accounts functions -->

    <function name="rpcf_dealer_add_account" id="0x70000011">
      <input>
        <integer name="user_id"/>
        <integer name="is_basic" default="1"/>
        <integer name="is_blocked" default="0"/>
        <string name="account_name" default="auto create account"/>
        <double name="balance" default="0.0"/>
        <double name="credit" default="0.0"/>
        <integer name="discount_period_id" default="0"/>
        <integer name="dealer_account_id" default="0"/>
        <double name="comission_coefficient" default="0.0"/>
        <double name="default_comission_value" default="0.0"/>
        <integer name="is_dealer" default="0"/>
        <double name="vat_rate" default="0.0"/>
        <double name="sale_tax_rate" default="0.0"/>
        <integer name="int_status" default="1"/>
      </input>
      <output>
        <integer name="account_id"/>
        <if variable="account_id" value="0" condition="eq">
          <error code="11" comment="unable to add account or you dont have enough privileges"/>
        </if>
      </output>
    </function>

    <function name="rpcf_dealer_delete_account" id="0x70000012">
      <input>
        <integer name="account_id" />
      </input>
      <output>
          <integer name="ret_code" />
          <if variable="ret_code" value="0" condition="eq">
            <error code="11" comment="account does not exist or you dont have enough privileges"/>
          </if>
      </output>
    </function>

    <function name="rpcf_dealer_get_account_info" id="0x70000013">
      <input>
        <integer name="account_id"/>
      </input>
      <output>
        <integer name="account_id"/>
        <if variable="account_id" value="0" condition="eq">
          <error code="11" comment=" account not found or you dont have enough privileges"/>
        </if>
        <integer name="discount_period_id"/>
        <integer name="is_blocked"/>
        <double name="vat_rate"/>
        <double name="sale_tax_rate"/>
        <double name="comission_coefficient"/>
        <double name="default_comission_value"/>
        <double name="credit"/>
        <double name="balance"/>
        <integer name="int_status"/>
        <integer name="block_recalc_abon"/>
        <integer name="block_recalc_prepaid"/>
        <integer name="unlimited"/>
      </output>
    </function>

    <function name="rpcf_dealer_block_account" id="0x70000014">
      <input>
	     <integer name="account_id" />
	     <integer name="is_blocked" />
      </input>
      <output>
         <integer name="aid" />
         <if variable="aid" value="0" condition="eq">
           <error code="11" comment="account not found or you dont have enough privileges"/>
         </if>
      </output>
    </function>

    <function name="rpcf_dealer_save_account" id="0x70000015">
    <input>
      <integer name="account_id"/>
      <integer name="discount_period_id" />
      <double name="credit"/>
      <integer name="is_blocked"/>
      <if variable="is_blocked" value="0" condition="ne">
        <integer name="block_start_date" default="now()"/>
        <integer name="block_end_date" default="max_time()"/>
      </if>
      <double name="vat_rate"/>
      <double name="sale_tax_rate"/>
      <integer name="int_status"/>
      <integer name="block_recalc_abon"/>
      <integer name="block_recalc_prepaid"/>
      <integer name="unlimited"/>
    </input>
    <output>
         <integer name="aid" />
         <if variable="aid" value="0" condition="eq">
           <error code="11" comment="account not found or you dont have enough privileges"/>
         </if>
    </output>
    </function>

<!-- dealer services functions -->

    <function name = "rpcf_dealer_get_charge_policy_for_service" id = "0x70000067">
        <input>
            <integer name="service_id"/>          
        </input>
        <output>
            <integer name="charge_policy"/>
        </output>
    </function>

    <function name="rpcf_dealer_get_periodic_link_stats" id="0x70000068">
        <input>
        <integer name="slink_id"/>
        </input>
        <output>
        <integer name="result"/>
        <if variable="result" value="-1" condition="ne">
            <integer name="is_active"/>
            <integer name="fee_recalc_start"/>
            <integer name="fee_recalc_duration"/>
            <integer name="ip_recalc_start"/>
            <integer name="ip_recalc_durtation"/>
            <integer name="tel_recalc_start"/>
            <integer name="tel_recalc_duration"/>
            <double name="charged"/>
            <double name="repaid"/>
        </if>
        </output>
    </function>
    
    <function name="rpcf_dealer_get_charge_policy_list" id="0x70000066">
        <input/>
        <output>
        <integer name="policy_count"/>
        <for name="i" from="0" count="policy_count">
            <integer name="policy_id_array" array_index="i"/>
            <integer name="flags_array" array_index="i"/>
            <string name="name_array" array_index="i"/>
            <integer name="tm_count" array_index="i"/>
            <for name="e" from="0" count="tm_count">
            <integer name="timemark" array_index="i,e"/>    
            </for>    
        </for>
        </output>
    </function>
    

    <function name="rpcf_dealer_get_services_list" id="0x70000021">
      <input>
        <integer name="service_type" default="-1"/>
      </input>
      <output>
        <integer name="services_count"/>
        <for name="i" from="0" count="services_count">
          <integer name="service_id_array" array_index="i"/>

            <set dst="service_id_array_tmp" src="service_id_array" src_index="i"/>

      <if variable="service_id_array_tmp" value="-1" condition="ne">
             <string name="service_name_array" array_index="i"/>
             <integer name="service_type_array" array_index="i"/>
             <string name="service_comment_array" array_index="i"/>

             <if variable="service_type" value="0" condition="ne">
                 <integer name="service_status"/>

                <set dst="service_status_array" src="service_status" dst_index="i"/>

                <if variable="service_status" value="2" condition="eq">
                  <string name="tariff_name_array" array_index="i"/>
                </if>
                <if variable="service_status" value="2" condition="ne">
                    <set dst="tariff_name_array" dst_index="i" value="" />
                </if>

             </if>

             <if variable="service_type" value="0" condition="eq">
                <set dst="service_status_array" dst_index="i" value="0"/>
                <set dst="tariff_name_array" dst_index="i" value="" />
             </if>

          </if>

	  <if variable="service_id_array_tmp" value="-1" condition="eq">
             <set dst="service_name_array" dst_index="i" value=""/>
             <set dst="service_type_array" dst_index="i" value="0"/>
             <set dst="service_comment_array" dst_index="i" value=""/>
             <set dst="service_status_array" dst_index="i" value="0"/>
             <set dst="tariff_name_array" dst_index="i" value=""/>
          </if>

        </for>
      </output>
    </function>

    <function name="rpcf_dealer_get_hotspot_services_list" id="0x70000022">
      <input>
      </input>
      <output>
          <integer name="services_size" />
          <for name="i" from="0" count="services_size">
	     <integer name="service_id" array_index="i" />

              <set dst="service_id_tmp" src="service_id" src_index="i"/>

         <if variable="service_id_tmp" value="-1" condition="ne">
	        <string name="service_name" array_index="i" />
	        <integer name="service_type" array_index="i" />
	        <string name="comment" array_index="i" />
	     </if>
	     <if variable="service_id_tmp" value="-1" condition="eq">
	        <set dst="service_name" dst_index="i" value="" />
	        <set dst="service_type" dst_index="i" value="0"/>
	        <set dst="comment" dst_index="i" value=""/>
	     </if>

          </for>
      </output>
    </function>

    <function name="rpcf_dealer_get_fictive_services_list" id="0x70000023">
      <input>
      </input>
      <output>
         <integer name="services_size" />
         <for name="i" from="0" count="services_size">
	     <integer name="service_id" />
	     <set dst="service_id_array" dst_index="i" src="service_id" />
	     <if variable="service_id" value="-1" condition="ne">
	        <string  name="service_name" array_index="i" />
	        <integer name="service_type" array_index="i" />
	        <string  name="comment" array_index="i" />
	     </if>
	     <if variable="service_id" value="-1" condition="eq">
	        <set dst="service_name" dst_index="i" value="" />
	        <set dst="service_type" dst_index="i" value="0"/>
	        <set dst="comment" dst_index="i" value=""/>
	     </if>
         </for>
      </output>
    </function>

    <function name="rpcf_dealer_get_hotspot_service" id="0x70000024">
      <input>
         <integer name="service_id" />
      </input>
      <output>
          <integer name="sid" />
          <if variable="sid" value="0" condition="eq">
             <error code="11" comment="service not found or you dont have enough privileges"/>
          </if>
          <string name="service_name" />
          <string name="comment" />
	  <integer name="link_by_default" />
	  <integer name="is_dynamic" />
	  <double name="cost" />
	  <integer name="deprecated" />
	  <integer name="discount_method" />
	  <integer name="start_date" />
	  <integer name="expire_date" />
	  <integer name="null_service_prepaid" />
	  <integer name="radius_sessions_limit" />
	  <double name="recv_cost" />
	  <string name="rate_limit" />
	  <integer name="hsd_allowed_net_size" />
	  <for name="i" from="0" count="hsd_allowed_net_size">
	     <integer name="allowed_net_id" array_index="i" />
	     <integer name="allowed_net_value" array_index="i" />
	  </for>
	  <integer name="cost_size" />
	  <for name="i" from="0" count="cost_size">
	     <string name="tr_name" array_index="i" />
	     <double name="param1" array_index="i" />
	     <integer name="param2" array_index="i" />
	  </for>
	  <integer name="service_data_parent_id" />
	  <integer name="tariff_id" />
	  <integer name="parent_id" />
      </output>
    </function>

    <function name="rpcf_dealer_get_dialup_service" id="0x70000045">
      <input>
           <integer name="service_id" />
      </input>
      <output>
          <integer name="sid" />
          <if variable="sid" value="0" condition="eq">
             <error code="11" comment="service not found or you dont have enough privileges"/>
          </if>
	 <string  name="service_name" />
	 <string name="comment" />
	 <integer name="link_by_default" />
	 <integer name="is_dynamic" />
	 <double name="cost" />
	 <integer name="deprecated" />
	 <integer name="discount_method" />
	 <integer name="start_date" />
	 <integer name="expire_date" />
	 <string name="pool_name" />
	 <integer name="max_timeout" />
	 <integer name="null_service_prepaid" />
	 <integer name="radius_sessions_limit" />
	 <string name="login_prefix" />
	 <integer name="cost_size" />
         <for name="i" from="0" count="cost_size">
	   <string name="tr_name" array_index="i" />
	   <double name="param" array_index="i" />
	   <integer name="id" array_index="i" />
         </for>

	 <integer name="is_parent_id" />
	 <integer name="tariff_id" />
	 <integer name="parent_id" />
      </output>
    </function>

    <function name="rpcf_dealer_get_iptraffic_service" id="0x70000025">
      <input>
             <integer name="service_id" />
      </input>
      <output>
          <integer name="sid" />
          <if variable="sid" value="0" condition="eq">
             <error code="11" comment="service not found or you dont have enough privileges"/>
          </if>
          <string name="service_name" />
          <string name="comment" />
	  <integer name="link_by_default" />
	  <integer name="is_dynamic" />
	  <double name="cost" />
	  <integer name="deprecated" />
	  <integer name="discount_method" />
	  <integer name="start_date" />
	  <integer name="expire_date" />
	  <integer name="null_service_prepaid" />
	  <integer name="borders_count" />
	  <for name="i" from="0" count="borders_count">
	     <integer name="tclass" array_index="i" />

          <set dst="tclass_tmp" src="tclass" src_index="i"/>

         <if variable="tclass_tmp" value="-1" condition="ne">
	       <long name="borders_size" />
	       <set dst="borders_size_array" src="borders_size" dst_index="i" />
	       <for name="j" from="0" count="borders_size">
	           <long name="border_id" array_index="i,j" />
		   <double name="border_cost" array_index="i,j" />
	       </for>
	     </if>
	     <if variable="tclass_tmp" value="-1" condition="eq">
	       <set dst="borders_size_array" dst_index="borders_size" value="0" />
	     </if>
	  </for>
	  <integer name="prepaid_count" />
	  <for name="i" from="0" count="prepaid_count">
	     <integer name="tclass" array_index="i" />

          <set dst="tclass_tmp" src="tclass" src_index="i"/>

	     <if variable="tclass_tmp" value="-1" condition="ne">
	       <long name="prepaid_amount" array_index="i" />
	       <long name="prepaid_max" array_index="i" />
	     </if>
	     <if variable="tclass_tmp" value="-1" condition="eq">
	       <set dst="prepaid_amount" dst_index="i" value="0"/>
	       <set dst="prepaid_max" dst_index="i" value="0"/>
	     </if>
	  </for>
	  <integer name="tclass_id2group_size" />
	  <for name="i" from="0" count="tclass_id2group_size">
	       <integer name="tclass_id" array_index="i" />
   	       <integer name="tclass_group_id" array_index="i" />
	  </for>
	  <integer name="service_data_parent_id" />
	  <integer name="tariff_id" />
	  <integer name="parent_id" />
      </output>
    </function>

    <function name="rpcf_dealer_get_once_service" id="0x70000026">
      <input>
         <integer name="service_id" />
      </input>
      <output>
          <integer name="sid" />
          <if variable="sid" value="0" condition="eq">
             <error code="11" comment="service not found or you dont have enough privileges"/>
          </if>
	 <string  name="service_name" />
	 <string name="comment" />
	 <integer name="link_by_default" />
	 <double name="cost" />
	 <integer name="drop_from_group" />
	 <integer name="is_parent_id" />
	 <integer name="tariff_id" />
	 <integer name="parent_id" />
      </output>
    </function>

    <function name="rpcf_dealer_get_periodic_service" id="0x70000027">
      <input>
         <integer name="service_id" />
      </input>
      <output>
          <integer name="sid" />
          <if variable="sid" value="0" condition="eq">
             <error code="11" comment="service not found or you dont have enough privileges"/>
          </if>
          <string name="service_name" />
          <string name="comment" />
	  <integer name="link_by_default" />
	  <double name="cost" />
	  <integer name="deprecated" />
	  <integer name="discount_method" />
	  <integer name="start_date" />
	  <integer name="expire_date" />
          <integer name="param" />
	  <integer name="tariff_id" />
	  <integer name="parent_id" />
      </output>
    </function>

    <function name="rpcf_dealer_get_telephony_service" id="0x70000028">
      <input>
        <integer name="service_id" />
      </input>
      <output>
        <integer name="sid" />
        <if variable="sid" value="0" condition="eq">
             <error code="11" comment="service not found or you dont have enough privileges"/>
        </if>
        <string name="service_name" />
	<string name="comment" />
	<integer name="link_by_default" />
	<double name="cost" />
	<integer name="discount_method" />
	<integer name="start_date" />
	<integer name="expire_date" />
	<integer name="radius_sessions_limit" />
	<integer name="count" />
	<for name="i" from="0" count="count">
	  <integer name="directions" array_index="i" />
	  <integer name="borders_count"/>
	  <set dst="borders_count_array" src="borders_count" dst_index="i" />
	  <for name="j" from="0" count="borders_count">
	    <long name="tarif_quantity" array_index="i,j" />
	    <double name="cost" array_index="i,j" />
	  </for>
        <integer name="timerange_count"/>
      <set dst="timerange_count_array" src="timerange_count" dst_index="i" />
	  <for name="j" from="0" count="timerange_count">
	    <integer name="timerange_id" array_index="i,j"/>
	    <double name="cost" array_index="i,j" />
	  </for>
	</for>
	<long name="free_time"/>
	<long name="first_interval"/>
	<long name="first_interval_around"/>
	<long name="incremental_interval"/>
	<long name="unit_size"/>
	<double name="fixed_call_cost"/>
	<integer name="tariff_id"/>
	<integer name="parent_id"/>
      </output>
    </function>

    <function name="rpcf_dealer_get_all_services_for_user" id="0x70000029">
      <input>
        <integer name="account_id"/>
      </input>
      <output>
        <integer name="slink_id_count"/>
        <if variable="slink_id_count" value="0" condition="eq">
             <error code="11" comment="services not found or you dont have enough privileges"/>
        </if>
        <for name="i" from="0" count="slink_id_count">
          <integer name="service_id"/>
          <if variable="service_id" value="-1" condition="ne">
            <set src="service_id" dst="service_id_array" dst_index="i"/>
            <integer name="service_type_array" array_index="i"/>
            <string name="service_name_array" array_index="i"/>
            <string name="tariff_name_array" array_index="i"/>
            <double name="service_cost_array" array_index="i"/>
            <integer name="slink_id_array" array_index="i"/>
            <integer name="discount_period_id_array" array_index="i"/>
          </if>
	  <if variable="service_id" value="-1" condition="eq">
	    <set dst="service_id_array" dst_index="i" value="-1"/>
	    <set dst="service_type_array" dst_index="i" value="-1"/>
	    <set dst="service_name_array" dst_index="i" value=""/>
	    <set dst="tariff_name_array" dst_index="i" value=""/>
	    <set dst="service_cost_array" dst_index="i" value="-1"/>
	    <set dst="slink_id_array" dst_index="i" value="-1"/>
	    <set dst="discount_period_id_array" dst_index="i" value="-1"/>
	  </if>
        </for>
      </output>
    </function>

    <function name="rpcf_dealer_add_service_to_user" id="0x7000006b">
      <input>
        <integer name="user_id"/>
        <integer name="account_id"/>
        <integer name="service_id"/>
        <integer name="service_type"/>
        <string name="unused" default=""/>
        <integer name="tariff_link_id" default="0"/>
        <!-- once service -->
        <if variable="service_type" value="1" condition="eq">
              <integer name="discount_date" default="now()" />
              <double name="cost_coef" default="1.0" />
        </if>
        <!-- periodic service -->
        <if variable="service_type" value="2" condition="eq">
          <integer name="discount_period_id" />
          <integer name="start_date" default="now()"/>
          <integer name="expire_date" default="max_time()"/>
          <integer name="policy_id"/>
          <integer name="unabon" default="0"/>
          <double name="cost_coef" default="1"/>
        </if>
        <!-- iptraffic service -->
        <if variable="service_type" value="3" condition="eq">
          <integer name="discount_period_id"/>
          <integer name="start_date" default="now()"/>
          <integer name="expire_date" default="max_time()"/>
          <integer name="policy_id"/>
          <integer name="unabon" default="0"/>
          <double name="cost_coef" default="1"/>
          <integer name="unprepay" default="0"/>
          <integer name="ip_groups_count" default="size(ip_address)"/>
          <for name="i" from="0" count="size(ip_address)">
            <ip_address name="ip_address" array_index="i"/>
            <integer name="mask" array_index="i"/>
            <string name="mac" array_index="i" default=""/>
            <string name="iptraffic_login" array_index="i" default=""/>
            <string name="iptraffic_allowed_cid" array_index="i" default=""/>
            <string name="iptraffic_password" array_index="i" default=""/>
            <string name="pool_name" array_index="i" default=""/>
            <integer name="ip_not_vpn" array_index="i" default="0"/>
            <integer name="dont_use_fw" array_index="i" default="0"/>
            <integer name="router_id" array_index="i" default="0"/>
            <integer name="switch_id" array_index="i" default="0"/>
            <integer name="port_id" array_index="i" default="0"/>
            <integer name="vlan_id" array_index="i" default="0"/>
            <integer name="pool_id" array_index="i" default="0"/>
          </for>
          <integer name="quotas_count" default="size(quota)"/>
          <for name="i" from="0" count="size(quota)">
            <integer name="tclass_id" array_index="i"/>
            <long name="quota" array_index="i"/>
          </for>
        </if>
        <!-- hotspot service -->
        <if variable="service_type" value="4" condition="eq">
          <integer name="discount_period_id"/>
          <integer name="start_date" default="now()"/>
          <integer name="expire_date" default="max_time()"/>
          <integer name="policy_id"/>
          <integer name="unabon" default="0"/>
          <double name="cost_coef" default="1"/>
          <string  name="hotspot_login"/>
          <string  name="hotspot_password"/>
          <integer name="unabon" default="0"/>
        </if>
        <!-- dialup service -->
        <if variable="service_type" value="5" condition="eq">
          <integer name="discount_period_id"/>
          <integer name="start_date" default="now()"/>
          <integer name="expire_date" default="max_time()"/>
          <integer name="policy_id"/>
          <integer name="unabon" default="0"/>
          <double name="cost_coef" default="1"/>
          <string  name="dialup_login"/>
          <string  name="dialup_password" default=""/>
          <string  name="dialup_allowed_cid" default=""/>
          <string  name="dialup_allowed_csid" default=""/>
          <integer name="callback_enabled" default="3"/>
          <integer name="unabon" default="0"/>
        </if>
        <!-- telephony service -->
        <if variable="service_type" value="6" condition="eq">
          <integer name="discount_period_id"/>
          <integer name="start_date" default="now()"/>
          <integer name="expire_date" default="max_time()"/>
          <integer name="policy_id"/>
          <integer name="unabon" default="0"/>
          <double name="cost_coef" default="1"/>
          <integer name="unabon" default="0"/>
          <integer name="tel_numbers_count" default="size(tel_number)"/>
          <for name="i" from="0" count="size(tel_number)">
            <integer name="tel_slink_id" default="0"/>
            <string  name="tel_number" array_index="i"/>
            <string  name="tel_login" array_index="i"/>
            <string  name="tel_password" array_index="i"/>
            <string  name="tel_allowed_cid" array_index="i" default=""/>
          </for>
        </if>
      </input>
      <output>
        <integer name="slink_id"/>
      </output>
    </function>

    <function name="rpcf_dealer_edit_service_for_user" id="0x7000006c">
      <input>
        <integer name="user_id"/>
        <integer name="account_id" default="0"/>
        <integer name="service_id"/>
        <integer name="service_type"/>
        <integer name="tariff_link_id" />
        <!-- once service -->
        <if variable="service_type" value="1" condition="eq">
          <integer name="slink_id" />
          <integer name="discount_date" />
          <double name="cost_coef" default="1.0" />
        </if>
        <!-- periodic service -->
        <if variable="service_type" value="2" condition="eq">
          <integer name="slink_id" />
          <integer name="is_blocked" />
          <integer name="discount_period_id" />
          <integer name="start_date" />
          <integer name="expire_date" />
          <integer name="policy_id"/>
          <double name="cost_coef" default="1"/>
        </if>
        <!-- iptraffic service -->
        <if variable="service_type" value="3" condition="eq">
          <integer name="slink_id" />
          <integer name="is_blocked" />
          <integer name="discount_period_id"/>
          <integer name="start_date" />
          <integer name="expire_date" />
          <integer name="policy_id"/>
          <double name="cost_coef" default="1"/>
          <integer name="ip_groups_count" default="size(ip_address)"/>
          <for name="i" from="0" count="size(ip_address)">
            <ip_address name="ip_address" array_index="i"/>
            <integer name="mask" array_index="i" />
            <string name="mac" array_index="i" />
            <string name="iptraffic_login" array_index="i" />
            <string name="iptraffic_allowed_cid" array_index="i" />
            <string name="iptraffic_password" array_index="i" />
            <string name="pool_name" array_index="i"/>
            <integer name="ip_not_vpn" array_index="i" />
            <integer name="dont_use_fw" array_index="i" />
            <integer name="router_id" array_index="i" />
            <integer name="switch_id" array_index="i"/>
            <integer name="port_id" array_index="i"/>
            <integer name="vlan_id" array_index="i"/>
            <integer name="pool_id" array_index="i"/>
          </for>
          <integer name="quotas_count" default="size(quota)"/>
          <for name="i" from="0" count="size(quota)">
            <integer name="tclass_id" array_index="i"/>
            <long name="quota" array_index="i"/>
          </for>
        </if>
        <!-- hotspot service -->
        <if variable="service_type" value="4" condition="eq">
          <integer name="slink_id" />
          <integer name="is_blocked" />
          <integer name="discount_period_id"/>
          <integer name="start_date" />
          <integer name="expire_date" />
          <integer name="policy_id"/>
          <double name="cost_coef" default="1"/>
          <string  name="hotspot_login"/>
          <string  name="hotspot_password"/>
        </if>
        <!-- dialup service -->
        <if variable="service_type" value="5" condition="eq">
          <integer name="slink_id" />
          <integer name="is_blocked" />
          <integer name="discount_period_id"/>
          <integer name="start_date" />
          <integer name="expire_date" />
          <integer name="policy_id"/>
          <double name="cost_coef" default="1"/>
          <string  name="dialup_login"/>
          <string  name="dialup_password" />
          <string  name="dialup_allowed_cid" />
          <string  name="dialup_allowed_csid" />
          <integer name="callback_enabled" />
        </if>
        <!-- telephony service -->
        <if variable="service_type" value="6" condition="eq">
          <integer name="slink_id" />
          <integer name="is_blocked" />
          <integer name="discount_period_id"/>
          <integer name="start_date" />
          <integer name="expire_date" />
          <integer name="policy_id"/>
          <double name="cost_coef" default="1"/>
          <integer name="tel_numbers_count" default="size(tel_number)"/>
          <for name="i" from="0" count="size(tel_number)">
	    <integer name="tel_slink_id" array_index="i" default="0"/>
            <string  name="tel_number" array_index="i"/>
            <string  name="tel_login" array_index="i"/>
            <string  name="tel_password" array_index="i"/>
            <string  name="tel_allowed_cid" array_index="i" default=""/>
          </for>
        </if>
      </input>
      <output>
        <integer name="slink_id"/>
      </output>
    </function>

    <function name="rpcf_dealer_is_service_used" id="0x7000002c">
      <input>
          <integer name="service_id" />
      </input>
      <output>
          <integer name="links_count" />
          <if variable="links_count" value="0" condition="eq">
             <error code="11" comment="service not found or not used or you dont have enough privileges"/>
          </if>
      </output>
    </function>

    <function name="rpcf_dealer_get_tclasses" id="0x7000002d">
      <input>
      </input>
      <output>
	 <integer  name="tclass_list_size" />
	 <for name="i" from="0" count="tclass_list_size">
	     <integer name="tclass_id" array_index="i" />
             <string name="tclass_name" array_index="i" />
	     <integer name="graph_color" array_index="i" />
	     <integer name="is_display" array_index="i" />
	     <integer name="is_fill" array_index="i" />
          </for>
      </output>
    </function>

    <function name="rpcf_dealer_get_hotspot_service_link" id="0x70000061">
      <input>
         <integer name="slink_id" />
      </input>
      <output>
         <integer name="sid" />
          <if variable="sid" value="0" condition="eq">
             <error code="11" comment="service link not found or you dont have enough privileges"/>
          </if>
	 <integer name="tariff_link_id" />
	 <integer name="is_blocked" />
	 <integer name="discount_period_id" />
	 <integer name="start_date" />
	 <integer name="expire_date" />
         <integer name="policy_id" />
         <double name="cost_coef" />
	 <string name="login" />
	 <string name="password" />
	 <integer name="is_unabon_period" />
	 <integer name="is_unprepay_period" />
	 <integer name="tariff_id" />
	 <integer name="parent_id" />
      </output>
    </function>

    <function name="rpcf_dealer_get_dialup_service_link" id="0x70000062">
      <input>
         <integer name="slink_id" />
      </input>
      <output>
         <integer name="sid" />
          <if variable="sid" value="0" condition="eq">
             <error code="11" comment="service link not found or you dont have enough privileges"/>
          </if>
         <integer name="tariff_link_id" />
	 <integer name="is_blocked" />
	 <integer name="discount_period_id" />
	 <integer name="start_date" />
	 <integer name="expire_date" />
         <integer name="policy_id" />
         <double name="cost_coef" />
	 <string name="login" />
	 <string name="password" />
	 <string name="allowed_cid" />
	 <string name="allowed_csid" />
	 <integer name="callback_enabled" />
	 <integer name="is_unabon_period" />
	 <integer name="is_unprepay_period" />
	 <integer name="tariff_id" />
	 <integer name="parent_id" />
      </output>
    </function>

    <function name="rpcf_dealer_get_iptraffic_service_link" id="0x7000006a">
      <input>
        <integer name="slink_id"/>
      </input>
      <output>
         <integer name="sid" />
          <if variable="sid" value="0" condition="eq">
             <error code="11" comment="service link not found or you dont have enough privileges"/>
          </if>
        <integer name="tariff_link_id"/>
        <integer name="is_blocked"/>
        <integer name="discount_period_id"/>
        <integer name="start_date"/>
        <integer name="expire_date"/>
        <integer name="policy_id"/>
        <double name="cost_coef"/>
        <integer name="unabon"/>
        <integer name="unprepay"/>
        <integer name="tariff_id"/>
        <integer name="parent_id"/>
        <integer name="bandwidth_in"/>
        <integer name="bandwidth_out"/>
        <integer name="ip_groups_count"/>
        <for name="i" from="0" count="ip_groups_count">
          <ip_address name="ip_address" array_index="i"/>
          <ip_address name="mask" array_index="i"/>
          <string name="mac" array_index="i"/>
          <string name="iptraffic_login" array_index="i"/>
          <string name="iptraffic_password" array_index="i"/>
          <string name="iptraffic_allowed_cid" array_index="i"/>
          <string name="pool_name" array_index="i"/>
          <integer name="ip_not_vpn" array_index="i"/>
          <integer name="dont_use_fw" array_index="i"/>
          <integer name="is_dynamic" array_index="i"/>
          <integer name="router_id" array_index="i"/>
          <integer name="switch_id" array_index="i"/>
          <integer name="port_id" array_index="i"/>
          <integer name="vlan_id" array_index="i"/>
          <integer name="pool_id" array_index="i"/>
        </for>
        <integer name="quotas_count"/>
        <for name="i" from="0" count="quotas_count">
          <integer name="tclass_id" array_index="i"/>
          <string name="tclass_name" array_index="i"/>
          <long name="quota" array_index="i"/>
        </for>
      </output>
    </function>

    <function name="rpcf_dealer_get_once_service_link" id="0x7000001d">
      <input>
	<integer name="slink_id" />
      </input>
      <output>
         <integer name="sid" />
          <if variable="sid" value="0" condition="eq">
             <error code="11" comment="service link not found or you dont have enough privileges"/>
          </if>
	<integer  name="discount_date" />
	<double  name="quantity" />
	<integer name="invoice_id" />
    <double name="cost_coef" default="1.0" />
      </output>
    </function>

    <function name="rpcf_dealer_get_periodic_service_link" id="0x70000064">
      <input>
         <integer name="slink_id" />
      </input>
      <output>
         <integer name="sid" />
          <if variable="sid" value="0" condition="eq">
             <error code="11" comment="service link not found or you dont have enough privileges"/>
          </if>
         <integer name="tariff_link_id" />
	 <integer name="is_blocked" />
	 <integer name="discount_period_id" />
	 <integer name="start_date" />
	 <integer name="expire_date" />
         <integer name="policy_id" />
         <double name="cost_coef" />
	 <integer name="is_unabon_period" />
	 <integer name="is_unprepay_period" />
	 <integer name="tariff_id" />
	 <integer name="parent_id" />
      </output>
    </function>

    <function name="rpcf_dealer_get_telephony_service_link" id="0x70000065">
      <input>
        <integer name="slink_id"/>
      </input>
      <output>
         <integer name="sid" />
          <if variable="sid" value="0" condition="eq">
             <error code="11" comment="service link not found or you dont have enough privileges"/>
          </if>
        <integer name="tariff_link_id"/>
        <integer name="is_blocked"/>
        <integer name="discount_period_id"/>
        <integer name="start_date"/>
        <integer name="expire_date"/>
        <integer name="policy_id" />
         <double name="cost_coef" />        
        <integer name="numbers_size"/>
        <for name="numbers" from="0" count="numbers_size">
          <integer name="item_id" array_index="numbers"/>
          <string  name="number" array_index="numbers"/>
          <string  name="login" array_index="numbers"/>
          <string  name="password" array_index="numbers"/>
          <string  name="allowed_cid" array_index="numbers"/>
        </for>
      </output>
    </function>

    <function name="rpcf_dealer_delete_service_link" id="0x70000020">
      <input>
        <integer name="slink_id" />
      </input>
      <output>
        <integer name="error_code"/>
        <if variable="error_code" value="0" condition="eq">
          <error code="13" comment="service link not found or you dont have enough privileges"/>
        </if>
      </output>
    </function>

<!-- dealer tariff functions -->

    <function name="rpcf_dealer_link_user_tariff" id="0x70000069">
      <input>
        <integer name="user_id"/>
        <integer name="account_id" default="0"/>
        <integer name="tariff_current"/>
        <integer name="tariff_next" default="tariff_current"/>
        <integer name="discount_period_id"/>
        <integer name="tariff_link_id" default="0"/>
        <integer name="change_now"/>
      </input>
      <output>
        <integer name="tariff_link_id"/>
        <if variable="tariff_link_id" value="0" condition="eq">
          <error code="13" comment="unable to link user tariff may by you dont have enough privileges"/>
        </if>
      </output>
    </function>

    <function name="rpcf_dealer_unlink_user_tariff" id="0x7000002f">
     <input>
       <integer name="user_id"/>
       <integer name="account_id" default="0"/>
       <integer name="tariff_link_id"/>
     </input>
     <output>
        <integer name="tariff_link_id"/>
        <if variable="tariff_link_id" value="0" condition="eq">
          <error code="13" comment="unable to unlink user tariff may by you dont have enough privileges"/>
        </if>
     </output>
    </function>

    <function name="rpcf_dealer_edit_tariff" id="0x70000030">
      <input>
             <integer name="tariff_id" />
	     <string name="name" />
	     <integer name="expire_date" />
	     <integer name="is_blocked" />
	     <integer name="balance_rollover" />
      </input>
      <output>
             <integer name="tp_id" />
             <if variable="tp_id" value="0" condition="eq">
               <error code="13" comment="unable to edit tariff may by you dont have enough privileges"/>
             </if>
      </output>
    </function>

    <function name="rpcf_dealer_get_tariff" id="0x70000031">
      <input>
        <integer name="tariff_id"/>
      </input>
      <output>
        <integer name="tariff_id"/>
        <if variable="tariff_id" value="0" condition="eq">
           <error code="13" comment="unable to get tariff may by you dont have enough privileges"/>
        </if>
        <string name="tariff_name"/>
        <integer name="tariff_create_date"/>
        <integer name="who_create"/>
        <string name="who_create_login"/>
        <integer name="tariff_change_date"/>
        <integer name="who_change"/>
        <string name="who_change_login"/>
        <integer name="tariff_expire_date"/>
        <integer name="tariff_is_blocked"/>
        <integer name="tariff_balance_rollover"/>
        <integer name="services_count"/>
        <for name="i" from="0" count="services_count">
          <integer name="service_id_array" array_index="i"/>
          <integer name="service_type_array" array_index="i"/>
          <string name="service_name_array" array_index="i"/>
          <string name="comment_array" array_index="i"/>
          <integer name="link_by_default_array" array_index="i"/>
          <integer name="is_dynamic_array" array_index="i"/>
        </for>
      </output>
    </function>

    <function name="rpcf_dealer_get_tariff_id_by_name" id="0x70000032">
      <input>
	     <string name="name" />
      </input>
      <output>
	     <integer name="tid" />
              <if variable="tid" value="0" condition="eq">
               <error code="13" comment="unable to get tariff may by you dont have enough privileges"/>
             </if>
      </output>
    </function>

    <function name="rpcf_dealer_get_tariffs_list" id="0x7000007a">
      <input>
      </input>
      <output>
	     <integer name="tariffs_count" />
	     <for name="i" from="0" count="tariffs_count">
	          <integer name="id" array_index="i" />
	          <string name="name" array_index="i" />
		  <integer name="create_date" array_index="i" />
		  <integer name="who_create" array_index="i" />
		  <string name="login" array_index="i" />
		  <integer name="change_create" array_index="i" />
		  <integer name="who_change" array_index="i" />
		  <string name="login_change" array_index="i" />
		  <integer name="expire_date" array_index="i" />
		  <integer name="is_blocked" array_index="i" />
		  <integer name="balance_rollover" array_index="i" />
                  <string name="comment" array_index="i" />
	     </for>
      </output>
    </function>

    <function name="rpcf_dealer_get_user_tariffs" id="0x70000034">
      <input>
        <integer name="user_id"/>
        <integer name="account_id" default="0"/>
      </input>
      <output>
        <integer name="user_tariffs_size"/>
        <if variable="user_tariffs_size" value="0" condition="eq">
            <error code="13" comment="user has no tariffs or you dont have enough privileges"/>
        </if>
        <for name="i" from="0" count="user_tariffs_size">
          <integer name="tariff_current_array" array_index="i"/>
          <integer name="tariff_next_array" array_index="i"/>
          <integer name="discount_period_id_array" array_index="i"/>
          <integer name="tariff_link_id_array" array_index="i"/>
        </for>
      </output>
    </function>

<!-- dealer payment functions -->

    <function name="rpcf_dealer_add_payment_for_account" id="0x70000016">
      <input>
        <integer name="account_id"/>
        <double name="payment"/>
        <integer name="currency_id" default="810"/>
        <integer name="payment_date" default="now()"/>
        <integer name="burn_date" default="0"/>
        <integer name="payment_method" default="1"/>
        <string name="admin_comment" default=""/>
        <string name="comment" default=""/>
        <string name="payment_ext_number" default=""/>
        <integer name="payment_to_invoice" default="0"/>
        <integer name="turn_on_inet" default="1"/>
      </input>
      <output>
          <integer name="payment_transaction_id"/>
          <if variable="payment_transaction_id" value="0" condition="eq">
               <error code="13" comment="payment failed"/>
          </if>
      </output>
    </function>

    <function name="rpcf_dealer_add_payment_for_account_notify" id="0x70000017">
      <input>
         <integer name="account_id" />
	 <double name="payment_incurrency" />
	 <integer  name="currency_id" />
	 <integer name="actual_date" default="now()" />
	 <integer name="burn_date" />
	 <integer name="method" />
	 <string name="admin_comment" default=""/>
	 <string name="comment" default=""/>
	 <string name="payment_ext_number" />
	 <integer name="payment_to_invoice" />
	 <integer name="turn_on_inet" />
	 <integer name="notify" />
	 <string name="hash" />
      </input>
      <output>
          <integer name="payment_transaction_id" />
          <if variable="payment_transaction_id" value="0" condition="eq">
               <error code="13" comment="payment failed"/>
          </if>
      </output>
    </function>

    <function name="rpcf_dealer_get_payment_methods_list" id="0x70000019">
      <input>
      </input>
      <output>
          <integer name="payments_list_count" />
          <for name="i" from="0" count="payments_list_count">
	     <integer name="id"  array_index="i" />
	     <string name="name" array_index="i" />
          </for>
      </output>
    </function>

    <function name="rpcf_dealer_get_invoices_list" id="0x7000003c">
      <input>
           <integer name="account_id" />
	   <integer name="time_start" />
	   <integer name="time_end" default="now()" />
	   <integer name="group_id" />
      </input>
      <output>
	   <integer name="accts_size" />
	   <for name="i" from="0" count="accts_size">
	     <integer name="count_of_invoice" />
	     <set dst="count_of_invoice_array" src="count_of_invoice" dst_index="i" />
	     <if variable="count_of_invoice" value="0" condition="ne">
	       <integer name="currency_id" array_index="i" />
	       <string name="currency_name" array_index="i" />
	       <string name="payment_rule" array_index="i" />
	     </if>
	     <if variable="count_of_invoice" value="0" condition="eq">
	       <set dst="currency_id" dst_index="i" value="0" />
	       <set dst="currency_name" dst_index="i" value="" />
	       <set dst="payment_rule" dst_index="i" value=""/>
	     </if>
             <for name="j" from="0" count="count_of_invoice">
	       <integer name="id" array_index="i,j" />
	       <string name="ext_num" array_index="i,j" />
	       <integer name="invoice_date" array_index="i,j" />
	       <integer name="uid" array_index="i,j" />
	       <integer name="payment_transaction_id" array_index="i,j" />
	       <integer name="expire_date" array_index="i,j" />
	       <integer name="is_payed" />
	       <set dst="is_payed_array" dst_index="i,j" src="is_payed" />
	       <integer name="is_printed" array_index="i,j" />
	       <integer name="account_id" array_index="i,j" />
	       <string name="full_name" array_index="i,j" />
	       <if variable="is_payed" value="0" condition="ne">
	         <integer name="accInvcInfo_id" array_index="i,j" />
		 <integer name="accInvcInfo_date" array_index="i,j" />
		 <integer name="accInvcInfo_payed_date" array_index="i,j" />
		 <string name="payment_ext_number" array_index="i,j" />
		 <integer name="is_printed" array_index="i,j" />
	       </if>
	       <if variable="is_payed" value="0" condition="eq">
	         <set dst="accInvcInfo_id" dst_index="i,j" value="0" />
		 <set dst="accInvcInfo_date" dst_index="i,j" value="0"/>
		 <set dst="accInvcInfo_payed_date" dst_index="i,j" value="0"/>
		 <set dst="payment_ext_number" dst_index="i,j" value=""/>
		 <set dst="is_printed" dst_index="i,j" value="0"/>
	       </if>
	       <integer name="entry_size" />
	       <set dst="entry_size_array" src="entry_size" dst_index="i,j" />
	       <for name="x" from="0" count="entry_size">
	         <string name="name" array_index="i,j,x" />
		 <integer name="invoice_id" array_index="i,j,x" />
		 <integer name="slink_id" array_index="i,j,x" />
		 <integer name="service_type" array_index="i,j,x" />
		 <integer name="discount_period_id" array_index="i,j,x" />
		 <integer name="date" array_index="i,j,x" />
		 <double name="qnt" array_index="i,j,x" />
		 <double name="base" array_index="i,j,x" />
		 <double name="sum" array_index="i,j,x" />
		 <double name="tax" array_index="i,j,x" />
	       </for>
	       <if variable="entry_size" value="0" condition="ne">
	         <double name="total_sum" array_index="i,j" />
		 <double name="total_tax" array_index="i,j" />
		 <double name="total_sum_plus_total_tax" array_index="i,j" />
	       </if>
	       <if variable="entry_size" value="0" condition="eq">
	         <set dst="total_sum" dst_index="i,j" value="0"/>
		 <set dst="total_tax" dst_index="i,j" value="0"/>
		 <set dst="total_sum_plus_total_tax" dst_index="i,j" value="0"/> -
	       </if>
	     </for>
	   </for>
      </output>
    </function>

    <function name="rpcf_dealer_get_currency_list" id="0x7000003e">
      <input>
      </input>
      <output>
	 <integer name="currency_size" />
	 <for name="i" from="0" count="currency_size">
	   <integer name="id" array_index="i" />
	   <string name="currency_brief_name" array_index="i" />
	   <string name="currency_full_name" array_index="i" />
	   <double name="percent" array_index="i" />
	   <double name="rates" array_index="i" />
         </for>
      </output>
    </function>

    <function name="rpcf_dealer_get_system_currency" id="0x7000003f">
      <input>
      </input>
      <output>
          <integer name="currency_id" />
      </output>
    </function>

    <!-- dealer report functions -->

        <!-- dealer blocks report, API checked by serjk -->
    <function name="rpcf_dealer_blocks_report" id="0x70000035">
       <input>
        <integer name="user_id" default="0" />
        <integer name="account_id" default="0" />
        <integer name="group_id" default="0" />
        <integer name="apid" default="0" />
        <integer name="time_start" />
        <integer name="time_end" default="now()" />
        <integer name="show_all" default="1" />
       </input>
       <output>
        <integer name="accounts_count" />
        <for name="i" from="0" count="accounts_count">
         <integer name="atr_size"/>
            <set dst="atr_size_array" src="atr_size" dst_index="i" />
         <for name="j" from="0" count="atr_size">
           <integer name="account_id" array_index="i,j" />
           <string name="login" array_index="i,j" />
           <integer name="start_date" array_index="i,j" />
           <integer name="expire_date" array_index="i,j" />
           <integer name="what_blocked" array_index="i,j" />
           <integer name="block_type" array_index="i,j" />
           <string name="comment" array_index="i,j" />
         </for>
        </for>
       </output>
     </function>

    <function name="rpcf_blocks_report_for_dealer" id="0x1301f">
       <input>
        <integer name="dealer_id"/>
        <integer name="user_id" default="0" />
        <integer name="account_id" default="0" />
        <integer name="group_id" default="0" />
        <integer name="apid" default="0" />
        <integer name="time_start" />
        <integer name="time_end" default="now()" />
        <integer name="show_all" default="1" />
       </input>
       <output>
        <integer name="accounts_count" />
        <for name="i" from="0" count="accounts_count">
         <integer name="atr_size"/>
            <set dst="atr_size_array" src="atr_size" dst_index="i" />
         <for name="j" from="0" count="atr_size">
           <integer name="account_id" array_index="i,j" />
           <string name="login" array_index="i,j" />
           <integer name="start_date" array_index="i,j" />
           <integer name="expire_date" array_index="i,j" />
           <integer name="what_blocked" array_index="i,j" />
           <integer name="block_type" array_index="i,j" />
           <string name="comment" array_index="i,j" />
         </for>
        </for>
       </output>
     </function>

        <!-- dealer general report, API checked by serjk -->
        <function name="rpcf_dealer_general_report" id="0x70000036">
          <input>
            <integer name="user_id" default="0"/>
            <integer name="account_id" default="0"/>
            <integer name="group_id" default="0"/>
            <integer name="discount_period_id" default="0"/>
            <integer name="time_start"/>
            <integer name="time_end" default="now()"/>
          </input>
          <output>
            <integer name="accounts_count"/>
            <for name="i" from="0" count="accounts_count">
              <integer name="account_id" array_index="i"/>
              <string name="login" array_index="i"/>
              <double name="incoming_rest" array_index="i"/>
              <double name="discounted_once" array_index="i"/>
              <double name="discounted_periodic" array_index="i"/>
              <double name="discounted_iptraffic" array_index="i"/>
              <double name="discounted_hotspot" array_index="i"/>
              <double name="discounted_dialup" array_index="i"/>
              <double name="discounted_telephony" array_index="i"/>
              <double name="tax" array_index="i"/>
              <double name="discounted_with_tax" array_index="i"/>
              <double name="payments" array_index="i"/>
              <double name="outgoing_rest" array_index="i"/>
            </for>
          </output>
        </function>

        <function name="rpcf_general_report_for_dealer" id="0x13020">
          <input>
	    <integer name="dealer_id"/>
            <integer name="user_id" default="0"/>
            <integer name="account_id" default="0"/>
            <integer name="group_id" default="0"/>
            <integer name="discount_period_id" default="0"/>
            <integer name="time_start"/>
            <integer name="time_end" default="now()"/>
          </input>
          <output>
            <integer name="accounts_count"/>
            <for name="i" from="0" count="accounts_count">
              <integer name="account_id" array_index="i"/>
              <string name="login" array_index="i"/>
              <double name="incoming_rest" array_index="i"/>
              <double name="discounted_once" array_index="i"/>
              <double name="discounted_periodic" array_index="i"/>
              <double name="discounted_iptraffic" array_index="i"/>
              <double name="discounted_hotspot" array_index="i"/>
              <double name="discounted_dialup" array_index="i"/>
              <double name="discounted_telephony" array_index="i"/>
              <double name="tax" array_index="i"/>
              <double name="discounted_with_tax" array_index="i"/>
              <double name="payments" array_index="i"/>
              <double name="outgoing_rest" array_index="i"/>
            </for>
          </output>
        </function>

    <!-- dealer telephony report, API checked by serjk -->
    <function name="rpcf_dealer_tel_report" id="0x70000059">
      <input>
          <integer name="user_id" default="0"/>
          <integer name="account_id" default="0"/>
      <integer name="gid" default="0"/>
          <integer name="apid" default="0"/>
          <integer name="time_start"/>
          <integer name="time_end" default="now()"/>
      </input>
      <output>
       <integer name="accounts_count"/>
   <for name="k" from="0" count="accounts_count">
       <integer name="dhs_log_size" />
       <set dst="dhs_log_size_array" src="dhs_log_size" dst_index="k" />
       <for name="i" from="0" count="dhs_log_size">
         <integer name="count"/>
           <set dst="count_array" src="count" dst_index="k,i" />
         <for name="j" from="0" count="count">
          <integer name="id" array_index="k,i,j" />
          <integer name="account_id" array_index="k,i,j" />
          <integer name="slink_id" array_index="k,i,j" />
          <integer name="recv_date" array_index="k,i,j" />
          <integer name="acct_sess_time_plus_recv_date" array_index="k,i,j" />
          <string name="Called_Station_Id" array_index="k,i,j" />
          <string name="Calling_Station_Id" array_index="k,i,j" />
          <integer name="nas_port" array_index="k,i,j" />
          <string name="acct_session_id" array_index="k,i,j" />
          <integer name="nas_port_type" array_index="k,i,j" />
          <string name="uname" array_index="k,i,j" />
          <integer name="service_type" array_index="k,i,j" />
          <integer name="framed_protocol" array_index="k,i,j" />
          <ip_address name="nas_ip" array_index="k,i,j" />
          <string name="nas_id" array_index="k,i,j" />
          <integer name="acct_status_type" array_index="k,i,j" />
          <long name="acct_inp_pack" array_index="k,i,j" />
          <long name="acct_inp_oct" array_index="k,i,j" />
          <long name="acct_out_pack" array_index="k,i,j" />
          <long name="acct_out_oct" array_index="k,i,j" />
          <integer name="zone_id" array_index="k,i,j" />
          <integer name="did" array_index="k,i,j" />
          <long name="acct_sess_time" array_index="k,i,j" />
          <string name="dcause" array_index="k,i,j" />
          <long name="duration" array_index="k,i,j" />
          <double name="base_cost" array_index="k,i,j" />
          <double name="sum_cost" array_index="k,i,j" />
         </for>
       </for>
   </for>
      </output>
    </function>

    <function name="rpcf_dealer_add_tech_param" id="0x70000073">
        <input>
            <integer name="type_id"/>
            <integer name="slink_id"/>
            <string name="param"/>
            <integer name="reg_date"/>
            <string name="password"/>
        </input>
        <output>
            <integer name="result"/>
        </output>
    </function>
    
    <function name="rpcf_dealer_save_tech_param" id="0x70000074">
        <input>
            <integer name="type_id"/>
            <integer name="slink_id"/>
            <integer name="id"/>
            <string name="param"/>
            <integer name="reg_date"/>
            <string name="password"/>
        </input>
        <output>
            <integer name="result"/>
        </output>
    </function>    
    
    <function name="rpcf_dealer_get_tech_param_by_uid" id="0x70000075">
        <input>
            <integer name="user_id"/>
            <integer name="account_id"/>
        </input>    
        <output>
            <integer name="slinks_count"/>
            <for name="s" from="0" count="slinks_count">
                <integer name="params_count" array_index="s"/>
                <for name="p" from="0" count="params_count">
                    <integer name="id" array_index="s,p"/>
                    <integer name="type_id" array_index="s,p"/>
                    <string name="type_name" array_index="s,p"/>
                    <string name="param" array_index="s,p"/>
                    <integer name="reg_date" array_index="s,p"/>
                    <integer name="slink_id" array_index="s,p"/>
                    <string name="service_name" array_index="s,p"/>
                    <string name="passwd" array_index="s,p"/>
                </for>
            </for>    
        </output>    
    </function>    
        
    <function name="rpcf_dealer_del_tech_param" id="0x70000076">
        <input>
            <integer name="tp_id"/>
            <integer name="slink_id"/>
        </input>
        <output>
            <integer name="result"/>
        </output>    
    </function>    
    
    <function name="rpcf_tel_report_for_dealer" id="0x13028">
      <input>
          <integer name="dealer_id"/>
          <integer name="user_id" default="0"/>
          <integer name="account_id" default="0"/>
      <integer name="gid" default="0"/>
          <integer name="apid" default="0"/>
          <integer name="time_start"/>
          <integer name="time_end" default="now()"/>
      </input>
      <output>
       <integer name="accounts_count"/>
   <for name="k" from="0" count="accounts_count">
       <integer name="dhs_log_size" />
       <set dst="dhs_log_size_array" src="dhs_log_size" dst_index="k" />
       <for name="i" from="0" count="dhs_log_size">
         <integer name="count"/>
           <set dst="count_array" src="count" dst_index="k,i" />
         <for name="j" from="0" count="count">
          <integer name="id" array_index="k,i,j" />
          <integer name="account_id" array_index="k,i,j" />
          <integer name="slink_id" array_index="k,i,j" />
          <integer name="recv_date" array_index="k,i,j" />
          <integer name="acct_sess_time_plus_recv_date" array_index="k,i,j" />
          <string name="Called_Station_Id" array_index="k,i,j" />
          <string name="Calling_Station_Id" array_index="k,i,j" />
          <integer name="nas_port" array_index="k,i,j" />
          <string name="acct_session_id" array_index="k,i,j" />
          <integer name="nas_port_type" array_index="k,i,j" />
          <string name="uname" array_index="k,i,j" />
          <integer name="service_type" array_index="k,i,j" />
          <integer name="framed_protocol" array_index="k,i,j" />
          <ip_address name="nas_ip" array_index="k,i,j" />
          <string name="nas_id" array_index="k,i,j" />
          <integer name="acct_status_type" array_index="k,i,j" />
          <long name="acct_inp_pack" array_index="k,i,j" />
          <long name="acct_inp_oct" array_index="k,i,j" />
          <long name="acct_out_pack" array_index="k,i,j" />
          <long name="acct_out_oct" array_index="k,i,j" />
          <integer name="zone_id" array_index="k,i,j" />
          <integer name="did" array_index="k,i,j" />
          <long name="acct_sess_time" array_index="k,i,j" />
          <string name="dcause" array_index="k,i,j" />
          <long name="duration" array_index="k,i,j" />
          <double name="base_cost" array_index="k,i,j" />
          <double name="sum_cost" array_index="k,i,j" />
         </for>
       </for>
   </for>
      </output>
    </function>


        <!-- dealer payments report, API checked by serjk -->
        <function name="rpcf_dealer_payments_report" id="0x70000038">
          <input>
           <integer name="user_id" default="0" />
           <integer name="account_id" default="0" />
           <integer name="group_id" default="0" />
           <integer name="apid" default="0" />
           <integer name="time_start" />
           <integer name="time_end" default="now()" />
          </input>
          <output>
              <integer name="accounts_count"/>
          <for name="j" from="0" count="accounts_count">
             <integer name="atr_size" />
              <set dst="atr_size_array" src="atr_size" dst_index="j" />
             <for name="i" from="0" count="atr_size">
                <integer name="id" array_index="j,i" />
            <integer name="account_id" array_index="j,i" />
                <string name="login" array_index="j,i" />
                <integer name="actual_date" array_index="j,i" />
            <integer name="payment_enter_date" array_index="j,i" />
            <double name="payment" array_index="j,i" />
            <double name="payment_incurrency" array_index="j,i" />
            <integer name="currency_id" array_index="j,i" />
            <integer name="method" array_index="j,i" />
            <integer name="who_receved" array_index="j,i" />
            <string name="admin_comment" array_index="j,i" />
            <string name="payment_ext_number" array_index="j,i" />
             </for>
          </for>
          </output>
        </function>

        <function name="rpcf_payments_report_for_dealer" id="0x13022">
          <input>
	   <integer name="dealer_id"/>
           <integer name="user_id" default="0" />
           <integer name="account_id" default="0" />
           <integer name="group_id" default="0" />
           <integer name="apid" default="0" />
           <integer name="time_start" />
           <integer name="time_end" default="now()" />
          </input>
          <output>
              <integer name="accounts_count"/>
          <for name="j" from="0" count="accounts_count">
             <integer name="atr_size" />
              <set dst="atr_size_array" src="atr_size" dst_index="j" />
             <for name="i" from="0" count="atr_size">
                <integer name="id" array_index="j,i" />
            <integer name="account_id" array_index="j,i" />
                <string name="login" array_index="j,i" />
                <integer name="actual_date" array_index="j,i" />
            <integer name="payment_enter_date" array_index="j,i" />
            <double name="payment" array_index="j,i" />
            <double name="payment_incurrency" array_index="j,i" />
            <integer name="currency_id" array_index="j,i" />
            <integer name="method" array_index="j,i" />
            <integer name="who_receved" array_index="j,i" />
            <string name="admin_comment" array_index="j,i" />
            <string name="payment_ext_number" array_index="j,i" />
             </for>
          </for>
          </output>
        </function>


        <!-- dealer services report, API checked by serjk -->
        <function name="rpcf_dealer_service_report" id="0x70000039">
          <input>
           <integer name="user_id" default="0" />
           <integer name="account_id" default="0"  />
           <integer name="group_id" default="0" />
           <integer name="apid" default="0" />
           <integer name="time_start" />
           <integer name="time_end" default="now()" />
          </input>
          <output>
              <integer name="accounts_count"/>
          <for name="j" from="0" count="accounts_count">
             <integer name="atr_size" />
              <set dst="atr_size_array" src="atr_size" dst_index="j" />
             <for name="i" from="0" count="atr_size">
                <integer name="account_id" array_index="j,i" />
                <string name="login" array_index="j,i" />
                <integer name="discount_date" array_index="j,i" />
            <integer name="discount_period_id" array_index="j,i" />
            <double name="discount" array_index="j,i" />
            <string name="service_name" array_index="j,i" />
            <integer name="service_type" array_index="j,i" />
            <string name="comment" array_index="j,i" />
             </for>
          </for>
          </output>
        </function>

        <function name="rpcf_service_report_for_dealer" id="0x13023">
          <input>
	   <integer name="dealer_id"/>
           <integer name="user_id" default="0" />
           <integer name="account_id" default="0"  />
           <integer name="group_id" default="0" />
           <integer name="apid" default="0" />
           <integer name="time_start" />
           <integer name="time_end" default="now()" />
          </input>
          <output>
              <integer name="accounts_count"/>
          <for name="j" from="0" count="accounts_count">
             <integer name="atr_size" />
              <set dst="atr_size_array" src="atr_size" dst_index="j" />
             <for name="i" from="0" count="atr_size">
                <integer name="account_id" array_index="j,i" />
                <string name="login" array_index="j,i" />
                <integer name="discount_date" array_index="j,i" />
            <integer name="discount_period_id" array_index="j,i" />
            <double name="discount" array_index="j,i" />
            <string name="service_name" array_index="j,i" />
            <integer name="service_type" array_index="j,i" />
            <string name="comment" array_index="j,i" />
             </for>
          </for>
          </output>
        </function>


        <!-- dealer traffic report, API checked by serjk -->
        <function name="rpcf_dealer_traffic_report" id="0x7000003a">
          <input>
               <integer name="type"/>
           <integer name="user_id" default="0" />
           <integer name="account_id" default="0"  />
           <integer name="group_id" default="0" />
           <integer name="apid" default="0" />
           <integer name="time_start" />
           <integer name="time_end" default="now()" />
          </input>
          <output>
             <double name="bytes_in_kbyte" />
             <integer name="users_count" />
             <for name="i" from="0" count="users_count">
               <integer name="atr_size"/>
               <set dst="atr_size_array" src="atr_size" dst_index="i" />
               <for name="j" from="0" count="atr_size">
                  <integer name="account_id" array_index="i,j" />
                  <string name="login" array_index="i,j" />
              <if variable="type" value="1" condition="eq">
                  <integer name="discount_date" array_index="i,j"/>
              </if>
              <if variable="type" value="2" condition="eq">
                  <integer name="discount_date" array_index="i,j"/>
              </if>
              <if variable="type" value="3" condition="eq">
                  <integer name="discount_date" array_index="i,j"/>
              </if>
              <if variable="type" value="4" condition="eq">
                  <integer name="ip_address" array_index="i,j"/>
              </if>
                  <integer name="tclass" array_index="i,j" />
                  <double name="base_cost" array_index="i,j" />
                  <long name="bytes" array_index="i,j" />
                  <double name="discount" array_index="i,j" />
               </for>
             </for>
          </output>
        </function>

        <function name="rpcf_traffic_report_for_dealer" id="0x13024">
          <input>
	   <integer name="dealer_id"/>
           <integer name="type"/>
           <integer name="user_id" default="0" />
           <integer name="account_id" default="0"  />
           <integer name="group_id" default="0" />
           <integer name="apid" default="0" />
           <integer name="time_start" />
           <integer name="time_end" default="now()" />
          </input>
          <output>
             <double name="bytes_in_kbyte" />
             <integer name="users_count" />
             <for name="i" from="0" count="users_count">
               <integer name="atr_size"/>
               <set dst="atr_size_array" src="atr_size" dst_index="i" />
               <for name="j" from="0" count="atr_size">
                  <integer name="account_id" array_index="i,j" />
                  <string name="login" array_index="i,j" />
              <if variable="type" value="1" condition="eq">
                  <integer name="discount_date" array_index="i,j"/>
              </if>
              <if variable="type" value="2" condition="eq">
                  <integer name="discount_date" array_index="i,j"/>
              </if>
              <if variable="type" value="3" condition="eq">
                  <integer name="discount_date" array_index="i,j"/>
              </if>
              <if variable="type" value="4" condition="eq">
                  <integer name="ip_address" array_index="i,j"/>
              </if>
                  <integer name="tclass" array_index="i,j" />
                  <double name="base_cost" array_index="i,j" />
                  <long name="bytes" array_index="i,j" />
                  <double name="discount" array_index="i,j" />
               </for>
             </for>
          </output>
        </function>


    <!-- dealer DHS report, API checked by serjk -->
    <function name="rpcf_dealer_dhs_report" id="0x7000003b">
      <input>
	   <integer name="user_id" default="0" />
	   <integer name="account_id" default="0"  />
	   <integer name="gid" default="0" />
	   <integer name="apid" default="0" />
	   <integer name="time_start" />
	   <integer name="time_end" default="now()" />
      </input>
      <output>
          <integer name="accounts_count"/>
	  <for name="j" from="0" count="accounts_count">
	     <integer name="dhs_log_size" />
          <set dst="dhs_log_size_array" src="dhs_log_size" dst_index="j" />
	     <for name="i" from="0" count="dhs_log_size">
	          <integer name="id" array_index="j,i" />
		  <integer name="account_id" array_index="j,i" />
		  <integer name="slink_id" array_index="j,i" />
		  <integer name="recv_date" array_index="j,i" />
		  <integer name="last_update_date" array_index="j,i" />
		  <string name="Called_Station_Id" array_index="j,i" />
		  <string name="Calling_Station_Id" array_index="j,i" />
		  <ip_address name="framed_ip4" array_index="j,i" />
		  <ip_address name="framed_ip6" array_index="j,i" />
		  <integer name="nas_port" array_index="j,i" />
		  <string name="acct_session_id" array_index="j,i" />
		  <integer name="nas_port_type" array_index="j,i" />
		  <string name="uname" array_index="j,i" />
		  <integer name="service_type" array_index="j,i" />
		  <integer name="framed_protocol" array_index="j,i" />
		  <integer name="nas_ip" array_index="j,i" />
		  <string name="nas_id" array_index="j,i" />
		  <integer name="acct_status_type" array_index="j,i" />
		  <long name="acct_inp_pack" array_index="j,i" />
		  <long name="acct_inp_oct" array_index="j,i" />
		  <long name="acct_inp_giga" array_index="j,i" />
		  <long name="acct_out_pack" array_index="j,i" />
		  <long name="acct_out_oct" array_index="j,i" />
		  <long name="acct_out_giga" array_index="j,i" />
		  <long name="acct_sess_time" array_index="j,i" />
		  <integer name="acct_term_cause" array_index="j,i" />
		  <double name="total_cost" array_index="j,i" />
	     </for>
	  </for>
      </output>
    </function>

    <function name="rpcf_dhs_report_for_dealer" id="0x13025">
      <input>
	   <integer name="dealer_id"/>
	   <integer name="user_id" default="0" />
	   <integer name="account_id" default="0"  />
	   <integer name="gid" default="0" />
	   <integer name="apid" default="0" />
	   <integer name="time_start" />
	   <integer name="time_end" default="now()" />
      </input>
      <output>
          <integer name="accounts_count"/>
	  <for name="j" from="0" count="accounts_count">
	     <integer name="dhs_log_size" />
          <set dst="dhs_log_size_array" src="dhs_log_size" dst_index="j" />
	     <for name="i" from="0" count="dhs_log_size">
	          <integer name="id" array_index="j,i" />
		  <integer name="account_id" array_index="j,i" />
		  <integer name="slink_id" array_index="j,i" />
		  <integer name="recv_date" array_index="j,i" />
		  <integer name="last_update_date" array_index="j,i" />
		  <string name="Called_Station_Id" array_index="j,i" />
		  <string name="Calling_Station_Id" array_index="j,i" />
		  <integer name="framed_ip" array_index="j,i" />
		  <integer name="nas_port" array_index="j,i" />
		  <string name="acct_session_id" array_index="j,i" />
		  <integer name="nas_port_type" array_index="j,i" />
		  <string name="uname" array_index="j,i" />
		  <integer name="service_type" array_index="j,i" />
		  <integer name="framed_protocol" array_index="j,i" />
		  <integer name="nas_ip" array_index="j,i" />
		  <string name="nas_id" array_index="j,i" />
		  <integer name="acct_status_type" array_index="j,i" />
		  <long name="acct_inp_pack" array_index="j,i" />
		  <long name="acct_inp_oct" array_index="j,i" />
		  <long name="acct_inp_giga" array_index="j,i" />
		  <long name="acct_out_pack" array_index="j,i" />
		  <long name="acct_out_oct" array_index="j,i" />
		  <long name="acct_out_giga" array_index="j,i" />
		  <long name="acct_sess_time" array_index="j,i" />
		  <integer name="acct_term_cause" array_index="j,i" />
		  <double name="total_cost" array_index="j,i" />
	     </for>
	  </for>
      </output>
    </function>

    <function name="rpcf_invoices_list_for_dealer" id="0x13026">
      <input>
	   <integer name="dealer_id"/>
	   <integer name="start_date"/>
	   <integer name="end_date"/>
      </input>
      <output>
           <integer name="count"/>
	   <for name="i" from="0" count="count">
	       <integer name="invoice_id" array_index="i"/>
	       <string name="ext_num" array_index="i"/>
	       <integer name="invoice_date" array_index="i"/>
	       <integer name="user_id" array_index="i"/>
	       <integer name="payment_transaction_id" array_index="i"/>
	       <integer name="expire_date" array_index="i"/>
	       <integer name="is_payed" array_index="i"/>
	       <integer name="is_printed" array_index="i"/>
	       <integer name="account_id" array_index="i"/>
	       <string name="full_name" array_index="i"/>
	       <double name="sum" array_index="i"/>
	       <double name="tax" array_index="i"/>
	       <double name="sum_with_tax" array_index="i"/>
	   </for>
      </output>
    </function>



    <!-- Some misc functions -->

    <function name="rpcf_dealer_get_discount_periods" id="0x70000040">
      <input/>
      <output>
        <integer name="discount_periods_count"/>
        <for name="i" from="0" count="discount_periods_count">
          <integer name="static_id" array_index="i"/>
          <integer name="discount_period_id" array_index="i"/>
          <integer name="start_date" array_index="i"/>
          <integer name="end_date" array_index="i"/>
          <integer name="periodic_type" array_index="i"/>
          <integer name="custom_duration" array_index="i"/>
          <integer name="next_discount_period_id" array_index="i"/>
          <integer name="canonical_length" array_index="i"/>
        </for>
      </output>
    </function>

    <function name="rpcf_dealer_get_core_time" id="0x70000046">
      <input>
      </input>
      <output>
          <integer name="time" />
	  <string name="tzname" />
      </output>
    </function>

    <function name="rpcf_dealer_get_core_version" id="0x70000047">
      <input/>
      <output>
          <string name="version_string"/>
      </output>
    </function>

    <function name="rpcf_dealer_get_tariff_services_for_user" id="0x70000049">
      <input>
          <integer name="user_id"/>
	  <integer name="account_id"/>
	  <integer name="tplink_id"/>
      </input>
      <output>
          <integer name="services_array_size"/>
	  <for name="i" from="0" count="services_array_size">
	      <integer name="service_id_array" array_index="i"/>
	      <string name="service_name_array" array_index="i"/>
	      <integer name="service_type_array" array_index="i"/>
	      <string name="service_comment_array" array_index="i"/>
	      <integer name="slink_id_array" array_index="i"/>
	      <integer name="is_linked_array" array_index="i"/>
	  </for>
      </output>
    </function>

    <function name="rpcf_dealer_whoami" id="0x7000004a">
      <input>
      </input>
      <output>
          <integer name="my_uid" />
	  <string name="login"/>
	  <ip_address name="user_ip" />
	  <ip_address name="user_mask" />
	  <integer name="system_group_size" />
	  <for name="i" from="0" count="system_group_size">
	    <integer name="system_group_id" array_index="i" />
	    <string name="system_group_name" array_index="i" />
	    <string name="system_group_info" array_index="i" />
	  </for>
	  <integer name="allowed_fids_size" />
	  <for name="i" from="0" count="allowed_fids_size">
	    <integer name="id" array_index="i" />
	    <string name="name" array_index="i" />
	    <string name="module" array_index="i" />
	  </for>
	  <integer name="not_allowed_fids_size" />
	  <for name="i" from="0" count="not_allowed_fids_size">
	    <integer name="id_not_allowed" array_index="i" />
	    <string name="name_not_allowed" array_index="i" />
	    <string name="module_not_allowed" array_index="i" />
          </for>
	  <string name="fullname"/>
	  <string name="org_name"/>
      </output>
    </function>

    <function name="rpcf_dealer_get_kbyte_size" id="0x7000004b">
        <input/>
	<output>
	    <integer name="kbyte_size"/>
	</output>
    </function>

<!--
TODO: define api for functions:
fid_dealer_get_password = FID_DEALER(76)
fid_dealer_get_free_ips_for_house = FID_DEALER(77)
fid_dealer_search_users = FID_DEALER(78)
-->

    <function name="rpcf_dealer_change_password_self" id="0x7000004f">
        <input>
	    <string name="old_pass"/>
	    <string name="new_pass"/>
	</input>
	<output>
	    <integer name="result"/>
	</output>
    </function>

    <function name="rpcf_dealer_get_entity_name_by_id" id="0x70000050">
        <input>
	    <integer name="entity_type"/>
	    <integer name="entity_id"/>
	</input>
	<output>
	    <string name="entity_name"/>
	</output>
    </function>
    
    <function name="rpcf_dealer_get_switch_types_list" id="0x7000006E">
        <output>
            <integer name = "size"/>
            <for name="i" from="0" count="size">
                <integer name = "id" array_index="i"/>
                <string name = "name" array_index="i"/>
                <string name = "supp_volumes" array_index="i"/>
                <integer name = "tec_id_type" array_index="i"/>
                <integer name = "tec_id_len" array_index="i"/>
                <integer name = "tec_id_disp" array_index="i"/>
                <integer name = "tec_id_offset" array_index="i"/>
                <integer name = "port_id_type" array_index="i"/>
                <integer name = "port_id_len" array_index="i"/>
                <integer name = "port_id_disp" array_index="i"/>
                <integer name = "port_id_offset" array_index="i"/>
                <integer name = "vlan_id_type" array_index="i"/>
                <integer name = "vlan_id_len" array_index="i"/>
                <integer name = "vlan_id_disp" array_index="i"/>
                <integer name = "vlan_id_offset" array_index="i"/>
            </for>
        </output>
    </function>

    <function name="rpcf_dealer_get_dhcp_pool_list" id="0x7000006F">
        <output>
            <integer name = "size"/>
            <for name = "i" from = "0" count = "size">
                <integer name = "id" array_index="i"/>
                <ip_address name = "gateway" array_index="i"/>
                <ip_address name = "netmask" array_index="i"/>
                <ip_address name = "dns1_server" array_index="i"/>
                <ip_address name = "dns2_server" array_index="i"/>
                <ip_address name = "ntp_server" array_index="i"/>
                <string name = "domain_name" array_index="i"/>            
                <integer name = "block_action_type" array_index="i"/>
                <integer name = "lease_time" array_index="i"/>
                <integer name = "flags" array_index="i"/>
                <integer name = "ranges_size" array_index="i"/>
                <for name = "ii" from = "0" count = "ranges_size">
                    <ip_address name = "range_last_addr" array_index="i,ii"/>
                    <ip_address name = "range_last_addr" array_index="i,ii"/>                    
                </for>
            </for>
        </output>
    </function>
    
    <function name="rpcf_dealer_get_switches_list" id="0x70000070">
        <input>
            <integer name = "offset"/>
            <integer name = "count"/>            
        </input>
        <output>
            <integer name="size"/>
            <for name="i" from="0" count="size">
                <integer name = "id" array_index = "i"/>
                <string name = "name" array_index = "i"/>
                <string name = "location" array_index = "i"/>
                <integer name = "type" array_index = "i"/>
                <integer name = "ports_count" array_index = "i"/>
                <string name = "remote_id" array_index = "i"/>
                <ip_address name = "address" array_index = "i"/>
                <string name = "login" array_index = "i"/>
                <string name = "password" array_index = "i"/>
            </for>
        </output>
    </function>
        
    <function name="rpcf_dealer_get_switch" id="0x70000071">
        <input>
            <integer name = "id"/>
        </input>
        <output>
            <integer name = "id"/>
            <string name = "name"/>
            <string name = "location"/>
            <integer name = "type"/>
            <integer name = "ports_count"/>
            <string name = "remote_id"/>
            <ip_address name = "address"/>
            <string name = "login"/>
            <string name = "password"/>
        </output>
    </function> 
    
    <function name="rpcf_get_shaping" id="0x1200a">
        <input>
            <integer name="service_id"/>
        </input>
        <output>
            <integer name="result"/>
            <if variable="result" value="0" condition="eq">
                <integer name="flags"/>

                <!-- input shaping details -->
                <integer name="in_tclass_count"/>
                <for name="i" from="0" count="in_tclass_count">
                    <integer name="in_tclass_id_array" array_index="i"/>
                </for>
                <integer name="in_borders_count"/>
                <integer name="in_timeranges_count"/>
                <for name="i" from="0" count="in_borders_count">
                    <long name="in_border_array" array_index="i"/>
                    <for name="j" from="0" count="in_timeranges_count">
                        <integer name="in_timerange_id_array" array_index="j"/>
                        <integer name="in_limits_array" array_index="i,j"/>
                    </for>
                </for>

                <!-- output shaping details -->
                <integer name="out_tclass_count"/>
                <for name="i" from="0" count="out_tclass_count">
                    <integer name="out_tclass_id_array" array_index="i"/>
                </for>
                <integer name="out_borders_count"/>
                <integer name="out_timeranges_count"/>
                <for name="i" from="0" count="out_borders_count">
                    <long name="out_border_array" array_index="i"/>
                    <for name="j" from="0" count="out_timeranges_count">
                        <integer name="out_timerange_id_array" array_index="j"/>
                        <integer name="out_limits_array" array_index="i,j"/>
                    </for>
                </for>

                <integer name="rad_count"/>
                <for name="i" from="0" count="rad_count">
                    <integer name="rad_vendor" array_index="i"/>
                    <integer name="rad_attr" array_index="i"/>
                    <integer name="rad_type" array_index="i"/>
                    <string name="rad_value" array_index="i"/>
                </for>

                <integer name="turbo_mode_service_id"/>
                <integer name="turbo_mode_incoming_rate"/>
                <integer name="turbo_mode_outgoing_rate"/>
                <integer name="turbo_mode_duration"/>
                <integer name="turbo_mode_acct_period_flag"/>
            </if>

        </output>
    </function>

    <function name="rpcf_delete_shaping" id="0x12005">
        <input>
            <integer name="service_id"/>
        </input>
        <output>
            <integer name="result"/>
        </output>
    </function>

    <function name="rpcf_get_shaped_services" id="0x12006">
        <input/>
        <output>
            <integer name="svc_count"/>
            <for name="i" from="0" count="svc_count">
                <integer name="service_id_array" array_index="i"/>
                <string name="service_name_array" array_index="i"/>
                <string name="service_comment_array" array_index="i"/>
            </for>
        </output>
    </function>

    <function name="rpcf_add_shaping" id="0x12007">
        <input>
            <integer name="service_id"/>
            <integer name="flags"/>

            <!-- input shaping details -->
            <integer name="in_tclass_count"/>
            <for name="i" from="0" count="in_tclass_count">
                <integer name="in_tclass_id_array" array_index="i"/>
            </for>
            <integer name="in_borders_count"/>
            <integer name="in_timeranges_count"/>
            <for name="i" from="0" count="in_borders_count">
                <long name="in_border_array" array_index="i"/>
                <for name="j" from="0" count="in_timeranges_count">
                    <integer name="in_timerange_id_array" array_index="j"/>
                    <integer name="in_limits_array" array_index="i,j"/>
                </for>
            </for>

            <!-- output shaping details -->
            <integer name="out_tclass_count"/>
            <for name="i" from="0" count="out_tclass_count">
                <integer name="out_tclass_id_array" array_index="i"/>
            </for>
            <integer name="out_borders_count"/>
            <integer name="out_timeranges_count"/>
            <for name="i" from="0" count="out_borders_count">
                <long name="out_border_array" array_index="i"/>
                <for name="j" from="0" count="out_timeranges_count">
                    <integer name="out_timerange_id_array" array_index="j"/>
                    <integer name="out_limits_array" array_index="i,j"/>
                </for>
            </for>
            <integer name="rad_count"/>
            <for name="i" from="0" count="rad_count">
                <integer name="rad_vendor" array_index="i"/>
                <integer name="rad_attr" array_index="i"/>
                <integer name="rad_type" array_index="i"/>
                <string name="rad_value" array_index="i"/>
            </for>

            <integer name="turbo_mode_service_id"/>
            <integer name="turbo_mode_incoming_rate"/>
            <integer name="turbo_mode_outgoing_rate"/>
            <integer name="turbo_mode_duration"/>
            <integer name="turbo_mode_acct_period_flag"/>
          
        </input>
        <output>
            <integer name="result"/>
        </output>
    </function>

    <function name="rpcf_edit_shaping" id="0x12008">
        <input>
            <integer name="service_id"/>
            <integer name="flags"/>

            <!-- input shaping details -->
            <integer name="in_tclass_count"/>
            <for name="i" from="0" count="in_tclass_count">
                <integer name="in_tclass_id_array" array_index="i"/>
            </for>
            <integer name="in_borders_count"/>
            <integer name="in_timeranges_count"/>
            <for name="i" from="0" count="in_borders_count">
                <long name="in_border_array" array_index="i"/>
                <for name="j" from="0" count="in_timeranges_count">
                    <integer name="in_timerange_id_array" array_index="j"/>
                    <integer name="in_limits_array" array_index="i,j"/>
                </for>
            </for>

            <!-- output shaping details -->
            <integer name="out_tclass_count"/>
            <for name="i" from="0" count="out_tclass_count">
                <integer name="out_tclass_id_array" array_index="i"/>
            </for>
            <integer name="out_borders_count"/>
            <integer name="out_timeranges_count"/>
            <for name="i" from="0" count="out_borders_count">
                <long name="out_border_array" array_index="i"/>
                <for name="j" from="0" count="out_timeranges_count">
                    <integer name="out_timerange_id_array" array_index="j"/>
                    <integer name="out_limits_array" array_index="i,j"/>
                </for>
            </for>
            <integer name="rad_count"/>
            <for name="i" from="0" count="rad_count">
                <integer name="rad_vendor" array_index="i"/>
                <integer name="rad_attr" array_index="i"/>
                <integer name="rad_type" array_index="i"/>
                <string name="rad_value" array_index="i"/>
            </for>

            <integer name="turbo_mode_service_id"/>
            <integer name="turbo_mode_incoming_rate"/>
            <integer name="turbo_mode_outgoing_rate"/>
            <integer name="turbo_mode_duration"/>
            <integer name="turbo_mode_acct_period_flag"/>

        </input>
        <output>
            <integer name="result"/>
        </output>
    </function>

    <function name="rpcf_user5_get_slink_shaping" id="-0x12009">
        <input>
            <integer name="slink_id"/>
        </input>
        <output>
            <integer name="flags"/>
            <integer name="incoming_rate"/>
            <integer name="outgoing_rate"/>
            <integer name="turbo_mode_start"/>
            <integer name="turbo_mode_end"/>
        </output>
    </function>

    <function name="rpcf_user5_enable_turbo_mode" id="-0x1200a">
        <input>
            <integer name="slink_id"/>
        </input>
        <output>
            <integer name="result"/>
        </output>
    </function>

    <function name="rpcf_user5_get_turbo_mode_settings" id="-0x1200b">
        <input>
            <integer name="slink_id"/>
        </input>
        <output>
            <integer name="incoming_rate"/>
            <integer name="outgoing_rate"/>
            <integer name="duration"/>
            <double name="cost"/>
        </output>
    </function>

    <function name="rpcf_hotspot_sessions_list" id="0x4308">
        <input/>
        <output>
            <integer name="sess_count"/>
            <for name="i" from="0" count="sess_count">
                <integer name="dhs_sess_id" array_index="i"/>
                <string name="nas_sess_id" array_index="i"/>
                <string name="web_sess_id" array_index="i"/>
                <integer name="start_date" array_index="i"/>
                <integer name="end_date" array_index="i"/>
                <integer name="slink_id" array_index="i"/>
                <integer name="ip" array_index="i"/>
                <string name="login" array_index="i"/>
                <double name="banalce" array_index="i"/>
            </for>
        </output>
    </function>

    <function name="rpcf_get_hotspot_networks" id="0x10201">
        <input>
            <integer name="service_id"/>
        </input>
        <output>
            <integer name="cnt"/>
            <for name="i" from="0" count="cnt">
                <integer name="ip" array_index="i"/>
                <integer name="mask" array_index="i"/>
            </for>
        </output>
    </function>

    <function name="rpcf_set_hotspot_networks" id="0x10202">
        <input>
            <integer name="service_id"/>
            <integer name="cnt"/>
            <for name="i" from="0" count="cnt">
                <integer name="ip" array_index="i"/>
                <integer name="mask" array_index="i"/>
            </for>
        </input>
        <output>
            <integer name="result"/>
        </output>
    </function>

    <function name="rpcf_get_fw_events" id="0x0048">
        <input/>
        <output>
            <long name="fw_events"/>
        </output>
    </function>

    <function name="rpcf_get_fw_subst" id="0x0049">
        <input/>
        <output>
            <integer name="subst_count"/>
            <for name="i" from="0" count="subst_count">
                <string name="subst" array_index="i"/>
                <long name="events" array_index="i"/>
            </for>
        </output>
    </function>

    <function name="rpcf_user5_edit_user" id="-0x4040">
      <input>
          <string name="full_name"/>
          <string name="actual_address"/>
          <string name="juridical_address"/>
          <string name="work_telephone"/>
          <string name="home_telephone"/>
          <string name="mobile_telephone"/>
          <string name="web_page"/>
          <string name="icq_number"/>
          <string name="pasport"/>
          <integer name="bank_id"/>
          <string name="bank_account"/>
          <string name="email"/>
      </input>
    <output/>
  </function>

  <function name="rpcf_user5_get_user_info_new" id="-0x4052">
    <input/>
    <output>
      <integer name="user_id"/>
      <string name="login"/>
      <integer name="basic_account"/>
      <double name="balance"/>
      <double name="credit"/>
      <integer name="is_blocked"/>
      <integer name="create_date"/>
      <integer name="last_change_date"/>
      <integer name="who_create"/>
      <integer name="who_change"/>
      <integer name="is_juridical"/>
      <string name="full_name"/>
      <string name="juridical_address"/>
      <string name="actual_address"/>
      <string name="work_telephone"/>
      <string name="home_telephone"/>
      <string name="mobile_telephone"/>
      <string name="web_page"/>
      <string name="icq_number"/>
      <string name="tax_number"/>
      <string name="kpp_number"/>
      <integer name="bank_id"/>
      <string name="bank_account"/>
      <integer name="int_status"/>
      <double name="vat_rate"/>
      <string name="pasport"/>
      <double name="locked_in_funds"/>
      <string name="email"/>
    </output>
  </function>


  <function name="rpcf_user5_get_invoice_data_new" id="-0x4041">
    <input/>
    <output>
      <string name="full_name" />
      <string name="actual_address" />
      <string name="juridical_address" />
      <integer name="basic_account" />
      <string name="payment_recv" />
      <string name="inn" />
      <string name="kpp" />
      <string name="bank_account" />
      <string name="bank_name" />
      <string name="bank_city" />
      <string name="bank_bic" />
      <string name="bank_ks" />
    </output>
  </function>



    <function name="rpcf_set_ic_status" id="0x14006">
        <input>
            <integer name="entity_type"/>
            <integer name="entity_id"/>
            <integer name="ic_status"/>
            <string name="ic_id"/>
        </input>
        <output>
            <integer name="result"/>
        </output>
    </function>


  <function name="rpcf_get_messages_list_new" id="0x500b">
    <input>
      <long name="time_start" />
      <long name="time_end" />
    </input>
    <output>
      <integer name="message_size" />
      <for name="i" from="0" count="message_size">
        <integer name="id" array_index="i" />
        <integer name="send_date" array_index="i" />
        <integer name="sender_id" array_index="i" />
        <string name="subject" array_index="i" />
        <string name="mime" array_index="i" />
        <integer name="flag" array_index="i" />
      </for>
    </output>
  </function>

  <function name="rpcf_get_sent_messages_list" id="0x500e">
    <input>
      <long name="time_start" />
      <long name="time_end" />
    </input>
    <output>
      <integer name="message_size" />
      <for name="i" from="0" count="message_size">
        <integer name="id" array_index="i" />
        <integer name="send_date" array_index="i" />
        <integer name="reciever_id" array_index="i" />
        <integer name="reciever_type" array_index="i" />
        <string name="subject" array_index="i" />
        <string name="mime" array_index="i" />
        <integer name="flag" array_index="i" />
      </for>
    </output>
  </function>

  <function name="rpcf_user5_get_sent_messages_list" id="-0x4044">
    <input>
      <integer name="time_start" />
      <integer name="time_end" />
    </input>
    <output>
      <integer name="message_size" />
      <for name="i" from="0" count="message_size">
        <integer name="id" array_index="i" />
        <integer name="send_date" array_index="i" />
        <string name="subject" array_index="i" />
      </for>
    </output>
  </function>

  <function name="rpcf_add_message_new" id="0x500d">
    <input>
      <integer name="receiver_id" />
      <integer name="receiver_type" />
      <string name="subject" />
      <string name="message" />
      <string name="mime" />
    </input>
    <output/>
  </function>

  <function name="rpcf_get_message" id="0x500c">
    <input>
      <integer name="id" />
    </input>
    <output>
        <string name="subject" />
        <string name="message"/>
        <string name="mime" />
        <integer name="send_date"/>
        <integer name="sender_id"/>
        <integer name="receiver_id"/>
        <integer name="receiver_type"/>
    </output>
  </function>

  <function name="rpcf_user5_get_messages_list" id="-0x4043">
    <input>
      <integer name="time_start" />
      <integer name="time_end" />
    </input>
    <output>
      <integer name="messages_size" />
      <for name="i" from="0" count="messages_size">
        <integer name="id" array_index="i" />
        <integer name="send_date" array_index="i" />
        <integer name="sender_id" array_index="i" />
        <string name="subject" array_index="i" />
        <string name="mime" array_index="i" />
        <integer name="flag" array_index="i" />
      </for>
    </output>
  </function>

  <function name="rpcf_user5_get_new_messages_list" id="-0x4046">
    <input/>
    <output>
      <integer name="messages_size" />
      <for name="i" from="0" count="messages_size">
        <integer name="id" array_index="i" />
        <integer name="send_date" array_index="i" />
        <integer name="sender_id" array_index="i" />
        <string name="subject" array_index="i" />
        <string name="mime" array_index="i" />
      </for>
    </output>
  </function>

  <function name="rpcf_get_new_messages_list" id="0x500f">
    <input/>
    <output>
      <integer name="messages_size" />
      <for name="i" from="0" count="messages_size">
        <integer name="id" array_index="i" />
        <integer name="send_date" array_index="i" />
        <integer name="sender_id" array_index="i" />
        <string name="subject" array_index="i" />
        <string name="mime" array_index="i" />
        <integer name="flag" array_index="i" />
      </for>
    </output>
  </function>

  <function name="rpcf_user5_get_message" id="-0x4042">
    <input>
      <integer name="id" />
    </input>
    <output>
        <string name="subject" />
        <string name="message"/>
        <string name="mime" />
        <integer name="send_date"/>
        <integer name="sender_id"/>
    </output>
  </function>

  <function name="rpcf_add_message_flag" id="0x5030">
    <input>
      <integer name="message_id" />
      <integer name="flag" />
    </input>
    <output>
    </output>
  </function>

  <function name="rpcf_remove_message_flag" id="0x5031">
    <input>
      <integer name="message_id" />
      <integer name="flag" />
    </input>
    <output>
    </output>
  </function>

  <function name="rpcf_user5_get_invoices_list" id="-0x4047">
    <input>
      <integer name="time_start" />
      <integer name="time_end" />
    </input>
    <output>
      <integer name="currency_id"/>
      <string name="currency_name"/>
      <integer name="accts_size" />
      <for name="i" from="0" count="accts_size">
        <integer name="count_of_invoice" />
        <set dst="count_of_invoice_array" src="count_of_invoice" dst_index="i" />
        <for name="j" from="0" count="count_of_invoice">
            <integer name="id" array_index="i,j" />
            <string name="ext_num" array_index="i,j" />
            <integer name="invoice_date" array_index="i,j" />
            <integer name="is_payed" array_index="i,j" />
            <integer name="account_id" array_index="i,j" />
            <double name="total_sum" array_index="i,j" />
            <double name="total_tax" array_index="i,j" />
            <double name="total_sum_plus_total_tax" array_index="i,j" />
        </for>
      </for>
    </output>
  </function>

  <function name="rpcf_get_traffic_aggregation_interval" id="0x10203">
    <input>
        <integer name="service_id"/>
    </input>
    <output>
        <integer name="aggregation_interval"/>
    </output>
  </function>


  <function name="rpcf_user5_generate_doc" id="-0x4048">
    <input>
      <integer name="doc_type_id"/>
      <integer name="base_id"/>
    </input>
    <output>
       <integer name="text_count"/>
       <for name="i" from="0" count="text_count">
         <string  name="dynamic_text" array_index="i"/>
       </for>
       <integer name="landscape"/>
    </output>
  </function>

  <function name="rpcf_set_traffic_aggregation_interval" id="0x10204">
    <input>
        <integer name="service_id"/>
        <integer name="aggregation_interval"/>
    </input>
    <output>
        <integer name="result"/>
    </output>
  </function>


  <function name="rpcf_user5_change_int_status_for_account" id="-0x4049">
    <input>
      <integer name="account_id" />
      <integer name="int_status" />
    </input>
    <output/>
  </function>

  <function name="rpcf_user5_get_accounts_new" id="-0x15028">
    <input/>
    <output>
      <integer name="accounts_size" />
      <for name="i" from="0" count="accounts_size">
        <integer name="account_id" array_index="i" />
        <double name="balance" array_index="i" />
        <double name="credit" array_index="i" />
        <integer name="internet_status" array_index="i" />
        <integer name="block_status" array_index="i" />
        <double name="vat_rate" array_index="i" />
        <double name="locked_in_funds" array_index="i"/>
      </for>
    </output>
  </function>

  <function name="rpcf_user5_get_banks" id="-0x4051">
    <input/>
    <output>
      <integer name="banks_size" />
      <for name="i" from="0" count="banks_size">
        <integer name="id" array_index="i" />
        <string name="bic" array_index="i" />
        <string name="name" array_index="i" />
        <string name="city" array_index="i" />
        <string name="kschet" array_index="i" />
      </for>
    </output>
  </function>

  <function name="rpcf_generate_doc_for_user_new" id="0x7039">
    <input>
      <integer name="doc_type_id"/>
      <integer name="uid" comment="Required parameter" default="0" />
      <integer name="base_id" comment="account_id"/>
      <integer name="doc_template_id" default="0"/>
    </input>
    <output>
      <integer name="doc_template_id"/>
      <integer name="static_id"/>
      <if variable="static_id" value="0" condition="ne">
       <integer name="text_count"/>
       <for name="i" from="0" count="text_count">
         <string  name="dynamic_text" array_index="i"/>
       </for>
       <integer name="dynamic_landscape"/>
      </if>
      <if variable="static_id" value="0" condition="eq">
       <integer name="dynamic_id"/>
       <integer name="text_count"/>
       <for name="i" from="0" count="text_count">
         <string  name="static_text" array_index="i"/>
       </for>
       <integer name="static_landscape"/>
      </if>
    </output>
  </function>

  <function name="rpcf_get_doc_invoices_entries" id="0x7040">
      <input>
          <integer name="invoice_id"/>
      </input>
      <output>
          <integer name="size"/>
          <for name="i" from="0" count="size">
              <integer name="id" array_index = "i"/>
              <integer name="invoice_id" array_index = "i"/>
              <integer name="accounting_period_id" array_index = "i"/>
              <integer name="slink_id" array_index = "i"/>
              <integer name="version" array_index = "i"/>
              <integer name="service_type" array_index = "i"/>
              <double name="qnt" array_index = "i"/>
              <double name="base_cost" array_index = "i"/>
              <double name="sum_cost" array_index = "i"/>
              <double name="tax_amount" array_index = "i"/>
              <string name="name" array_index = "i"/>
              <integer name="det_size" array_index = "i"/>  
              <for name="j" from="0" count="det_size">
                   <integer name="type" array_index = "i,j"/>  
                   <integer name="value" array_index = "i,j"/>  
              </for>
          </for>
      </output>
  </function>
  
  <function name="rpcf_reverse_invoice_entry" id="0x7041">
      <input>
          <integer name="invoice_entry_id"/>
          <double name="new_summ"/>
          <string name="comment"/>
      </input>
      <output>
          <integer name="result"/>
      </output>
  </function>

  <function name="rpcf_delete_invoice" id="0x7042">
      <input>
          <integer name="invoice_id"/>
      </input>
      <output>
          <integer name="result"/>
      </output>
  </function>
  
  <function name="rpcf_del_uaparam_new" id="0x4411">
    <input>
      <integer name="uaparam_id" />
    </input>
    <output/>
  </function>

  <function name="rpcf_is_uaparam_in_use" id="0x4412">
    <input>
      <integer name="uaparam_id" />
    </input>
    <output>
      <integer name="result" />
    </output>
  </function>

  <function name="rpcf_get_user_contacts_new" id="0x2040">
    <input>
      <integer name="user_id" />
    </input>
    <output>
      <integer name="size" />
      <for name="i" from="0" count="size">
        <integer name="id" array_index="i" />
        <string name="descr" array_index="i" />
        <string name="reason" array_index="i" />
        <string name="person" array_index="i" />
        <string name="short_name" array_index="i" />
        <string name="contact" array_index="i" />
        <string name="email" array_index="i" />
        <integer name="id_exec_man" array_index="i" />
      </for>
    </output>
  </function>

  <function name="rpcf_get_user_contact" id="0x2041">
    <input>
      <integer name="cid" />
    </input>
    <output>
        <string name="descr" />
        <string name="reason"/>
        <string name="person"/>
        <string name="short_name"/>
        <string name="contact" />
        <string name="email" />
        <integer name="id_exec_man" />
    </output>
  </function>

  <function name="rpcf_add_user_contact" id="0x2042">
    <input>
      <integer name="user_id" />
        <string name="descr" />
        <string name="reason"/>
        <string name="person"/>
        <string name="short_name"/>
        <string name="contact" />
        <string name="email" />
        <integer name="id_exec_man" />
    </input>
    <output/>
  </function>

  <function name="rpcf_edit_user_contact" id="0x2043">
    <input>
      <integer name="cid" />
        <string name="descr" />
        <string name="reason"/>
        <string name="person"/>
        <string name="short_name"/>
        <string name="contact" />
        <string name="email" />
        <integer name="id_exec_man" />
    </input>
    <output/>
  </function>

  <function name="rpcf_user5_generate_doc_new" id="-0x4053">
    <input>
      <integer name="doc_type_id"/>
      <integer name="base_id"/>
    </input>
    <output>
       <integer name="text_count"/>
       <for name="i" from="0" count="text_count">
         <string  name="dynamic_text" array_index="i"/>
       </for>
       <integer name="landscape"/>
    </output>
  </function>

  <function name="rpcf_set_account_external_id" id="0x2038">
    <input>
      <integer name="aid"/>
      <string name="external_id"/>
    </input>
    <output>
       <integer name="result"/>
    </output>
  </function>

  <function name="rpcf_get_account_external_id" id="0x2039">
    <input>
      <integer name="aid"/>
    </input>
    <output>
      <string name="external_id"/>
    </output>
  </function>

  <function name="rpcf_is_account_external_id_used" id="0x203a">
    <input>
      <string name="external_id"/>
    </input>
      <output>
      <integer name="aid"/>
      </output>
  </function>
    
  <function name="rpcf_change_account_balance" id="0x2045">
      <input>
        <integer name="account_id"/>
        <double name="balance"/>
        <string name="comment"/>
      </input>
      <output>
        <integer name="result"/>
      </output>
  </function>

    <function name="rpcf_payments_report_new" id="0x3030">
    <input>
      <integer name="user_id" default="0" />
      <integer name="account_id"   />
      <integer name="group_id" default="0" />
      <integer name="apid" default="0"/>
      <integer name="time_start" />
      <integer name="time_end" />
    </input>
    <output>
      <integer name="users_count" />
      <for name="i" from="0" count="users_count">
        <integer name="atr_size" />
        <set dst="atr_size_array" src="atr_size" dst_index="i" />
        <for name="j" from="0" count="atr_size">
          <integer name="id" array_index="i,j" />
          <integer name="account_id" array_index="i,j" />
          <string name="login" array_index="i,j" />
          <integer name="actual_date" array_index="i,j" />
          <integer name="payment_enter_date" array_index="i,j" />
          <double name="payment" array_index="i,j" />
          <double name="payment_incurrency" array_index="i,j" />
          <integer name="currency_id" array_index="i,j" />
          <integer name="method" array_index="i,j" />
          <integer name="who_receved" array_index="i,j" />
          <string name="admin_comment" array_index="i,j" />
          <string name="payment_ext_number" array_index="i,j" />
          <string name="full_name" array_index="i,j" />
          <string name="acc_external_id" array_index="i,j" />
          <integer name="burnt_date" array_index="i,j" />
        </for>
      </for>
    </output>
  </function>


  <function name="rpcf_get_switch_tariff_settings" id="0x15014">
    <input>
    </input>
    <output>
       <integer name="count"/>
       <for name="i" from="0" count="count">
            <integer name="id" array_index="i"/>
            <integer name="group_id" array_index="i"/>
            <integer name="priopity" array_index="i"/>
            <integer name="is_enabled" array_index="i"/>
            <integer name="instant_change" array_index="i"/>
            <integer name="instant_change_count" array_index="i"/>
            <integer name="tp_size" />
            <set dst="tp_size_array" src="tp_size" dst_index="i" />
            <for name="j" from="0" count="tp_size">
                <integer name="tp_id" array_index="i,j" />
                <double name="min_balance" array_index="i,j"/>
                <integer name="use_min_balance" array_index="i,j"/>
                <double name="free_balance" array_index="i,j"/>
                <integer name="use_free_balance" array_index="i,j"/>
                <integer name="service_id" array_index="i,j"/>
            </for>
       </for>
    </output>
  </function>

  <function name="rpcf_add_switch_tariff_settings" id="0x15015">
    <input>
            <integer name="group_id"/>
            <integer name="priopity"/>
            <integer name="is_enabled"/>
            <integer name="instant_change"/>
            <integer name="instant_change_count"/>
            <integer name="tp_size" />
            <for name="i" from="0" count="tp_size">
                <integer name="tp_id" array_index="i" />
                <double name="min_balance" array_index="i"/>
                <integer name="use_min_balance" array_index="i"/>
                <double name="free_balance" array_index="i"/>
                <integer name="use_free_balance" array_index="i"/>
                <integer name="service_id" array_index="i"/>
            </for>
    </input>
    <output>
      <integer name="result"/>
    </output>
  </function>

  <function name="rpcf_edit_switch_tariff_settings" id="0x15016">
    <input>
            <integer name="id"/>
            <integer name="group_id"/>
            <integer name="priopity"/>            
            <integer name="is_enabled"/>
            <integer name="instant_change"/>
            <integer name="instant_change_count"/>
            <integer name="tp_size" />
            <for name="i" from="0" count="tp_size">
                <integer name="tp_id" array_index="i" />
                <double name="min_balance" array_index="i"/>
                <integer name="use_min_balance" array_index="i"/>
                <double name="free_balance" array_index="i"/>
                <integer name="use_free_balance" array_index="i"/>
                <integer name="service_id" array_index="i"/>
            </for>
    </input>
    <output>
      <integer name="result"/>
    </output>
  </function>

  <function name="rpcf_delete_switch_tariff_settings" id="0x15003">
    <input>
            <integer name="id"/>
    </input>
    <output>
       <integer name="result"/>
   </output>
  </function>

  <function name="rpcf_get_voluntary_suspension_settings" id="0x15010">
    <input>
    </input>
    <output>
    <integer name="count"/>
    <for name="i" from="0" count="count">
        <integer name="id" array_index="i"/>
        <integer name="group_id" array_index="i"/>
        <integer name="priopity" array_index="i"/>
        <integer name="is_enabled" array_index="i"/>
        <integer name="min_duration" array_index="i"/>
        <integer name="max_duration" array_index="i"/>
        <integer name="interval_duration" array_index="i"/>
        <integer name="block_type" array_index="i"/>
        <integer name="self_unlock" array_index="i"/>
        <double name="min_balance" array_index="i"/>
        <integer name="use_min_balance" array_index="i"/>
        <double name="free_balance" array_index="i"/>
        <integer name="use_free_balance" array_index="i"/>
        <integer name="service_id" array_index="i"/>
    </for>
    </output>
  </function>

  <function name="rpcf_add_voluntary_suspension_settings" id="0x15011">
    <input>
        <integer name="group_id" />
        <integer name="priopity" />
        <integer name="is_enabled" />
        <integer name="min_duration" />
        <integer name="max_duration" />
        <integer name="interval_duration" />
        <integer name="block_type" />
        <integer name="self_unlock" />
        <double name="min_balance"/>
        <integer name="use_min_balance"/>
        <double name="free_balance"/>
        <integer name="use_free_balance"/>
        <integer name="service_id"/>
    </input>
    <output>
       <integer name="result"/>
    </output>
  </function>

  <function name="rpcf_edit_voluntary_suspension_settings" id="0x15012">
    <input>
        <integer name="id" />
        <integer name="group_id" />
        <integer name="priopity" />
        <integer name="is_enabled" />
        <integer name="min_duration" />
        <integer name="max_duration" />
        <integer name="interval_duration" />
        <integer name="block_type" />
        <integer name="self_unlock" />
        <double name="min_balance"/>
        <integer name="use_min_balance"/>
        <double name="free_balance"/>
        <integer name="use_free_balance"/>
        <integer name="service_id"/>
    </input>
    <output>
       <integer name="result"/>
    </output>
  </function>

  <function name="rpcf_delete_voluntary_suspension_settings" id="0x15013">
    <input>
            <integer name="id"/>
    </input>
    <output>
       <integer name="result"/>
   </output>
  </function>

  <function name="rpcf_get_promised_payment_settings" id="0x15034">
    <input>
    </input>
    <output>
    <integer name="count"/>
    <for name="i" from="0" count="count">
        <integer name="id" array_index="i"/>
        <integer name="group_id" array_index="i"/>
        <integer name="priopity" array_index="i"/>
        <integer name="is_enabled" array_index="i"/>
        <double name="max_value" array_index="i"/>
        <integer name="max_duration" array_index="i"/>
        <integer name="interval_duration" array_index="i"/>
        <double name="min_balance" array_index="i"/>
        <integer name="use_min_balance" array_index="i"/>
        <double name="free_balance" array_index="i"/>
        <integer name="use_free_balance" array_index="i"/>
        <integer name="service_id" array_index="i"/>
        <integer name="flags" array_index="i"/>        
    </for>
    </output>
  </function>

  <function name="rpcf_add_promised_payment_settings" id="0x15035">
    <input>
        <integer name="group_id" />
        <integer name="priopity" />
        <integer name="is_enabled" />
        <double name="max_value" />
        <integer name="max_duration" />
        <integer name="interval_duration" />
        <double name="min_balance"/>
        <integer name="use_min_balance"/>
        <double name="free_balance"/>
        <integer name="use_free_balance"/>
        <integer name="service_id"/>
        <integer name="flags"/>
    </input>
    <output>
       <integer name="result"/>
    </output>
  </function>

  <function name="rpcf_edit_promised_payment_settings" id="0x15036">
    <input>
        <integer name="id" />
        <integer name="group_id" />
        <integer name="priopity" />
        <integer name="is_enabled" />
        <double name="max_value" />
        <integer name="max_duration" />
        <integer name="interval_duration" />
        <double name="min_balance"/>
        <integer name="use_min_balance"/>
        <double name="free_balance"/>
        <integer name="use_free_balance"/>
        <integer name="service_id"/>
        <integer name="flags"/>
    </input>
    <output>
       <integer name="result"/>
    </output>
  </function>

  <function name="rpcf_delete_promised_payment_settings" id="0x15023">
    <input>
            <integer name="id"/>
    </input>
    <output>
       <integer name="result"/>
   </output>
  </function>

  <function name="rpcf_get_funds_flow_settings" id="0x15024">
    <input>
    </input>
    <output>
    <integer name="count"/>
    <for name="i" from="0" count="count">
        <integer name="id" array_index="i"/>
        <integer name="group_id" array_index="i"/>
        <integer name="priopity" array_index="i"/>
        <integer name="is_enabled" array_index="i"/>

    </for>
    </output>
  </function>

  <function name="rpcf_add_funds_flow_settings" id="0x15025">
    <input>
        <integer name="group_id" />
        <integer name="priopity" />
        <integer name="is_enabled" />
    </input>
    <output>
       <integer name="result"/>
    </output>
  </function>

  <function name="rpcf_edit_funds_flow_settings" id="0x15026">
    <input>
        <integer name="id" />
        <integer name="group_id" />
        <integer name="priopity" />
        <integer name="is_enabled" />
    </input>
    <output>
       <integer name="result"/>
    </output>
  </function>

  <function name="rpcf_delete_funds_flow_settings" id="0x15027">
    <input>
            <integer name="id"/>
    </input>
    <output>
       <integer name="result"/>
   </output>
  </function>

  <function name="rpcf_user5_set_funds_flow" id="-0x15007">
    <input>
       <integer name="account_id_from"/>
       <integer name="account_id_to"/>
       <double name="amount"/>
    </input>
    <output>
       <integer name="result"/>
   </output>
  </function>

  <function name="rpcf_user5_get_funds_flow_report" id="-0x15009">
    <input>
      <integer name="time_start" />
      <integer name="time_end" />
    </input>
    <output>
      <integer name="count" />
      <for name="i" from="0" count="count">
	  <integer name="account_id_from" array_index="i" />
	  <integer name="account_id_to" array_index="i" />
	  <double name="amount" array_index="i" />
	  <integer name="date" array_index="i" />
     </for>
    </output>
  </function>

  <function name="rpcf_get_funds_flow_report" id="0x501c">
    <input>
      <integer name="time_start" />
      <integer name="time_end" />
      <integer name="uid" />
    </input>
    <output>
      <integer name="count" />
      <for name="i" from="0" count="count">
	  <integer name="account_id_from" array_index="i" />
	  <integer name="account_id_to" array_index="i" />
	  <double name="amount" array_index="i" />
	  <integer name="date" array_index="i" />
	  <integer name="uid" array_index="i" />
	  <string name="login" array_index="i" />
	  <string name="full_name" array_index="i" />
     </for>
    </output>
  </function>

  <function name="rpcf_user5_get_tlink" id="-0x15004">
    <input>
      <integer name="account_id" default="0"/>
    </input>
    <output>
      <integer name="user_tariffs_size"/>
      <for name="i" from="0" count="user_tariffs_size">
        <integer name="tariff_link_id_array" array_index="i"/>
        <integer name="tariff_current_array" array_index="i"/>
        <string name="tariff_current_name_array" array_index="i"/>
        <string name="tariff_current_comment_array" array_index="i"/>
        <integer name="tariff_next_array" array_index="i"/>
        <string name="tariff_next_name_array" array_index="i"/>
        <string name="tariff_next_comment_array" array_index="i"/>
        <integer name="discount_period_id_array" array_index="i"/>
        <integer name="discount_period_start_array" array_index="i"/>
        <integer name="discount_period_end_array" array_index="i"/>
      </for>
    </output>
  </function>

  <function name="rpcf_user5_get_next_tp" id="-0x15005">
    <input>
      <integer name="account_id" default="0"/>
      <integer name="tp_link" default="0"/>
    </input>
    <output>
      <integer name="user_tariffs_size"/>
      <for name="i" from="0" count="user_tariffs_size">
        <integer name="tariff_id_array" array_index="i"/>
        <string name="tariff_name_array" array_index="i"/>
        <string name="tariff_comments_array" array_index="i"/>
	<double name="min_balance" array_index="i"/>
	<integer name="use_min_balance" array_index="i"/>
	<double name="free_balance" array_index="i"/>
	<integer name="use_free_balance" array_index="i"/>
	<double name="cost" array_index="i"/>
	<integer name="can_change" array_index="i"/>
      </for>

	<double name="balance"/>
    </output>
  </function>
  
  <function name="rpcf_user5_set_next_tp" id="-0x15006">
    <input>
      <integer name="tp_link" default="0"/>
      <integer name="tp_next" default="0"/>
    </input>
    <output>
      <integer name="result"/>
    </output>
  </function>

  <function name="rpcf_user5_get_voluntary_blocking" id="-0x15014">
    <input>
      <integer name="account_id" default="0"/>
    </input>
    <output>
      <integer name="res"/>
        <if variable="res" value="1" condition="eq" >
		<integer name="block_start"/>
		<integer name="block_end"/>
		<integer name="block_self_unlock"/>

        </if>
        <if variable="res" value="0" condition="eq" >
		<integer name="can_set"/>
		<integer name="last_block_start"/>
		<integer name="min_duration"/>
		<integer name="max_duration"/>
		<integer name="interval_duration"/>
		<integer name="block_type"/>
		<double name="min_balance"/>
		<integer name="use_min_balance"/>
		<double name="free_balance"/>
		<integer name="use_free_balance"/>
		<integer name="self_unlock"/>
		<double name="cost"/>
		<double name="balance"/>

        </if>
    </output>
  </function>

  <function name="rpcf_user5_set_voluntary_blocking" id="-0x15015">
    <input>
	<integer name="account_id" default="0"/>
	<integer name="block_start"/>
	<integer name="block_end"/>
    </input>
    <output>
      <integer name="result"/>
    </output>
  </function>
  <function name="rpcf_user5_delete_voluntary_blocking" id="-0x15016">
    <input>
      <integer name="account_id" default="0"/>
    </input>
    <output>
      <integer name="result"/>
    </output>
  </function>

  <function name="rpcf_user5_get_promised_payment" id="-0x15031">
    <input>
      <integer name="account_id" default="0"/>
    </input>
    <output>
      <integer name="res"/>
        <if variable="res" value="-1" condition="ne" >
		<integer name="last_payment_date"/>
		<double name="amount"/>
		<integer name="duration"/>
		<integer name="interval_duration"/>
		<double name="cost"/>
		<double name="min_balance"/>
		<integer name="use_min_balance"/>
		<double name="free_balance"/>
		<integer name="use_free_balance"/>
		<double name="balance"/>
                <integer name="flags"/>
        </if>
    </output>
  </function>

  <function name="rpcf_user5_set_promised_payment" id="-0x15025">
    <input>
      <integer name="account_id" default="0"/>
      <double name="value"/>
    </input>
    <output>
      <integer name="result"/>
    </output>
  </function>

  <function name="rpcf_get_tariff_new" id="0x3040">
    <input>
      <integer name="tariff_id"/>
    </input>
    <output>
      <string name="tariff_name"/>
      <integer name="tariff_create_date"/>
      <integer name="who_create"/>
      <string name="who_create_login"/>
      <integer name="tariff_change_date"/>
      <integer name="who_change"/>
      <string name="who_change_login"/>
      <integer name="tariff_balance_rollover"/>
      <string name="comments" />
      <integer name="services_count"/>
      <for name="i" from="0" count="services_count">
        <integer name="service_id_array" array_index="i"/>
        <integer name="service_type_array" array_index="i"/>
        <string name="service_name_array" array_index="i"/>
        <string name="comment_array" array_index="i"/>
        <integer name="link_by_default_array" array_index="i"/>
        <integer name="is_dynamic_array" array_index="i"/>
      </for>
    </output>
  </function>

  <function name="rpcf_add_tariff_new" id="0x3041">
    <input>
      <string name="name" />
      <integer name="balance_rollover" />
      <string name="comments" />
    </input>
    <output>
      <integer name="tp_id" />
    </output>
  </function>

  <function name="rpcf_edit_tariff_new" id="0x3042">
    <input>
      <integer name="tp_id" />
      <string name="name" />
      <integer name="balance_rollover" />
      <string name="comments" />
    </input>
    <output>
      <integer name="tp_id" />
    </output>
  </function>

  <function name="rpcf_add_once_service_ex" id="0x1300">
    <input>
      <integer name="parent_id" />
      <integer name="tariff_id" />
      <string  name="service_name" />
      <string name="comment" />
      <integer name="link_by_default" />
      <double name="cost" />
      <integer name="drop_from_group" />
    </input>
    <output>
      <integer name="service_id" />
    </output>
  </function>

  <function name="rpcf_edit_once_service_ex" id="0x1301">
    <input>
      <integer name="service_id" />
      <integer name="parent_id" />
      <integer name="tariff_id" />
      <string  name="service_name" />
      <string name="comment" />
      <integer name="link_by_default" />
      <double name="cost" />
      <integer name="drop_from_group" />
    </input>
    <output>
      <integer name="service_id" />
    </output>
  </function>

  <function name="rpcf_add_periodic_service_ex" id="0x1302">
    <input>
      <integer name="parent_id" />
      <integer name="tariff_id" />
      <string name="service_name" />
      <string name="comment" />
      <integer name="link_by_default" />
      <double name="cost" />
      <integer name="discount_method" />
    </input>
    <output>
      <integer name="service_id" />
    </output>
  </function>

  <function name="rpcf_edit_periodic_service_ex" id="0x1303">
    <input>
      <integer name="service_id" />
      <integer name="parent_id" />
      <integer name="tariff_id" />
      <string name="service_name" />
      <string name="comment" />
      <integer name="link_by_default" />
      <double name="cost" />
      <integer name="discount_method" />
    </input>
    <output>
      <integer name="service_id" />
    </output>
  </function>

  <function name="rpcf_add_iptraffic_service_ex" id="0x1310">
    <input>
      <integer name="parent_id" />
      <integer name="tariff_id" />
      <string name="service_name" />
      <string name="comment" />
      <integer name="link_by_default" />
      <integer name="is_dynamic" />
      <double name="cost" />
      <integer name="discount_method" />
      <integer name="sessions_limit" />
      <integer name="null_service_prepaid" />
      <integer name="num_of_borders" default="size(tclass_b)"/>
      <for name="i" from="0" count="size(tclass_b)">
        <integer name="tclass_b" array_index="i" />
        <long name="size_b" array_index="i" />
        <double name="cost_b" array_index="i" />
      </for>
      <integer name="num_of_prepaid" default="size(tclass_p)" />
      <for name="i" from="0" count="size(tclass_p)">
        <integer name="tclass_p" array_index="i" />
        <long name="size_p" array_index="i" />
        <long name="size_max_p" array_index="i" />
      </for>
      <integer name="num_of_groups" default="size(tcid)"/>
      <for name="i" from="0" count="size(tcid)">
        <integer name="tcid" array_index="i" />
        <integer name="gid" array_index="i" />
      </for>
    </input>
    <output>
      <integer name="service_id" />
    </output>
  </function>

  <function name="rpcf_edit_iptraffic_service_ex" id="0x1311">
    <input>
      <integer name="service_id" />
      <integer name="parent_id" />
      <integer name="tariff_id" />
      <string name="service_name" />
      <string name="comment" />
      <integer name="link_by_default" />
      <integer name="is_dynamic" />
      <double name="cost" />
      <integer name="discount_method_t" />
      <integer name="sessions_limit" />
      <integer name="null_service_prepaid" />
      <integer name="num_of_borders" default="size(tclass_b)"/>
      <for name="i" from="0" count="size(tclass_b)">
        <integer name="tclass_b" array_index="i" />
        <long name="size_b" array_index="i" />
        <double name="cost_b" array_index="i" />
      </for>
      <integer name="num_of_prepaid" default="size(tclass_p)" />
      <for name="i" from="0" count="size(tclass_p)">
        <integer name="tclass_p" array_index="i" />
        <long name="size_p" array_index="i" />
        <long name="size_max_p" array_index="i" />
      </for>
      <integer name="num_of_groups" default="size(tcid)"/>
      <for name="i" from="0" count="size(tcid)">
        <integer name="tcid" array_index="i" />
        <integer name="gid" array_index="i" />
      </for>
    </input>
    <output>
      <integer name="service_id" />
    </output>
  </function>

  <function name="rpcf_add_hotspot_service_ex" id="0x1306">
    <input>
      <integer name="parent_id" />
      <integer name="tariff_id" />
      <string  name="service_name" />
      <string name="comment" />
      <integer name="link_by_default" />
      <integer name="is_dynamic" />
      <integer name="discount_method" />
      <double name="cost" />
      <integer name="radius_sessions_limit" />
      <double name="recv_cost" />
      <string  name="rate_limit" />
      <integer name="allowed_net_size" />
      <for name="i" from="0" count="allowed_net_size">
        <ip_address name="allowed_net_ip" array_index="i" />
        <integer name="allowed_net_value" array_index="i" />
      </for>
      <integer name="periodic_service_size" />
      <for name="i" from="0" count="periodic_service_size">
        <double name="periodic_service_cost" array_index="i" />
        <integer name="periodic_service_id" array_index="i" />
      </for>
    </input>
    <output>
        <integer name="service_id"/>
    </output>
  </function>

  <function name="rpcf_edit_hotspot_service_ex" id="0x1307">
    <input>
      <integer name="service_id" />
      <integer name="parent_id" />
      <integer name="tariff_id" />
      <string  name="service_name" />
      <string name="comment" />
      <integer name="link_by_default" />
      <integer name="is_dynamic" />
      <integer name="discount_method" />
      <double name="cost" />
      <integer name="radius_sessions_limit" />
      <double name="recv_cost" />
      <string  name="rate_limit" />
      <integer name="allowed_net_size" />
      <for name="i" from="0" count="allowed_net_size">
        <ip_address name="allowed_net_ip" array_index="i" />
        <integer name="allowed_net_value" array_index="i" />
      </for>
      <integer name="periodic_service_size" />
      <for name="i" from="0" count="periodic_service_size">
        <double name="periodic_service_cost" array_index="i" />
        <integer name="periodic_service_id" array_index="i" />
      </for>
    </input>
    <output>
        <integer name="service_id"/>
    </output>
  </function>

  <function name="rpcf_add_dialup_service_ex" id="0x1308">
    <input>
      <integer name="parent_id" />
      <integer name="tariff_id" />
      <string  name="service_name" />
      <string  name="comment" />
      <integer name="link_by_default" />
      <integer name="is_dynamic" />
      <integer name="discount_method" />
      <double  name="cost" />
      <string  name="pool_name" />
      <integer name="max_timeout" />
      <integer name="radius_sessions_limit" />
      <string  name="login_prefix" />
      <integer name="cost_size" default="size(range_id)" />
      <for name="i" from="0" count="size(range_id)">
        <double  name="range_cost" array_index="i"  />
        <integer name="range_id"   array_index="i"  />
      </for>
    </input>
    <output>
      <integer name="service_id" />
    </output>
  </function>

  <function name="rpcf_edit_dialup_service_ex" id="0x1309">
    <input>
      <integer name="service_id" />
      <integer name="parent_id" />
      <integer name="tariff_id" />
      <string  name="service_name" />
      <string  name="comment" />
      <integer name="link_by_default" />
      <integer name="is_dynamic" />
      <integer name="discount_method" />
      <double  name="cost" />
      <string  name="pool_name" />
      <integer name="max_timeout" />
      <integer name="radius_sessions_limit" />
      <string  name="login_prefix" />
      <integer name="cost_size" default="size(range_id)" />
      <for name="i" from="0" count="size(range_id)">
        <double  name="range_cost" array_index="i"  />
        <integer name="range_id"   array_index="i"  />
      </for>
    </input>
    <output>
      <integer name="service_id" />
    </output>
  </function>

  <function name="rpcf_add_once_slink_ex" id="0x2920">
    <input>
      <integer name="user_id"/>
      <integer name="account_id"/>
      <integer name="service_id"/>
      <integer name="tariff_link_id" default="0"/>
      <integer name="discount_date" default="now()"/>
      <double name="cost_coef" default="1.0" />
    </input>
    <output>
      <integer name="slink_id" />
    </output>
  </function>

  <function name="rpcf_edit_once_slink_ex" id="0x2921">
    <input>
      <integer name="slink_id" default="0"/>
      <integer name="discount_date" default="now()"/>
      <double name="cost_coef" default="1.0" />
    </input>
    <output>
      <integer name="slink_id" />
    </output>
  </function>

  <function name="rpcf_add_periodic_slink_ex" id="0x2936">
    <input>
      <integer name="user_id"/>
      <integer name="account_id"/>
      <integer name="service_id"/>
      <integer name="tariff_link_id" default="0"/>
        <integer name="discount_period_id"/>
        <integer name="start_date" default="now()"/>
        <integer name="expire_date" default="max_time()"/>
        <integer name="policy_id"/>
        <integer name="unabon" default="0"/>
        <double name="cost_coef" default="1"/>        
    </input>
    <output>
      <integer name="slink_id" />
    </output>
  </function>

  <function name="rpcf_edit_periodic_slink_ex" id="0x2937">
    <input>
      <integer name="slink_id" default="0"/>
        <integer name="start_date" default="now()"/>
        <integer name="expire_date" default="max_time()"/>
        <integer name="policy_id"/>
        <double  name="cost_coef"/>
    </input>
    <output>
      <integer name="slink_id" />
    </output>
  </function>

  <function name="rpcf_add_dialup_service_link_ex" id="0x2934">
    <input>
      <integer name="user_id"/>
      <integer name="account_id"/>
      <integer name="service_id"/>
      <integer name="tariff_link_id" default="0"/>
      <integer name="discount_period_id"/>
      <integer name="start_date" default="now()"/>
      <integer name="expire_date" default="max_time()"/>
      <integer name="policy_id"/>
      <integer name="unabon" default="0"/>
      <double name="cost_coef" default="1.0"/>
      <string  name="dialup_login"/>
      <string  name="dialup_password" default=""/>
      <string  name="dialup_allowed_cid" default=""/>
      <string  name="dialup_allowed_csid" default=""/>
      <integer name="callback_enabled" default="0"/>
    </input>
    <output>
      <integer name="slink_id" />
    </output>
  </function>

  <function name="rpcf_edit_dialup_slink_ex" id="0x2935">
    <input>
      <integer name="slink_id" default="0"/>
        <integer name="start_date" default="now()"/>
        <integer name="expire_date" default="max_time()"/>
        <integer name="policy_id"/>
        <double  name="cost_coef"/>
        <string  name="dialup_login"/>
        <string  name="dialup_password" default=""/>
        <string  name="dialup_allowed_cid" default=""/>
        <string  name="dialup_allowed_csid" default=""/>
        <integer name="callback_enabled" default="0"/>
    </input>
    <output>
      <integer name="slink_id" />
    </output>
  </function>

  <function name="rpcf_add_hotspot_slink_ex" id="0x2933">
    <input>
      <integer name="user_id"/>
      <integer name="account_id"/>
      <integer name="service_id"/>
      <integer name="tariff_link_id" default="0"/>
      <integer name="discount_period_id"/>
      <integer name="start_date" default="now()"/>
      <integer name="expire_date" default="max_time()"/>
      <integer name="policy_id"/>
      <integer name="unabon" default="0"/>      
      <double name="cost_coef" default="1.0"/>
      <string  name="hotspot_login"/>
      <string  name="hotspot_password"/>
    </input>
    <output>
      <integer name="slink_id" />
    </output>
  </function>

  <function name="rpcf_edit_hotspot_slink_ex" id="0x2934">
    <input>
      <integer name="slink_id" default="0"/>
        <integer name="start_date" default="now()"/>
        <integer name="expire_date" default="max_time()"/>
        <integer name="policy_id"/>
        <double  name="cost_coef" default="1.0"/>
        <string  name="hotspot_login"/>
        <string  name="hotspot_password"/>
    </input>
    <output>
      <integer name="slink_id" />
    </output>
  </function>

  <function name="rpcf_add_ip_slink_ex" id="0x2928"> 
    <input> 
      <integer name="user_id"/> 
      <integer name="account_id" default="basic_account"/> 
      <integer name="service_id"/> 
      <integer name="tariff_link_id" default="0"/> 
      <integer name="discount_period_id"/> 
      <integer name="start_date" default="now()"/> 
      <integer name="expire_date" default="max_time()"/> 
      <integer name="unabon" default="0"/> 
      <integer name="unprepay" default="0"/> 
      <integer name="ip_groups_count" default="size(ip_address)"/> 
      <for name="i" from="0" count="size(ip_address)"> 
        <integer name="ip_address" array_index="i"/> 
        <integer name="mask" array_index="i"/> 
        <string name="mac" array_index="i" default=""/> 
        <string name="iptraffic_login" array_index="i" default=""/> 
        <string name="iptraffic_allowed_cid" array_index="i" default=""/> 
        <string name="iptraffic_password" array_index="i" default=""/> 
        <integer name="ip_not_vpn" array_index="i" default="0"/> 
        <integer name="dont_use_fw" array_index="i" default="0"/> 
        <integer name="router_id" array_index="i" default="0"/> 
      </for> 
      <integer name="quotas_count" default="size(quota)"/> 
      <for name="i" from="0" count="size(quota)"> 
        <integer name="tclass_id" array_index="i"/> 
        <long name="quota" array_index="i"/> 
      </for> 
    </input> 
    <output> 
      <integer name="slink_id" /> 
    </output> 
  </function>  

  <function name="rpcf_edit_ip_slink_ex" id="0x2929">
    <input>
      <integer name="slink_id" default="0"/>
      <integer name="start_date" default="now()"/>
      <integer name="expire_date" default="max_time()"/>

      <integer name="ip_groups_count" default="size(ip_address)"/>
      <for name="i" from="0" count="size(ip_address)">
        <integer name="ip_address" array_index="i"/>
        <integer name="mask" array_index="i"/>
        <string name="mac" array_index="i" default=""/>
        <string name="iptraffic_login" array_index="i" default=""/>
        <string name="iptraffic_allowed_cid" array_index="i" default=""/>
        <string name="iptraffic_password" array_index="i" default=""/>
        <integer name="ip_not_vpn" array_index="i" default="0"/>
        <integer name="dont_use_fw" array_index="i" default="0"/>
        <integer name="router_id" array_index="i" default="0"/>
      </for>
      <integer name="quotas_count" default="size(quota)"/>
      <for name="i" from="0" count="size(quota)">
        <integer name="tclass_id" array_index="i"/>
        <long name="quota" array_index="i"/>
      </for>
    </input>
    <output>
      <integer name="slink_id" />
    </output>
  </function>
  
  <function name="rpcf_edit_iptraffic_service_link_ipv6" id="0x293b">
    <input>
      <integer name="slink_id" default="0"/>
        <integer name="start_date" default="now()"/>
        <integer name="expire_date" default="max_time()"/>
        <integer name="policy_id"/>
        <double  name="cost_coef"/>
        <integer name="ip_groups_count" default="size(ip_address)"/>
        <for name="i" from="0" count="size(ip_address)">
          <ip_address name="ip_address" array_index="i"/>
          <integer name="mask" array_index="i"/>
          <string name="mac" array_index="i" default=""/>
          <string name="iptraffic_login" array_index="i" default=""/>
          <string name="iptraffic_allowed_cid" array_index="i" default=""/>
          <string name="iptraffic_password" array_index="i" default=""/>
          <string name="pool_name" array_index="i" default=""/>
          <integer name="ip_not_vpn" array_index="i" default="0"/>
          <integer name="dont_use_fw" array_index="i" default="0"/>
          <integer name="router_id" array_index="i" default="0"/>              
          <integer name="switch_id" array_index="i" default="0"/>
          <integer name="port_id" array_index="i" default="0"/>
          <integer name="vlan_id" array_index="i" default="0"/>
          <integer name="pool_id" array_index="i" default="0"/>
        </for>
        <integer name="quotas_count" default="size(quota)"/>
        <for name="i" from="0" count="size(quota)">
          <integer name="tclass_id" array_index="i"/>
          <long name="quota" array_index="i"/>
        </for>
    </input>
    <output>
      <integer name="slink_id" />
    </output>
  </function>

  <function name="rpcf_user5_get_tariff_history" id="-0x15026">
    <input>
      <integer name="account_id" />
    </input>
    <output>
	 <integer name="size" />
	 <for name="i" from="0" count="size">
	   <integer name="tariff_id" array_index="i" />
	   <integer name="link_date" array_index="i" />
	   <integer name="unlink_date" array_index="i" />
	   <string name="tariff_name" array_index="i" />
	 </for>
    </output>
  </function>


    <function name="rpcf_user5_get_ui_settings" id="-0x403b">
      <input>
      </input>
      <output>
        <integer name="permissions" />
      </output>
    </function>

  <function name="rpcf_user5_get_account_external_id" id="-0x15030">
    <input>
      <integer name="account_id"/>
    </input>
    <output>
      <string name="external_id"/>
    </output>
  </function>

<function name="rpcf_get_periodic_service_ex" id="0x2130">
    <input>
      <integer name="sid" />
    </input>
    <output>
      <string name="service_name" />
      <string name="comment" />
      <integer name="link_by_default" />
      <double name="cost" />
      <integer name="deprecated" />
      <integer name="discount_method" />
      <integer name="param" />
      <integer name="tariff_id" />
      <integer name="parent_id" />
    </output>
  </function>
  

  <function name="rpcf_get_dialup_service_ex" id="0x2133">
    <input>
      <integer name="sid" />
    </input>
    <output>
      <string  name="service_name" />
      <string name="comment" />
      <integer name="link_by_default" />
      <integer name="is_dynamic" />
      <double name="cost" />
      <integer name="deprecated" />
      <integer name="discount_method" />
      <string name="pool_name" />
      <integer name="max_timeout" />
      <integer name="null_service_prepaid" />
      <integer name="radius_sessions_limit" />
      <string name="login_prefix" />
      <integer name="cost_size" />
      <for name="i" from="0" count="cost_size">
        <string name="tr_time" array_index="i" />
        <double name="param" array_index="i" />
        <integer name="id" array_index="i" />
      </for>
      <integer name="is_parent_id" />
      <integer name="tariff_id" />
      <integer name="parent_id" />
    </output>
  </function>

  <function name="rpcf_get_hotspot_service_ex" id="0x2132">
    <input>
      <integer name="sid" />
    </input>
    <output>
      <string name="service_name" />
      <string name="comment" />
      <integer name="link_by_default" />
      <integer name="is_dynamic" />
      <double name="cost" />
      <integer name="deprecated" />
      <integer name="discount_method" />
      <integer name="null_service_prepaid" />
      <integer name="radius_sessions_limit" />
      <double name="recv_cost" />
      <string name="rate_limit" />
      <integer name="hsd_allowed_net_size" />
      <for name="i" from="0" count="hsd_allowed_net_size">
        <integer name="allowed_net_id" array_index="i" />
        <integer name="allowed_net_value" array_index="i" />
      </for>
      <integer name="cost_size" />
      <for name="i" from="0" count="cost_size">
        <string name="tr_time" array_index="i" />
        <double name="param1" array_index="i" />
        <integer name="param2" array_index="i" />
      </for>
      <integer name="service_data_parent_id" />
      <integer name="tariff_id" />
      <integer name="parent_id" />
    </output>
  </function>

  <function name="rpcf_get_iptraffic_service_ex" id="0x2134">
    <input>
      <integer name="sid" />
    </input>
    <output>
      <string name="service_name" />
      <string name="comment" />
      <integer name="link_by_default" />
      <integer name="is_dynamic" />
      <double name="cost" />
      <integer name="deprecated" />
      <integer name="discount_method" />
      <integer name="sessions_limit"/>
      <integer name="null_service_prepaid" />
      <integer name="borders_count" />
      <for name="i" from="0" count="borders_count">
        <integer name="tclass" array_index="i" />
        <if variable="tclass" value="-1" condition="ne">
          <long name="borders_size" />
          <set dst="borders_size_array" src="borders_size" dst_index="i" /> 
          <for name="j" from="0" count="borders_size">
            <long name="border_id" array_index="i,j" />
            <double name="border_cost" array_index="i,j" />
          </for>
        </if>
      </for>
      <integer name="prepaid_count" />
      <for name="i" from="0" count="prepaid_count">
        <integer name="tclass" array_index="i" />
        <if variable="tclass" value="-1" condition="ne">
          <long name="prepaid_amount" array_index="i" />
          <long name="prepaid_max" array_index="i" />
        </if>
      </for>
      <integer name="tclass_id2group_size" />
      <for name="i" from="0" count="tclass_id2group_size">
        <integer name="tclass_id" array_index="i" />
        <integer name="tclass_group_id" array_index="i" />
      </for>
      <integer name="service_data_parent_id" />
      <integer name="tariff_id" />
      <integer name="parent_id" />
    </output>
  </function>

  <function name="rpcf_set_traffic_quota_on_link" id="0x5033">
    <input>
        <integer name="slink_id"/>
        <integer name="tclass_id"/>
        <long name="quota"/>
    </input>
    <output>
        <integer name="result"/>
    </output>
  </function>

  <function name="rpcf_get_timezone" id="0x11113">
    <input/>
    <output>
	<string name="tzname"/>
    </output>
  </function>

  <function name="rpcf_ic_get_users_list" id="0x14003">
  	<input>
		<integer name="from"/>
		<integer name="to"/>
	</input>
	<output>
		<integer name="users_count"/>
		<for name="i" from="0" count="users_count">
			<integer name="customer_id" array_index="i"/>
			<string name="login" array_index="i"/>
			<string name="full_name" array_index="i"/>
			<integer name="status" array_index="i"/>
			<integer name="last_sync_date" array_index="i"/>
			<string name="ic_id" array_index="i"/>
		</for>
	</output>
  </function>

    <function name="rpcf_is_tel_number_used" id="0x10311">
      <input>
        <integer name="slink_id"/>
        <string name="login"/>
        <string name="incoming_trunk"/>
        <string name="outgoing_trunk"/>
        <string name="pbx_id"/>
        <string name="number"/>
      </input>
      <output>
        <integer name="result"/>
      </output>
    </function>

    <function name="rpcf_get_tel_emergency_calls" id="0x15032">
      <input/>
      <output>
        <integer name="service_count"/>
        <for name="i" from="0" count="service_count">
          <integer name="service_id"/>
          <integer name="zone_count"/>
          <for name="j" from="0" count="zone_count">
            <integer name="zone_id_array" array_index="i"/>
          </for>
        </for>
      </output>
    </function>

    <function name="rpcf_set_tel_emergency_calls" id="0x15033">
      <input>
        <integer name="service_id"/>
        <integer name="zone_count" default="size(zone_id_array)"/>
        <for name="i" from="0" count="size(zone_id_array)">
          <integer name="zone_id_array" array_index="i"/>
        </for>
      </input>
      <output>
        <integer name="result"/>
      </output>
    </function>               
       
   <function name="rpcf_remove_dhcp_options" id="0x1102">
       <input>
           <integer name="id" />
           <integer name="type"/>
       </input>
       <output>
           <integer name="id" />
       </output>
   </function>
   
    <function name="rpcf_add_dhcp_options" id="0x1107">
        <input>   
           <integer name="owner_id" />
           <integer name="owner_type"/>
           <integer name="size"/>
           <for name="i" from="0" count="size">                
                <integer name="option_id" array_index="i"/>                
                <integer name="data_type" array_index="i"/>                
                <if variable="data_type" value="1" condition="eq">
                    <integer name="attr_data_int" array_index="i"/>
                </if>
                <if variable="data_type" value="2" condition="eq">
                    <string name="attr_data_string" array_index="i"/>
                </if>
                <if variable="data_type" value="3" condition="eq">
                    <ip_address name="attr_data_ip" array_index="i"/>
                </if>
                <if variable="data_type" value="4" condition="eq">
                    <string name="attr_data_hex_bin" array_index="i"/>
                </if>
                <if variable="data_type" value="5" condition="eq">
                    <integer name="ip_array_size"/>
                    <for name="ii" from="0" count="ip_array_size">
                        <ip_address name="attr_data_ip" array_index="i,ii"/>
                    </for>
                </if>
           </for>       
        </input> 
        <output>
            <integer name="result"/>
        </output>
   </function>  
   
    <function name="rpcf_get_dhcp_options_list" id="0x1101">
       <input>
           <integer name = "id"/> 
           <integer name = "type"/>
       </input>
       <output>
           <integer name = "size" />
           <for name="i" from="0" count="size">
                <integer name="id" array_index="i"/>
                <integer name="option_id" array_index="i"/>
                <integer name="owner_type" array_index="i"/>
                <integer name="owner_id" array_index="i"/>
                <integer name="data_type" array_index="i"/>                
                <if variable="data_type" value="1" condition="eq">
                    <integer name="attr_data_int" array_index="i"/>
                </if>
                <if variable="data_type" value="2" condition="eq">
                    <string name="attr_data_string" array_index="i"/>
                </if>
                <if variable="data_type" value="3" condition="eq">
                    <ip_address name="attr_data_ip" array_index="i"/>
                </if>
                <if variable="data_type" value="4" condition="eq">
                    <string name="attr_data_hex_bin" array_index="i"/>
                </if>
                <if variable="data_type" value="5" condition="eq">
                    <integer name="ip_array_size" array_index="i"/>
                    <for name="ii" from="0" count="ip_array_size">
                        <ip_address name="attr_data_ip" array_index="i,ii"/>
                    </for>
                </if>
           </for>
       </output>
   </function>      
   
    <function name = "rpcf_get_switch" id = "0x1150">        
        <input>
            <integer name = "id"/>
        </input>
        <output>
            <integer name = "id"/>
            <string name = "name"/>
            <string name = "location"/>
            <integer name = "type"/>
            <integer name = "ports_count"/>
            <string name = "remote_id"/>
            <ip_address name = "address"/>
            <string name = "login"/>
            <string name = "password"/>
        </output>
    </function>
    
    <function name = "rpcf_add_switch" id = "0x1151">        
        <input>            
            <string name = "name"/>
            <string name = "location"/>
            <integer name = "type"/>
            <integer name = "ports_count"/>
            <string name = "remote_id"/>
            <ip_address name = "address"/>
            <string name = "login"/>
            <string name = "password"/>
        </input>
        <output>
            <integer name = "id"/>
        </output>
    </function>
    
    <function name = "rpcf_remove_switch" id = "0x1152">
        <input>
            <integer name = "id"/>
        </input>
        <output>
            <integer name = "id"/>
        </output>
    </function>
    
    <function name = "rpcf_edit_switch" id = "0x1153">
        <input>            
            <integer name = "id"/>
            <string name = "name"/>
            <string name = "location"/>
            <integer name = "type"/>
            <integer name = "ports_count"/>
            <string name = "remote_id"/>
            <ip_address name = "address"/>
            <string name = "login"/>
            <string name = "password"/>
        </input>
        <output>
            <integer name = "id"/>
        </output>
    </function>
    
    <function name = "rpcf_get_switches_list" id = "0x1154">
        <input>
            <integer name = "offset"/>
            <integer name = "count"/>            
        </input>
        <output>
            <integer name="size"/>
            <for name="i" from="0" count="size">
                <integer name = "id" array_index = "i"/>
                <string name = "name" array_index = "i"/>
                <string name = "location" array_index = "i"/>
                <integer name = "type" array_index = "i"/>
                <integer name = "ports_count" array_index = "i"/>
                <string name = "remote_id" array_index = "i"/>
                <ip_address name = "address" array_index = "i"/>
                <string name = "login" array_index = "i"/>
                <string name = "password" array_index = "i"/>
            </for>
        </output>
    </function>
    
    <function name = "rpcf_get_switches_count" id = "0x1155">
        <output>
            <integer name = "count"/>
        </output>
    </function>
        
    <function name = "rpcf_count_switches" id = "0x1157">
        <input>
            <integer name = "field"/>
            <string name = "value"/>
        </input>
        <output>
            <integer name = "count"/>
        </output>
    </function>            
    
    <function name = "rpcf_search_switches" id = "0x1156">
        <input>
            <integer name = "status"/>
            <integer name = "params_cnt"/>
            <for name="i" from="0" count="params_cnt">
                <integer name = "field" array_index = "i"/>
                <integer name = "criteria" array_index = "i"/>
                <string name = "value" array_index = "i"/>
            </for>    
        </input>        
        <output>
            <integer name="size"/>
            <if variable="size" value="-1" condition="ne">
              <if variable="size" value="-2" condition="ne"> 
                <if variable="size" value="-3" condition="ne">
                  <if variable="size" value="-4" condition="ne">                                              
                    <for name="i" from="0" count="size">
                        <integer name = "id" array_index = "i"/>
                        <string name = "name" array_index = "i"/>
                        <string name = "location" array_index = "i"/>
                        <integer name = "type" array_index = "i"/>
                        <integer name = "ports_count" array_index = "i"/>
                        <string name = "remote_id" array_index = "i"/>
                        <ip_address name = "address" array_index = "i"/>
                        <string name = "login" array_index = "i"/>
                        <string name = "password" array_index = "i"/>
                    </for>
                  </if>  
                </if>      
              </if> 
            </if>
        </output>
    </function>
    
    <function name = "rpcf_get_switch_ports_usage" id = "0x1158">
        <input>
            <integer name = "switch_id"/>
        </input>    
        <output>
            <integer name = "ports_size"/>
            <for name="i" from="0" count="ports_size">
                <integer name = "port_id" array_index = "i"/>
                <integer name = "users_size" array_index = "i"/>                
                <for name = "ii" from = "0" count = "users_size">
                    <integer name = "user_id" array_index = "i,ii"/>
                    <string name = "login" array_index = "i,ii"/>
                </for>
            </for>    
        </output>
    </function>
        
    <function name = "rpcf_get_switch_type" id = "0x505">
        <input>
            <integer name = "id"/>
        </input>
        <output>
            <integer name = "id"/>
            <string name = "name"/>
            <string name = "supp_volumes"/>
            <integer name = "port_start_offset"/>
            <integer name = "tec_id_type"/>
            <integer name = "tec_id_len"/>
            <integer name = "tec_id_disp"/>
            <integer name = "tec_id_offset"/>
            <integer name = "port_id_type"/>
            <integer name = "port_id_len"/>
            <integer name = "port_id_disp"/>
            <integer name = "port_id_offset"/>
            <integer name = "vlan_id_type"/>
            <integer name = "vlan_id_len"/>
            <integer name = "vlan_id_disp"/>
            <integer name = "vlan_id_offset"/>
        </output>
    </function>
    
    <function name = "rpcf_add_switch_type" id = "0x506">
         <input>            
            <string name = "name"/>
            <string name = "supp_volumes"/>
            <integer name = "port_start_offset"/>
            <integer name = "tec_id_type"/>
            <integer name = "tec_id_len"/>
            <integer name = "tec_id_disp"/>
            <integer name = "tec_id_offset"/>
            <integer name = "port_id_type"/>
            <integer name = "port_id_len"/>
            <integer name = "port_id_disp"/>
            <integer name = "port_id_offset"/>
            <integer name = "vlan_id_type"/>
            <integer name = "vlan_id_len"/>
            <integer name = "vlan_id_disp"/>
            <integer name = "vlan_id_offset"/>
        </input>
        <output>
            <integer name = "id"/>
        </output>
    </function>
    
    <function name = "rpcf_remove_switch_type" id = "0x502">
        <input>
            <integer name = "id"/>
        </input>
        <output>
            <integer name = "id"/>
        </output>
    </function>
    
    <function name = "rpcf_edit_switch_type" id = "0x507">
        <input>            
            <integer name = "id"/>
            <string name = "name"/>
            <string name = "supp_volumes"/>
            <integer name = "port_start_offset"/>
            <integer name = "tec_id_type"/>
            <integer name = "tec_id_len"/>
            <integer name = "tec_id_disp"/>
            <integer name = "tec_id_offset"/>
            <integer name = "port_id_type"/>
            <integer name = "port_id_len"/>
            <integer name = "port_id_disp"/>
            <integer name = "port_id_offset"/>
            <integer name = "vlan_id_type"/>
            <integer name = "vlan_id_len"/>
            <integer name = "vlan_id_disp"/>
            <integer name = "vlan_id_offset"/>
        </input>
        <output>
            <integer name = "id"/>
        </output>
    </function>
    
    <function name = "rpcf_get_switch_types_list" id = "0x508">
        <output>
            <integer name = "size"/>
            <for name="i" from="0" count="size">
                <integer name = "id" array_index="i"/>
                <string name = "name" array_index="i"/>
                <string name = "supp_volumes" array_index="i"/>
                <integer name = "port_start_offset" array_index="i"/>
                <integer name = "tec_id_type" array_index="i"/>
                <integer name = "tec_id_len" array_index="i"/>
                <integer name = "tec_id_disp" array_index="i"/>
                <integer name = "tec_id_offset" array_index="i"/>
                <integer name = "port_id_type" array_index="i"/>
                <integer name = "port_id_len" array_index="i"/>
                <integer name = "port_id_disp" array_index="i"/>
                <integer name = "port_id_offset" array_index="i"/>
                <integer name = "vlan_id_type" array_index="i"/>
                <integer name = "vlan_id_len" array_index="i"/>
                <integer name = "vlan_id_disp" array_index="i"/>
                <integer name = "vlan_id_offset" array_index="i"/>
            </for>
        </output>
    </function>
    
    <function name = "rpcf_get_dhcp_pool" id = "0x700">
        <input>
            <integer name = "id"/>
        </input>
        <output>
            <integer name = "id"/>
            <ip_address name = "gateway"/>
            <ip_address name = "netmask"/>
            <ip_address name = "dns1_server"/>
            <ip_address name = "dns2_server"/>
            <ip_address name = "ntp_server"/>
            <string name = "domain_name"/>            
            <integer name = "block_action_type"/>
            <integer name = "lease_time"/>
            <integer name = "flags"/>
            <integer name = "ranges_size"/>
            <for name = "i" from = "0" count = "ranges_size">
               <ip_address name = "range_first_addr" array_index="i"/>
               <ip_address name = "range_last_addr" array_index="i"/>
               <integer name = "range_flags" array_index="i"/>                
            </for>
        </output>
    </function>                

    <function name = "rpcf_add_dhcp_pool" id = "0x701">
        <input>            
            <ip_address name = "gateway"/>
            <ip_address name = "netmask"/>
            <ip_address name = "dns1_server"/>
            <ip_address name = "dns2_server"/>
            <ip_address name = "ntp_server"/>
            <string name = "domain_name"/>            
            <integer name = "block_pool_id"/>
            <integer name = "lease_time"/>
            <integer name = "flags"/>
            <integer name = "ranges_size"/>
            <for name = "i" from = "0" count = "ranges_size">
                <ip_address name = "range_first_addr" array_index="i"/>
                <ip_address name = "range_last_addr" array_index="i"/>
                <integer name = "range_flags" array_index="i"/>                
            </for>
        </input>
        <output>
            <integer name = "id"/>
        </output>
    </function>
    
    <function name = "rpcf_remove_dhcp_pool" id = "0x702">
        <input>
            <integer name = "id"/>
        </input>
        <output>
            <integer name = "id"/>
        </output>
    </function>            
        
    <function name = "rpcf_edit_dhcp_pool" id = "0x703">
        <input>
            <integer name = "id"/>
            <ip_address name = "gateway"/>
            <ip_address name = "netmask"/>
            <ip_address name = "dns1_server"/>
            <ip_address name = "dns2_server"/>
            <ip_address name = "ntp_server"/>
            <string name = "domain_name"/>            
            <integer name = "block_pool_id"/>
            <integer name = "lease_time"/>
            <integer name = "flags"/>    
            <integer name = "ranges_size"/>
            <for name = "i" from = "0" count = "ranges_size">
                <ip_address name = "range_first_addr" array_index="i"/>
                <ip_address name = "range_last_addr" array_index="i"/>
                <integer name = "range_flags" array_index="i"/>                
            </for>
        </input>
        <output>
            <integer name = "id"/>
        </output>
    </function>
    
    <function name = "rpcf_get_dhcp_pool_list" id = "0x704">        
        <output>
            <integer name = "size"/>
            <for name = "i" from = "0" count = "size">
                <integer name = "id" array_index="i"/>
                <ip_address name = "gateway" array_index="i"/>
                <ip_address name = "netmask" array_index="i"/>
                <ip_address name = "dns1_server" array_index="i"/>
                <ip_address name = "dns2_server" array_index="i"/>
                <ip_address name = "ntp_server" array_index="i"/>
                <string name = "domain_name" array_index="i"/>            
                <integer name = "block_action_type" array_index="i"/>
                <integer name = "lease_time" array_index="i"/>
                <integer name = "flags" array_index="i"/>
                <integer name = "ranges_size" array_index="i"/>
                <for name = "ii" from = "0" count = "ranges_size">
                    <ip_address name = "range_last_addr" array_index="i,ii"/>
                    <ip_address name = "range_last_addr" array_index="i,ii"/>                    
                </for>
            </for>
        </output>
    </function>     
    
    <function name = "rpcf_get_leases_list" id = "0x1350">        
        <output>
            <integer name = "size"/>
            <for name = "i" from = "0" count = "size">
                <integer name = "id" array_index="i"/>
                <ip_address name = "ip" array_index="i"/>
                <string name = "mac" array_index="i"/>
                <string name = "server_id" array_index="i"/>
                <string name = "client_id" array_index="i"/>
                <integer name = "expired" array_index="i"/>
                <integer name = "updated" array_index="i"/>
                <integer name = "ipgroup_item_id" array_index="i"/>
                <integer name = "flags" array_index="i"/>
            </for>            
        </output>
    </function>
    
    <function name = "rpcf_make_lease_overdue" id = "0x1351">        
        <input>
            <integer name = "id"/>
        </input>
        <output>
            <integer name = "ret_code"/>
        </output>
    </function>
    
    <function name = "rpcf_remove_lease" id = "0x1352">        
        <input>
            <integer name = "id"/>
        </input>
        <output>
            <integer name = "ret_code"/>
        </output>
    </function>

    <function name="rpcf_add_ip_to_slink" id="0x1510d">
      <input>
        <integer name="slink_id"/>
        <ip_address name="ip"/>
        <integer name="mask"/>
        <string name="mac" default=""/>
        <string name="login" default=""/>
        <string name="allowed_cid" default=""/>
        <string name="password" default=""/>
        <string name="pool_name" default=""/>
        <integer name="is_skip_radius" default="0"/>
        <integer name="is_skip_rfw" default="0"/>
        <integer name="router_id" default="0"/>
        <integer name="switch_id" default="0"/>
        <integer name="port_id" default="0"/>
        <integer name="vlan_id" default="0"/>
        <integer name="pool_id" default="0"/>                
      </input>
      <output>
        <integer name="result"/>
        <string name="err_desc"/>
      </output>
    </function>

    <function name="rpcf_remove_ip_from_slink" id="0x1510e">
      <input>
        <integer name="slink_id"/>
        <ip_address name="ip"/>
        <integer name="mask"/>
        <string name="login" default=""/>
        <string name="mac" default=""/>
        <integer name="switch_id" default="0"/>
        <integer name="port_id" default="0"/>
        <integer name="vlan_id" default="0"/>
      </input>
      <output>
        <integer name="result"/>
        <string name="err_desc"/>
      </output>
    </function>
</urfa>

